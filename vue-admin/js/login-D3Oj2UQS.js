import{d as k,e as N,Q as u,g as a,a as i,h as t,t as c,u as g,k as l,i as S,E as b,y as d,F as C,s as L}from"./vendor-DctTrLAr.js";import{s as V,m,o as E}from"./index-_MjRvhKC.js";import{l as B}from"./common-GXP45X4h.js";import{_ as D}from"./index.vue_vue_type_style_index_0_lang-C4WZgOgm.js";const M={class:"login-page"},R={class:"content"},T={class:"title"},U={class:"form-box"},$={class:"login-form"},j=t("div",{class:"login-title"},"平台登录",-1),F=["disabled"],J=["disabled"],O={class:"tips_text f1"},A=["disabled","onClick"],f="login-info",G="Copyright © Travis-hjs.github.io All Rights Reserved 请使用 Google Chrome、Microsoft Edge、360浏览器、非 IE 等浏览器",W=k({__name:"login",setup(P){const _=["admin","normal"],v=V.projectInfo,e=N({loading:!1,form:{account:"",password:""},remember:!1});function h(n){e.form.account=n,e.form.password=Math.random().toString(36).substr(2),p(!0)}function p(n){async function o(){e.loading=!0;const r=await B(e.form);e.loading=!1,r.code===1?(x(),E()):m.error(r.msg)}if(n)return o();if(!e.form.account)return m.error("请输入账号");if(!e.form.password)return m.error("请输入密码");o()}function x(){e.remember?localStorage.setItem(f,JSON.stringify({remember:!0,...e.form})):localStorage.removeItem(f)}function y(){const n=localStorage.getItem(f);if(n)try{const o=JSON.parse(n);e.remember=!!o.remember,e.form=o}catch(o){console.warn(o)}}return y(),(n,o)=>{const r=u("ripple"),w=u("copy");return i(),a("div",M,[t("div",R,[t("div",T,[t("span",null,c(g(v).name),1)]),t("div",U,[t("div",$,[j,l(t("input",{class:"the-input mb-[20px]",type:"text","onUpdate:modelValue":o[0]||(o[0]=s=>e.form.account=s),placeholder:"请输入账号"},null,512),[[b,e.form.account]]),l(t("input",{class:"the-input mb-[20px]",type:"password","onUpdate:modelValue":o[1]||(o[1]=s=>e.form.password=s),placeholder:"请输入密码"},null,512),[[b,e.form.password]]),l((i(),a("button",{class:"the-btn blue mb-[20px] w-full",onClick:o[2]||(o[2]=s=>p(!1)),disabled:e.loading},[d(c(e.loading?"登录中...":"登录"),1)],8,F)),[[r]]),S(g(D),{class:"mb-[20px]",value:e.remember,"onUpdate:value":o[3]||(o[3]=s=>e.remember=s),label:"记住账号/密码"},null,8,["value"]),(i(),a(C,null,L(_,(s,I)=>t("div",{class:"tips f-vertical",key:I},[l((i(),a("button",{class:"the-btn mini green",disabled:e.loading},[d("点击复制")],8,J)),[[r],[w,s]]),t("div",O,"账号: "+c(s)+"; 密码: 随便填",1),l((i(),a("button",{class:"the-btn mini blue",disabled:e.loading,onClick:Q=>h(s)},[d("一键登录")],8,A)),[[r]])])),64))])]),t("div",{class:"bottom-text"},c(G))])])}}});export{W as default};
