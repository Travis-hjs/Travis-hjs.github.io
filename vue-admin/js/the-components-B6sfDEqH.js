import{m as E,b as j,d as H}from"./index-BMdqQtYe.js";import{d as U,e as B,r as L,o,a as l,b as e,n as z,c as q,m as C,B as A,t as v,l as P,g as G,i as J,f as M,P as K,j as f,u as y,k as r,z as h,w as p,F as D,q as T,y as Q}from"./vendor-DJYzZIlN.js";import{u as R}from"./common-Cn17H942.js";const W={class:"the-upload-image"},X={key:0,class:"the-upload-image-box"},Y=["src"],Z={class:"remove fvc"},ee=e("div",{class:"the-upload-add-icon"},null,-1),te={key:0,class:"the-upload-tip"},se={name:"UploadImage"},F=U({...se,props:{src:{type:String,default:""},uploadId:{type:[String,Number],default:""},width:{type:String,default:"178px"},height:{type:String,default:"178px"},autoHeight:{type:Boolean,default:!1},tip:{type:[String,Number],default:""},maxSize:{type:Number,default:5},disabled:{type:Boolean,default:!1}},emits:["change"],setup(n,{emit:g}){const a=n,d=g,i=B(),b=B(!1);async function N(){const w=i.value,m=w.files[0];if(w.value="",m.size>a.maxSize*1024*1024){E.warning(`上传的文件不能大于 ${a.maxSize}M`);return}const k=new FormData;k.append("file",m),b.value=!0;const _=await R(k);if(b.value=!1,console.log("上传图片 >>",_),_.code===1){const S=_.data.url;d("change",{id:a.uploadId,src:S})}}function x(){d("change",{id:a.uploadId,src:""})}return(w,m)=>{const k=L("svg-icon");return o(),l("div",W,[e("div",{class:"the-upload-content",style:z({width:n.width})},[n.src?(o(),l("div",X,[e("img",{class:"image",src:n.src,style:z({height:n.autoHeight?void 0:n.height})},null,12,Y),e("div",Z,[n.disabled?C("",!0):(o(),q(k,{key:0,name:"delete",onClick:m[0]||(m[0]=_=>x())}))])])):(o(),l("div",{key:1,class:"the-upload-box fvc",style:z({height:n.height})},[ee,n.disabled?C("",!0):(o(),l("input",{key:0,class:"the-upload-input",type:"file",accept:"image/*",name:"picture",ref_key:"uploadInput",ref:i,onChange:m[1]||(m[1]=A(_=>N(),["stop"]))},null,544))],4))],4),n.tip?(o(),l("p",te,v(b.value?"上传中...":n.tip),1)):C("",!0)])}}}),oe={name:"CollapseHeight"},O=U({...oe,props:{show:{type:Boolean}},setup(n){const g=n,a=B();return P(()=>g.show,function(d,i){d!==i&&(d?V(a.value):ne(a.value))}),G(function(){const d=a.value;d.addEventListener("transitionend",function(){g.show?d.style.height="":d.style.display="none"}),d.clientHeight>0&&V(d)}),(d,i)=>(o(),l("section",{class:"collapse-height",ref_key:"collapseBox",ref:a},[J(d.$slots,"default")],512))}});function V(n){if(!n)return;n.style.display="",n.style.height="";const g=n.clientHeight;n.style.height="0px",n.offsetHeight,n.style.height=`${g}px`}function ne(n){if(!n)return;const g=n.clientHeight;n.style.height=`${g}px`,n.offsetHeight,n.style.height="0px"}const le={class:"the-components"},ie=e("div",{class:"mgb-30"},[e("h2",{class:"the-title is-line"},"上传图片组件")],-1),ae={class:"flex mgb-40"},de={class:"mgb-30"},ce=e("h2",{class:"the-title is-line mgr-40"},"滚动条组件",-1),ue=e("div",{class:"mgb-20"},[e("span",{class:"the-tag green"},"横向滚动")],-1),re={class:"list-x mgb-40"},he=e("div",{class:"mgb-20"},[e("span",{class:"the-tag blue"},"垂直滚动")],-1),ge={class:"list-y mgb-40"},pe=e("div",{class:"mgb-10"},[e("span",{class:"the-tag cyan"},"宽高超出滚动")],-1),me={style:{width:"300px",height:"140px"},class:"mgb-30"},fe=e("div",{style:{width:"500px",height:"300px","background-color":"yellow",color:"#555","line-height":"28px"}},[e("p",null,"内容内容内容内容内容内容内容"),e("p",null,"内容内容内容内容内容内容内容内容内容"),e("p",null,"内容内容内容内容内容内容内容")],-1),be=e("div",{class:"mgb-30"},[e("h2",{class:"the-title is-line mgr-40"},"折叠盒子")],-1),ve={class:"mgb-20"},we={class:"flex"},_e=e("div",{class:"collapse-box"},"box-one",-1),ye=e("div",{class:"collapse-box"},"box-two",-1),xe=e("div",{class:"mgb-30"},[e("h2",{class:"the-title is-line mgr-40"},"自定义全局 Dialog 组件")],-1),ke={class:"flex mgb-50"},$e=e("div",{class:"f1"},null,-1),Ce={class:"mgb-10"},Be={key:0},Ne=e("p",null,[e("span",{class:"the-tag orange"},"当前不可点击遮罩层关闭")],-1),Se={class:"mgb-10"},De={key:0},Te={class:"mgb-10"},Ie={class:"dialog-list mgt-10"},He=e("div",{class:"mgb-30"},[e("h2",{class:"the-title is-line"},"自定义 Message 控件")],-1),ze={class:"mgb-50"},Me=["onClick"],Ue=e("div",{class:"mgb-30"},[e("h2",{class:"the-title is-line"},"自定义 MessageBox 控件")],-1),Fe={class:"mgb-50"},je=U({__name:"the-components",setup(n){const g=M({banner:"",logo:""}),a=B(new Array(10).fill(0).map((c,t)=>t+1));function d(c){g[c.id]=c.src}const i=M({first:{show:!1,count:0},second:{show:!1,count:0},third:{show:!1,count:0}}),b=B(!1);let N;function x(c){i[c].count++,i[c].show=!0,N=setTimeout(()=>{b.value=!0},2e3)}function w(c){i[c].show=!1,m()}function m(){b.value=!1,clearTimeout(N)}const k=[{label:"message-info",type:"info",className:"blue"},{label:"message-success",type:"success",className:"green"},{label:"message-warning",type:"warning",className:"yellow"},{label:"message-error",type:"error",className:"red"}];function _(c){E.show(`This is a prompt message for ${c.type}`,c.type)}function S(c=!1){j({content:c?"确认取消框":"确认框",cancelText:c?"取消":void 0})}const $=M({showOne:!0,showTwo:!0});return(c,t)=>{const I=L("base-dialog"),u=K("ripple");return o(),l("div",le,[ie,e("div",ae,[f(y(F),{uploadId:"logo",src:g.logo,tip:"正方形图片",onChange:d},null,8,["src"]),f(y(F),{uploadId:"banner",src:g.banner,tip:"高度自适应",autoHeight:!0,onChange:d},null,8,["src"])]),e("div",de,[ce,r((o(),l("button",{class:"the-btn green",onClick:t[0]||(t[0]=()=>a.value.push(a.value.length+1))},[h("添加一个列表 item")])),[[u]]),r((o(),l("button",{class:"the-btn yellow",onClick:t[1]||(t[1]=s=>x("first"))},[h("打开弹出层-1")])),[[u]])]),ue,e("div",re,[f(y(H),{thumbColor:"#42b983"},{default:p(()=>[(o(!0),l(D,null,T(a.value,s=>(o(),l("div",{class:"item item-text",key:s},"item-"+v(s),1))),128))]),_:1})]),he,e("div",ge,[f(y(H),{thumbColor:"#42b983"},{default:p(()=>[(o(!0),l(D,null,T(a.value,s=>(o(),l("div",{class:"item item-text",key:s},"item-"+v(s),1))),128))]),_:1})]),pe,e("div",me,[f(y(H),null,{default:p(()=>[fe]),_:1})]),be,e("section",null,[e("div",ve,[r((o(),l("button",{class:"the-btn blue",onClick:t[2]||(t[2]=s=>$.showOne=!$.showOne)},[h("box-one switch")])),[[u]]),r((o(),l("button",{class:"the-btn blue",onClick:t[3]||(t[3]=s=>$.showTwo=!$.showTwo)},[h("box-one switch")])),[[u]])]),e("div",we,[f(y(O),{show:$.showOne,class:"mgr-20"},{default:p(()=>[_e]),_:1},8,["show"]),f(y(O),{show:$.showTwo},{default:p(()=>[ye]),_:1},8,["show"])])]),xe,e("div",ke,[r((o(),l("button",{class:"the-btn blue",onClick:t[4]||(t[4]=s=>x("first"))},[h("打开弹出层-1")])),[[u]]),$e,r((o(),l("button",{class:"the-btn green",onClick:t[5]||(t[5]=s=>x("second"))},[h("打开弹出层-2")])),[[u]])]),f(I,{title:"第一个 dialog",show:i.first.show,"onUpdate:show":t[7]||(t[7]=s=>i.first.show=s),"close-by-mask":"",onClose:t[8]||(t[8]=s=>m())},{footer:p(()=>[r((o(),l("button",{class:"the-btn red",onClick:t[6]||(t[6]=s=>w("first"))},[h("关闭")])),[[u]])]),default:p(()=>[e("div",null,[e("p",Ce,"出现次数："+v(i.first.count),1),b.value?(o(),l("div",Be,"延迟出现")):C("",!0)])]),_:1},8,["show"]),f(I,{title:"第二个 dialog",show:i.second.show,"onUpdate:show":t[14]||(t[14]=s=>i.second.show=s)},{footer:p(()=>[r((o(),l("button",{class:"the-btn red",onClick:t[12]||(t[12]=s=>w("second"))},[h("关闭")])),[[u]]),r((o(),l("button",{class:"the-btn blue",onClick:t[13]||(t[13]=s=>x("third"))},[h("打开嵌套 Dialog")])),[[u]])]),default:p(()=>[e("div",null,[Ne,e("p",Se,"出现次数："+v(i.second.count),1),b.value?(o(),l("div",De,"延迟出现")):C("",!0),f(I,{title:"第三个 dialog",show:i.third.show,"onUpdate:show":t[11]||(t[11]=s=>i.third.show=s),"append-to-body":""},{footer:p(()=>[r((o(),l("button",{class:"the-btn red",onClick:t[10]||(t[10]=s=>w("third"))},[h("关闭嵌套 Dialog")])),[[u]])]),default:p(()=>[e("div",null,[e("p",Te,"出现次数："+v(i.third.count),1),e("div",null,[e("button",{class:"the-btn blue",onClick:t[9]||(t[9]=s=>a.value.splice(0,1))},"移除第一项")]),e("ul",Ie,[(o(!0),l(D,null,T(a.value,s=>(o(),l("li",{class:"dialog-item f-vertical",key:s},v(s),1))),128))])])]),_:1},8,["show"])])]),_:1},8,["show"]),He,e("div",ze,[(o(),l(D,null,T(k,s=>r(e("button",{class:Q(["the-btn",s.className]),key:s.type,onClick:Oe=>_(s)},[h(v(s.label),1)],10,Me),[[u]])),64))]),Ue,e("div",Fe,[r((o(),l("button",{class:"the-btn blue",onClick:t[15]||(t[15]=s=>S())},[h("打开确认框")])),[[u]]),r((o(),l("button",{class:"the-btn green",onClick:t[16]||(t[16]=s=>S(!0))},[h("打开确认取消框")])),[[u]])])])}}});export{je as default};
