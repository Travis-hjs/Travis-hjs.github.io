import{e as j,m as L,b as A,f as z}from"./index-CrqFMLCv.js";import{d as O,b as N,g as n,a as o,h as s,m as B,n as M,c as q,u as c,B as G,t as w,l as J,o as K,j as P,e as U,i as h,k as p,y as f,w as b,F as T,s as I,r as Q,O as R,x as W}from"./vendor-CXPWdb6f.js";import{u as X}from"./common-fyrvM4kL.js";const Y={class:"the-upload-image"},Z={key:0,class:"the-upload-image-box"},_=["src"],tt={class:"remove fvc"},st={key:0,class:"the-upload-tip"},et={name:"UploadImage"},F=O({...et,props:{src:{type:String,default:""},uploadId:{type:[String,Number],default:""},width:{type:String,default:"178px"},height:{type:String,default:"178px"},autoHeight:{type:Boolean,default:!1},tip:{type:[String,Number],default:""},maxSize:{type:Number,default:5},disabled:{type:Boolean,default:!1}},emits:["change"],setup(l,{emit:m}){const a=l,d=m,i=N(),v=N(!1);async function S(){const x=i.value,g=x.files[0];if(x.value="",g.size>a.maxSize*1024*1024){L.warning(`上传的文件不能大于 ${a.maxSize}M`);return}const k=new FormData;k.append("file",g),v.value=!0;const C=await X(k);if(v.value=!1,console.log("上传图片 >>",C),C.code===1){const D=C.data.url;d("change",{id:a.uploadId,src:D})}}function y(){d("change",{id:a.uploadId,src:""})}return(x,g)=>(o(),n("div",Y,[s("div",{class:"the-upload-content",style:M({width:l.width})},[l.src?(o(),n("div",Z,[s("img",{class:"image",src:l.src,style:M({height:l.autoHeight?void 0:l.height})},null,12,_),s("div",tt,[l.disabled?B("",!0):(o(),q(c(j),{key:0,size:"28px",name:"ep:delete",class:"cursor-pointer",onClick:g[0]||(g[0]=k=>y())}))])])):(o(),n("div",{key:1,class:"the-upload-box fvc",style:M({height:l.height})},[g[2]||(g[2]=s("div",{class:"the-upload-add-icon"},null,-1)),l.disabled?B("",!0):(o(),n("input",{key:0,class:"the-upload-input",type:"file",accept:"image/*",name:"picture",ref_key:"uploadInput",ref:i,onChange:g[1]||(g[1]=G(k=>S(),["stop"]))},null,544))],4))],4),l.tip?(o(),n("p",st,w(v.value?"上传中...":l.tip),1)):B("",!0)]))}}),ot={name:"CollapseHeight"},V=O({...ot,props:{show:{type:Boolean}},setup(l){const m=l,a=N();return J(()=>m.show,function(d,i){d!==i&&(d?E(a.value):lt(a.value))}),K(function(){const d=a.value;d.addEventListener("transitionend",function(){m.show?d.style.height="":d.style.display="none"}),d.clientHeight>0&&E(d)}),(d,i)=>(o(),n("section",{class:"collapse-height",ref_key:"collapseBox",ref:a},[P(d.$slots,"default")],512))}});function E(l){if(!l)return;l.style.display="",l.style.height="";const m=l.clientHeight;l.style.height="0px",l.offsetHeight,l.style.height=`${m}px`}function lt(l){if(!l)return;const m=l.clientHeight;l.style.height=`${m}px`,l.offsetHeight,l.style.height="0px"}const nt={class:"the-components"},it={class:"flex mb-[40px]"},at={class:"mb-[30px]"},dt={class:"list-x mb-[40px]"},ut={class:"list-y mb-[40px]"},rt={style:{width:"300px",height:"140px"},class:"mb-[30px]"},pt={class:"mb-[20px]"},ft={class:"flex"},mt={class:"flex mb-[50px]"},gt={class:"mb-[10px]"},bt={key:0},ht={class:"mb-[10px]"},vt={key:0},ct={class:"mb-[10px]"},wt={class:"dialog-list mt-[10px]"},xt={class:"mb-[50px]"},yt=["onClick"],kt={class:"mb-[50px]"},St=O({__name:"the-components",setup(l){const m=U({banner:"",logo:""}),a=N(new Array(10).fill(0).map((u,t)=>t+1));function d(u){m[u.id]=u.src}const i=U({first:{show:!1,count:0},second:{show:!1,count:0},third:{show:!1,count:0}}),v=N(!1);let S;function y(u){i[u].count++,i[u].show=!0,S=setTimeout(()=>{v.value=!0},2e3)}function x(u){i[u].show=!1,g()}function g(){v.value=!1,clearTimeout(S)}const k=[{label:"message-info",type:"info",className:"blue"},{label:"message-success",type:"success",className:"green"},{label:"message-warning",type:"warning",className:"yellow"},{label:"message-error",type:"error",className:"red"}];function C(u){L.show(`This is a prompt message for ${u.type}`,u.type)}function D(u=!1){A({content:u?"确认取消框":"确认框",cancelText:u?"取消":void 0})}const $=U({showOne:!0,showTwo:!0});return(u,t)=>{const H=Q("base-dialog"),r=R("ripple");return o(),n("div",nt,[t[35]||(t[35]=s("div",{class:"mb-[30px]"},[s("h2",{class:"the-title is-line"},"上传图片组件")],-1)),s("div",it,[h(c(F),{uploadId:"logo",src:m.logo,tip:"正方形图片",onChange:d},null,8,["src"]),h(c(F),{uploadId:"banner",src:m.banner,tip:"高度自适应",autoHeight:!0,onChange:d},null,8,["src"])]),s("div",at,[t[19]||(t[19]=s("h2",{class:"the-title is-line mr-[30px]"},"滚动条组件",-1)),p((o(),n("button",{class:"the-btn green",onClick:t[0]||(t[0]=()=>a.value.push(a.value.length+1))},[...t[17]||(t[17]=[f("添加一个列表 item",-1)])])),[[r]]),p((o(),n("button",{class:"the-btn yellow",onClick:t[1]||(t[1]=e=>y("first"))},[...t[18]||(t[18]=[f("打开弹出层-1",-1)])])),[[r]])]),t[36]||(t[36]=s("div",{class:"mb-[20px]"},[s("span",{class:"the-tag green"},"横向滚动")],-1)),s("div",dt,[h(c(z),{thumbColor:"#42b983"},{default:b(()=>[(o(!0),n(T,null,I(a.value,e=>(o(),n("div",{class:"item item-text",key:e},"item-"+w(e),1))),128))]),_:1})]),t[37]||(t[37]=s("div",{class:"mb-[20px]"},[s("span",{class:"the-tag blue"},"垂直滚动")],-1)),s("div",ut,[h(c(z),{thumbColor:"#42b983"},{default:b(()=>[(o(!0),n(T,null,I(a.value,e=>(o(),n("div",{class:"item item-text",key:e},"item-"+w(e),1))),128))]),_:1})]),t[38]||(t[38]=s("div",{class:"mb-[10px]"},[s("span",{class:"the-tag cyan"},"宽高超出滚动")],-1)),s("div",rt,[h(c(z),null,{default:b(()=>[...t[20]||(t[20]=[s("div",{style:{width:"500px",height:"300px","background-color":"yellow",color:"#555","line-height":"28px"}},[s("p",null,"内容内容内容内容内容内容内容"),s("p",null,"内容内容内容内容内容内容内容内容内容"),s("p",null,"内容内容内容内容内容内容内容")],-1)])]),_:1})]),t[39]||(t[39]=s("div",{class:"mb-[30px]"},[s("h2",{class:"the-title is-line"},"折叠盒子")],-1)),s("section",null,[s("div",pt,[p((o(),n("button",{class:"the-btn blue",onClick:t[2]||(t[2]=e=>$.showOne=!$.showOne)},[...t[21]||(t[21]=[f("box-one switch",-1)])])),[[r]]),p((o(),n("button",{class:"the-btn blue",onClick:t[3]||(t[3]=e=>$.showTwo=!$.showTwo)},[...t[22]||(t[22]=[f("box-one switch",-1)])])),[[r]])]),s("div",ft,[h(c(V),{show:$.showOne,class:"mr-[20px]"},{default:b(()=>[...t[23]||(t[23]=[s("div",{class:"collapse-box"},"box-one",-1)])]),_:1},8,["show"]),h(c(V),{show:$.showTwo},{default:b(()=>[...t[24]||(t[24]=[s("div",{class:"collapse-box"},"box-two",-1)])]),_:1},8,["show"])])]),t[40]||(t[40]=s("div",{class:"mb-[30px]"},[s("h2",{class:"the-title is-line"},"自定义全局 Dialog 组件")],-1)),s("div",mt,[p((o(),n("button",{class:"the-btn blue",onClick:t[4]||(t[4]=e=>y("first"))},[...t[25]||(t[25]=[f("打开弹出层-1",-1)])])),[[r]]),t[27]||(t[27]=s("div",{class:"f1"},null,-1)),p((o(),n("button",{class:"the-btn green",onClick:t[5]||(t[5]=e=>y("second"))},[...t[26]||(t[26]=[f("打开弹出层-2",-1)])])),[[r]])]),h(H,{title:"第一个 dialog",show:i.first.show,"onUpdate:show":t[7]||(t[7]=e=>i.first.show=e),"close-by-mask":"",onClose:t[8]||(t[8]=e=>g())},{footer:b(()=>[p((o(),n("button",{class:"the-btn red",onClick:t[6]||(t[6]=e=>x("first"))},[...t[28]||(t[28]=[f("关闭",-1)])])),[[r]])]),default:b(()=>[s("div",null,[s("p",gt,"出现次数："+w(i.first.count),1),v.value?(o(),n("div",bt,"延迟出现")):B("",!0)])]),_:1},8,["show"]),h(H,{title:"第二个 dialog",show:i.second.show,"onUpdate:show":t[14]||(t[14]=e=>i.second.show=e)},{footer:b(()=>[p((o(),n("button",{class:"the-btn red",onClick:t[12]||(t[12]=e=>x("second"))},[...t[31]||(t[31]=[f("关闭",-1)])])),[[r]]),p((o(),n("button",{class:"the-btn blue",onClick:t[13]||(t[13]=e=>y("third"))},[...t[32]||(t[32]=[f("打开嵌套 Dialog",-1)])])),[[r]])]),default:b(()=>[s("div",null,[t[30]||(t[30]=s("p",null,[s("span",{class:"the-tag orange"},"当前不可点击遮罩层关闭")],-1)),s("p",ht,"出现次数："+w(i.second.count),1),v.value?(o(),n("div",vt,"延迟出现")):B("",!0),h(H,{title:"第三个 dialog",show:i.third.show,"onUpdate:show":t[11]||(t[11]=e=>i.third.show=e),"append-to-body":""},{footer:b(()=>[p((o(),n("button",{class:"the-btn red",onClick:t[10]||(t[10]=e=>x("third"))},[...t[29]||(t[29]=[f("关闭嵌套 Dialog",-1)])])),[[r]])]),default:b(()=>[s("div",null,[s("p",ct,"出现次数："+w(i.third.count),1),s("div",null,[s("button",{class:"the-btn blue",onClick:t[9]||(t[9]=e=>a.value.splice(0,1))},"移除第一项")]),s("ul",wt,[(o(!0),n(T,null,I(a.value,e=>(o(),n("li",{class:"dialog-item f-vertical",key:e},w(e),1))),128))])])]),_:1},8,["show"])])]),_:1},8,["show"]),t[41]||(t[41]=s("div",{class:"mb-[30px]"},[s("h2",{class:"the-title is-line"},"自定义 Message 控件")],-1)),s("div",xt,[(o(),n(T,null,I(k,e=>p(s("button",{class:W(["the-btn",e.className]),key:e.type,onClick:$t=>C(e)},[f(w(e.label),1)],10,yt),[[r]])),64))]),t[42]||(t[42]=s("div",{class:"mb-[30px]"},[s("h2",{class:"the-title is-line"},"自定义 MessageBox 控件")],-1)),s("div",kt,[p((o(),n("button",{class:"the-btn blue",onClick:t[15]||(t[15]=e=>D())},[...t[33]||(t[33]=[f("打开确认框",-1)])])),[[r]]),p((o(),n("button",{class:"the-btn green",onClick:t[16]||(t[16]=e=>D(!0))},[...t[34]||(t[34]=[f("打开确认取消框",-1)])])),[[r]])])])}}});export{St as default};
