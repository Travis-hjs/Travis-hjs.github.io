import{m as E,d as H,b as j}from"./index-D8mJXrmn.js";import{d as U,f as B,r as L,o,b as l,e,l as M,c as A,m as C,B as q,t as v,w as G,g as J,p as K,s as z,M as P,i as m,u as y,k as r,y as h,j as p,F as D,x as T,n as Q}from"./vendor-Dcy3W3ba.js";import{u as R}from"./common-DqHSRvUU.js";const W={class:"the-upload-image"},X={key:0,class:"the-upload-image-box"},Y=["src"],Z={class:"remove fvc"},ee=e("div",{class:"the-upload-add-icon"},null,-1),te={key:0,class:"the-upload-tip"},se={name:"UploadImage"},F=U({...se,props:{src:{type:String,default:""},uploadId:{type:[String,Number],default:""},width:{type:String,default:"178px"},height:{type:String,default:"178px"},autoHeight:{type:Boolean,default:!1},tip:{type:[String,Number],default:""},maxSize:{type:Number,default:5},disabled:{type:Boolean,default:!1}},emits:["change"],setup(n,{emit:g}){const c=n,a=g,i=B(),b=B(!1);async function N(){const w=i.value,f=w.files[0];if(w.value="",f.size>c.maxSize*1024*1024){E.warning(`上传的文件不能大于 ${c.maxSize}M`);return}const k=new FormData;k.append("file",f),b.value=!0;const _=await R(k);if(b.value=!1,console.log("上传图片 >>",_),_.code===1){const S=_.data.url;a("change",{id:c.uploadId,src:S})}}function x(){a("change",{id:c.uploadId,src:""})}return(w,f)=>{const k=L("svg-icon");return o(),l("div",W,[e("div",{class:"the-upload-content",style:M({width:n.width})},[n.src?(o(),l("div",X,[e("img",{class:"image",src:n.src,style:M({height:n.autoHeight?void 0:n.height})},null,12,Y),e("div",Z,[n.disabled?C("",!0):(o(),A(k,{key:0,name:"delete",onClick:f[0]||(f[0]=_=>x())}))])])):(o(),l("div",{key:1,class:"the-upload-box fvc",style:M({height:n.height})},[ee,n.disabled?C("",!0):(o(),l("input",{key:0,class:"the-upload-input",type:"file",accept:"image/*",name:"picture",ref_key:"uploadInput",ref:i,onChange:f[1]||(f[1]=q(_=>N(),["stop"]))},null,544))],4))],4),n.tip?(o(),l("p",te,v(b.value?"上传中...":n.tip),1)):C("",!0)])}}}),oe={name:"CollapseHeight"},O=U({...oe,props:{show:{type:Boolean}},setup(n){const g=n,c=B();return G(()=>g.show,function(a,i){a!==i&&(a?V(c.value):ne(c.value))}),J(function(){const a=c.value;a.addEventListener("transitionend",function(){g.show?a.style.height="":a.style.display="none"}),a.clientHeight>0&&V(a)}),(a,i)=>(o(),l("section",{class:"collapse-height",ref_key:"collapseBox",ref:c},[K(a.$slots,"default")],512))}});function V(n){if(!n)return;n.style.display="",n.style.height="";const g=n.clientHeight;n.style.height="0px",n.offsetHeight,n.style.height=`${g}px`}function ne(n){if(!n)return;const g=n.clientHeight;n.style.height=`${g}px`,n.offsetHeight,n.style.height="0px"}const le={class:"the-components"},ie=e("div",{class:"mgb-30"},[e("h2",{class:"the-title is-line"},"上传图片组件")],-1),ae={class:"flex mgb-40"},ce={class:"mgb-30"},de=e("h2",{class:"the-title is-line mgr-40"},"滚动条组件",-1),ue=e("div",{class:"mgb-20"},[e("span",{class:"the-tag green"},"横向滚动")],-1),re={class:"list-x mgb-40"},he=e("div",{class:"mgb-20"},[e("span",{class:"the-tag blue"},"垂直滚动")],-1),ge={class:"list-y mgb-40"},pe=e("div",{class:"mgb-10"},[e("span",{class:"the-tag cyan"},"宽高超出滚动")],-1),fe={style:{width:"300px",height:"140px"},class:"mgb-30"},me=e("div",{style:{width:"500px",height:"300px","background-color":"yellow",color:"#555","line-height":"28px"}},[e("p",null,"内容内容内容内容内容内容内容"),e("p",null,"内容内容内容内容内容内容内容内容内容"),e("p",null,"内容内容内容内容内容内容内容")],-1),be=e("div",{class:"mgb-30"},[e("h2",{class:"the-title is-line mgr-40"},"折叠盒子")],-1),ve={class:"mgb-20"},we={class:"flex"},_e=e("div",{class:"collapse-box"},"box-one",-1),ye=e("div",{class:"collapse-box"},"box-two",-1),xe=e("div",{class:"mgb-30"},[e("h2",{class:"the-title is-line mgr-40"},"自定义全局 Dialog 组件")],-1),ke={class:"flex mgb-50"},$e=e("div",{class:"f1"},null,-1),Ce={class:"mgb-10"},Be={key:0},Ne=e("p",null,[e("span",{class:"the-tag orange"},"当前不可点击遮罩层关闭")],-1),Se={class:"mgb-10"},De={key:0},Te={class:"mgb-10"},Ie={class:"dialog-list"},He=e("div",{class:"mgb-30"},[e("h2",{class:"the-title is-line"},"自定义 Message 控件")],-1),Me={class:"mgb-50"},ze=["onClick"],Ue=e("div",{class:"mgb-30"},[e("h2",{class:"the-title is-line"},"自定义 MessageBox 控件")],-1),Fe={class:"mgb-50"},je=U({__name:"the-components",setup(n){const g=z({banner:"",logo:""}),c=B(new Array(10).fill(0).map((d,t)=>t+1));function a(d){g[d.id]=d.src}const i=z({first:{show:!1,count:0},second:{show:!1,count:0},third:{show:!1,count:0}}),b=B(!1);let N;function x(d){i[d].count++,i[d].show=!0,N=setTimeout(()=>{b.value=!0},2e3)}function w(d){i[d].show=!1,f()}function f(){b.value=!1,clearTimeout(N)}const k=[{label:"message-info",type:"info",className:"blue"},{label:"message-success",type:"success",className:"green"},{label:"message-warning",type:"warning",className:"yellow"},{label:"message-error",type:"error",className:"red"}];function _(d){E.show(`This is a prompt message for ${d.type}`,d.type)}function S(d=!1){j({content:d?"确认取消框":"确认框",cancelText:d?"取消":void 0})}const $=z({showOne:!0,showTwo:!0});return(d,t)=>{const I=L("base-dialog"),u=P("ripple");return o(),l("div",le,[ie,e("div",ae,[m(y(F),{uploadId:"logo",src:g.logo,tip:"正方形图片",onChange:a},null,8,["src"]),m(y(F),{uploadId:"banner",src:g.banner,tip:"高度自适应",autoHeight:!0,onChange:a},null,8,["src"])]),e("div",ce,[de,r((o(),l("button",{class:"the-btn green",onClick:t[0]||(t[0]=()=>c.value.push(c.value.length+1))},[h("添加一个列表 item")])),[[u]]),r((o(),l("button",{class:"the-btn yellow",onClick:t[1]||(t[1]=s=>x("first"))},[h("打开弹出层-1")])),[[u]])]),ue,e("div",re,[m(y(H),{thumbColor:"#42b983"},{default:p(()=>[(o(!0),l(D,null,T(c.value,s=>(o(),l("div",{class:"item item-text",key:s},"item-"+v(s),1))),128))]),_:1})]),he,e("div",ge,[m(y(H),{thumbColor:"#42b983"},{default:p(()=>[(o(!0),l(D,null,T(c.value,s=>(o(),l("div",{class:"item item-text",key:s},"item-"+v(s),1))),128))]),_:1})]),pe,e("div",fe,[m(y(H),null,{default:p(()=>[me]),_:1})]),be,e("section",null,[e("div",ve,[r((o(),l("button",{class:"the-btn blue",onClick:t[2]||(t[2]=s=>$.showOne=!$.showOne)},[h("box-one switch")])),[[u]]),r((o(),l("button",{class:"the-btn blue",onClick:t[3]||(t[3]=s=>$.showTwo=!$.showTwo)},[h("box-one switch")])),[[u]])]),e("div",we,[m(y(O),{show:$.showOne,class:"mgr-20"},{default:p(()=>[_e]),_:1},8,["show"]),m(y(O),{show:$.showTwo},{default:p(()=>[ye]),_:1},8,["show"])])]),xe,e("div",ke,[r((o(),l("button",{class:"the-btn blue",onClick:t[4]||(t[4]=s=>x("first"))},[h("打开弹出层-1")])),[[u]]),$e,r((o(),l("button",{class:"the-btn green",onClick:t[5]||(t[5]=s=>x("second"))},[h("打开弹出层-2")])),[[u]])]),m(I,{title:"第一个 dialog",show:i.first.show,"onUpdate:show":t[7]||(t[7]=s=>i.first.show=s),"close-by-mask":"",onClose:t[8]||(t[8]=s=>f())},{footer:p(()=>[r((o(),l("button",{class:"the-btn red",onClick:t[6]||(t[6]=s=>w("first"))},[h("关闭")])),[[u]])]),default:p(()=>[e("div",null,[e("p",Ce,"出现次数："+v(i.first.count),1),b.value?(o(),l("div",Be,"延迟出现")):C("",!0)])]),_:1},8,["show"]),m(I,{title:"第二个 dialog",show:i.second.show,"onUpdate:show":t[13]||(t[13]=s=>i.second.show=s)},{footer:p(()=>[r((o(),l("button",{class:"the-btn red",onClick:t[11]||(t[11]=s=>w("second"))},[h("关闭")])),[[u]]),r((o(),l("button",{class:"the-btn blue",onClick:t[12]||(t[12]=s=>x("third"))},[h("打开嵌套 Dialog")])),[[u]])]),default:p(()=>[e("div",null,[Ne,e("p",Se,"出现次数："+v(i.second.count),1),b.value?(o(),l("div",De,"延迟出现")):C("",!0),m(I,{title:"第三个 dialog",show:i.third.show,"onUpdate:show":t[10]||(t[10]=s=>i.third.show=s),"append-to-body":""},{footer:p(()=>[r((o(),l("button",{class:"the-btn red",onClick:t[9]||(t[9]=s=>w("third"))},[h("关闭嵌套 Dialog")])),[[u]])]),default:p(()=>[e("div",null,[e("p",Te,"出现次数："+v(i.third.count),1),e("ul",Ie,[(o(!0),l(D,null,T(c.value,s=>(o(),l("li",{class:"dialog-item f-vertical",key:s},v(s),1))),128))])])]),_:1},8,["show"])])]),_:1},8,["show"]),He,e("div",Me,[(o(),l(D,null,T(k,s=>r(e("button",{class:Q(["the-btn",s.className]),key:s.type,onClick:Oe=>_(s)},[h(v(s.label),1)],10,ze),[[u]])),64))]),Ue,e("div",Fe,[r((o(),l("button",{class:"the-btn blue",onClick:t[14]||(t[14]=s=>S())},[h("打开确认框")])),[[u]]),r((o(),l("button",{class:"the-btn green",onClick:t[15]||(t[15]=s=>S(!0))},[h("打开确认取消框")])),[[u]])])])}}});export{je as default};
