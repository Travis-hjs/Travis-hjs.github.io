import{e as L,m as E,b as j,f as H}from"./index-Cp7mfaQV.js";import{d as U,b as B,g as l,a as o,h as e,m as C,n as z,c as A,u as v,B as Q,t as w,l as q,o as G,j as J,e as M,i as g,k as r,y as h,w as f,F as D,s as T,r as K,Q as P,x as R}from"./vendor-DctTrLAr.js";import{u as W}from"./common-BA_prH0i.js";const X={class:"the-upload-image"},Y={key:0,class:"the-upload-image-box"},Z=["src"],ee={class:"remove fvc"},te=e("div",{class:"the-upload-add-icon"},null,-1),se={key:0,class:"the-upload-tip"},oe={name:"UploadImage"},F=U({...oe,props:{src:{type:String,default:""},uploadId:{type:[String,Number],default:""},width:{type:String,default:"178px"},height:{type:String,default:"178px"},autoHeight:{type:Boolean,default:!1},tip:{type:[String,Number],default:""},maxSize:{type:Number,default:5},disabled:{type:Boolean,default:!1}},emits:["change"],setup(n,{emit:p}){const a=n,d=p,i=B(),b=B(!1);async function N(){const x=i.value,m=x.files[0];if(x.value="",m.size>a.maxSize*1024*1024){E.warning(`上传的文件不能大于 ${a.maxSize}M`);return}const y=new FormData;y.append("file",m),b.value=!0;const $=await W(y);if(b.value=!1,console.log("上传图片 >>",$),$.code===1){const S=$.data.url;d("change",{id:a.uploadId,src:S})}}function _(){d("change",{id:a.uploadId,src:""})}return(x,m)=>(o(),l("div",X,[e("div",{class:"the-upload-content",style:z({width:n.width})},[n.src?(o(),l("div",Y,[e("img",{class:"image",src:n.src,style:z({height:n.autoHeight?void 0:n.height})},null,12,Z),e("div",ee,[n.disabled?C("",!0):(o(),A(v(L),{key:0,size:"28px",name:"ep:delete",class:"cursor-pointer",onClick:m[0]||(m[0]=y=>_())}))])])):(o(),l("div",{key:1,class:"the-upload-box fvc",style:z({height:n.height})},[te,n.disabled?C("",!0):(o(),l("input",{key:0,class:"the-upload-input",type:"file",accept:"image/*",name:"picture",ref_key:"uploadInput",ref:i,onChange:m[1]||(m[1]=Q(y=>N(),["stop"]))},null,544))],4))],4),n.tip?(o(),l("p",se,w(b.value?"上传中...":n.tip),1)):C("",!0)]))}}),ne={name:"CollapseHeight"},O=U({...ne,props:{show:{type:Boolean}},setup(n){const p=n,a=B();return q(()=>p.show,function(d,i){d!==i&&(d?V(a.value):le(a.value))}),G(function(){const d=a.value;d.addEventListener("transitionend",function(){p.show?d.style.height="":d.style.display="none"}),d.clientHeight>0&&V(d)}),(d,i)=>(o(),l("section",{class:"collapse-height",ref_key:"collapseBox",ref:a},[J(d.$slots,"default")],512))}});function V(n){if(!n)return;n.style.display="",n.style.height="";const p=n.clientHeight;n.style.height="0px",n.offsetHeight,n.style.height=`${p}px`}function le(n){if(!n)return;const p=n.clientHeight;n.style.height=`${p}px`,n.offsetHeight,n.style.height="0px"}const ie={class:"the-components"},ae=e("div",{class:"mb-[30px]"},[e("h2",{class:"the-title is-line"},"上传图片组件")],-1),de={class:"flex mb-[40px]"},ce={class:"mb-[30px]"},ue=e("h2",{class:"the-title is-line mr-[30px]"},"滚动条组件",-1),re=e("div",{class:"mb-[20px]"},[e("span",{class:"the-tag green"},"横向滚动")],-1),he={class:"list-x mb-[40px]"},pe=e("div",{class:"mb-[20px]"},[e("span",{class:"the-tag blue"},"垂直滚动")],-1),fe={class:"list-y mb-[40px]"},me=e("div",{class:"mb-[10px]"},[e("span",{class:"the-tag cyan"},"宽高超出滚动")],-1),ge={style:{width:"300px",height:"140px"},class:"mb-[30px]"},be=e("div",{style:{width:"500px",height:"300px","background-color":"yellow",color:"#555","line-height":"28px"}},[e("p",null,"内容内容内容内容内容内容内容"),e("p",null,"内容内容内容内容内容内容内容内容内容"),e("p",null,"内容内容内容内容内容内容内容")],-1),ve=e("div",{class:"mb-[30px]"},[e("h2",{class:"the-title is-line"},"折叠盒子")],-1),we={class:"mb-[20px]"},xe={class:"flex"},_e=e("div",{class:"collapse-box"},"box-one",-1),ye=e("div",{class:"collapse-box"},"box-two",-1),ke=e("div",{class:"mb-[30px]"},[e("h2",{class:"the-title is-line"},"自定义全局 Dialog 组件")],-1),$e={class:"flex mb-[50px]"},Ce=e("div",{class:"f1"},null,-1),Be={class:"mb-[10px]"},Ne={key:0},Se=e("p",null,[e("span",{class:"the-tag orange"},"当前不可点击遮罩层关闭")],-1),De={class:"mb-[10px]"},Te={key:0},Ie={class:"mb-[10px]"},He={class:"dialog-list mt-[10px]"},ze=e("div",{class:"mb-[30px]"},[e("h2",{class:"the-title is-line"},"自定义 Message 控件")],-1),Me={class:"mb-[50px]"},Ue=["onClick"],Fe=e("div",{class:"mb-[30px]"},[e("h2",{class:"the-title is-line"},"自定义 MessageBox 控件")],-1),Oe={class:"mb-[50px]"},Ae=U({__name:"the-components",setup(n){const p=M({banner:"",logo:""}),a=B(new Array(10).fill(0).map((c,t)=>t+1));function d(c){p[c.id]=c.src}const i=M({first:{show:!1,count:0},second:{show:!1,count:0},third:{show:!1,count:0}}),b=B(!1);let N;function _(c){i[c].count++,i[c].show=!0,N=setTimeout(()=>{b.value=!0},2e3)}function x(c){i[c].show=!1,m()}function m(){b.value=!1,clearTimeout(N)}const y=[{label:"message-info",type:"info",className:"blue"},{label:"message-success",type:"success",className:"green"},{label:"message-warning",type:"warning",className:"yellow"},{label:"message-error",type:"error",className:"red"}];function $(c){E.show(`This is a prompt message for ${c.type}`,c.type)}function S(c=!1){j({content:c?"确认取消框":"确认框",cancelText:c?"取消":void 0})}const k=M({showOne:!0,showTwo:!0});return(c,t)=>{const I=K("base-dialog"),u=P("ripple");return o(),l("div",ie,[ae,e("div",de,[g(v(F),{uploadId:"logo",src:p.logo,tip:"正方形图片",onChange:d},null,8,["src"]),g(v(F),{uploadId:"banner",src:p.banner,tip:"高度自适应",autoHeight:!0,onChange:d},null,8,["src"])]),e("div",ce,[ue,r((o(),l("button",{class:"the-btn green",onClick:t[0]||(t[0]=()=>a.value.push(a.value.length+1))},[h("添加一个列表 item")])),[[u]]),r((o(),l("button",{class:"the-btn yellow",onClick:t[1]||(t[1]=s=>_("first"))},[h("打开弹出层-1")])),[[u]])]),re,e("div",he,[g(v(H),{thumbColor:"#42b983"},{default:f(()=>[(o(!0),l(D,null,T(a.value,s=>(o(),l("div",{class:"item item-text",key:s},"item-"+w(s),1))),128))]),_:1})]),pe,e("div",fe,[g(v(H),{thumbColor:"#42b983"},{default:f(()=>[(o(!0),l(D,null,T(a.value,s=>(o(),l("div",{class:"item item-text",key:s},"item-"+w(s),1))),128))]),_:1})]),me,e("div",ge,[g(v(H),null,{default:f(()=>[be]),_:1})]),ve,e("section",null,[e("div",we,[r((o(),l("button",{class:"the-btn blue",onClick:t[2]||(t[2]=s=>k.showOne=!k.showOne)},[h("box-one switch")])),[[u]]),r((o(),l("button",{class:"the-btn blue",onClick:t[3]||(t[3]=s=>k.showTwo=!k.showTwo)},[h("box-one switch")])),[[u]])]),e("div",xe,[g(v(O),{show:k.showOne,class:"mr-[20px]"},{default:f(()=>[_e]),_:1},8,["show"]),g(v(O),{show:k.showTwo},{default:f(()=>[ye]),_:1},8,["show"])])]),ke,e("div",$e,[r((o(),l("button",{class:"the-btn blue",onClick:t[4]||(t[4]=s=>_("first"))},[h("打开弹出层-1")])),[[u]]),Ce,r((o(),l("button",{class:"the-btn green",onClick:t[5]||(t[5]=s=>_("second"))},[h("打开弹出层-2")])),[[u]])]),g(I,{title:"第一个 dialog",show:i.first.show,"onUpdate:show":t[7]||(t[7]=s=>i.first.show=s),"close-by-mask":"",onClose:t[8]||(t[8]=s=>m())},{footer:f(()=>[r((o(),l("button",{class:"the-btn red",onClick:t[6]||(t[6]=s=>x("first"))},[h("关闭")])),[[u]])]),default:f(()=>[e("div",null,[e("p",Be,"出现次数："+w(i.first.count),1),b.value?(o(),l("div",Ne,"延迟出现")):C("",!0)])]),_:1},8,["show"]),g(I,{title:"第二个 dialog",show:i.second.show,"onUpdate:show":t[14]||(t[14]=s=>i.second.show=s)},{footer:f(()=>[r((o(),l("button",{class:"the-btn red",onClick:t[12]||(t[12]=s=>x("second"))},[h("关闭")])),[[u]]),r((o(),l("button",{class:"the-btn blue",onClick:t[13]||(t[13]=s=>_("third"))},[h("打开嵌套 Dialog")])),[[u]])]),default:f(()=>[e("div",null,[Se,e("p",De,"出现次数："+w(i.second.count),1),b.value?(o(),l("div",Te,"延迟出现")):C("",!0),g(I,{title:"第三个 dialog",show:i.third.show,"onUpdate:show":t[11]||(t[11]=s=>i.third.show=s),"append-to-body":""},{footer:f(()=>[r((o(),l("button",{class:"the-btn red",onClick:t[10]||(t[10]=s=>x("third"))},[h("关闭嵌套 Dialog")])),[[u]])]),default:f(()=>[e("div",null,[e("p",Ie,"出现次数："+w(i.third.count),1),e("div",null,[e("button",{class:"the-btn blue",onClick:t[9]||(t[9]=s=>a.value.splice(0,1))},"移除第一项")]),e("ul",He,[(o(!0),l(D,null,T(a.value,s=>(o(),l("li",{class:"dialog-item f-vertical",key:s},w(s),1))),128))])])]),_:1},8,["show"])])]),_:1},8,["show"]),ze,e("div",Me,[(o(),l(D,null,T(y,s=>r(e("button",{class:R(["the-btn",s.className]),key:s.type,onClick:Ve=>$(s)},[h(w(s.label),1)],10,Ue),[[u]])),64))]),Fe,e("div",Oe,[r((o(),l("button",{class:"the-btn blue",onClick:t[15]||(t[15]=s=>S())},[h("打开确认框")])),[[u]]),r((o(),l("button",{class:"the-btn green",onClick:t[16]||(t[16]=s=>S(!0))},[h("打开确认取消框")])),[[u]])])])}}});export{Ae as default};
