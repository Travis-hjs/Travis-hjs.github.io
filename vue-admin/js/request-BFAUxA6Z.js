import{d as l,x as p,O as m,o,b as r,e as s,m as i,P as u,A as _,t as g,n as f,l as h}from"./vendor-M8H9myqW.js";import{g as v}from"./common-C-QcLp58.js";import{m as y}from"./index-yJ-u0rih.js";const b={class:"page-request"},x=s("h2",{class:"the-title mgb-30"},"Http 请求示例，当前页面配置路由缓存",-1),w={class:"flex"},$=["disabled"],k={key:0,class:"mgb-20"},D=["value"],C=l({name:"example-request"}),q=l({...C,setup(N){const e=p({city:"广州",loading:!1,showTable:!0,content:"",desc:"",error:!1});async function c(){if(!e.city)return y.warning("请输入城市名");e.loading=!0;const a=await v(e.city);if(e.loading=!1,console.log("获取天气预报数据 >>",a),a.code===1){const t=a.data;e.content=JSON.stringify(t,void 0,4),e.error=!!t.errcode,e.error?e.desc=t.errmsg:e.desc=`${t.week} > ${t.wea} > ${t.win} > 最低温度 ${t.tem_night}° > 最高温度 ${t.tem_day}°`}}return(a,t)=>{const d=m("ripple");return o(),r("div",b,[x,s("div",w,[i(s("input",{class:"the-input mgb-20 short-input",type:"text","onUpdate:modelValue":t[0]||(t[0]=n=>e.city=n),placeholder:"请输入城市名"},null,512),[[u,e.city]]),i((o(),r("button",{class:"the-btn blue",onClick:t[1]||(t[1]=n=>c()),disabled:e.loading},[_("获取天气数据")],8,$)),[[d]])]),e.desc?(o(),r("div",k,[s("span",{class:f(["the-tag",e.error?"red":"green"])},g(e.desc),3)])):h("",!0),s("textarea",{cols:"60",rows:"30",value:e.content},null,8,D)])}}});export{q as default};
