import{m as A,d as H,b as L}from"./index-BvcFilLW.js";import{d as T,f as B,r as E,o,b as n,e,p as M,c as j,l as C,D as q,t as b,w as J,g as G,q as K,A as z,J as P,i as f,m as r,y as h,j as m,F as N,x as S,u as $,n as Q}from"./vendor-E5oG33nU.js";import{u as R}from"./common-CCj4psVO.js";const W={class:"the-upload-image"},X={key:0,class:"the-upload-image-box"},Y=["src"],Z={class:"remove fvc"},ee=e("div",{class:"the-upload-add-icon"},null,-1),te={key:0,class:"the-upload-tip"},se=T({name:"UploadImage"}),U=T({...se,props:{src:{type:String,default:""},uploadId:{type:[String,Number],default:""},width:{type:String,default:"178px"},height:{type:String,default:"178px"},autoHeight:{type:Boolean,default:!1},tip:{type:[String,Number],default:""},maxSize:{type:Number,default:2},disabled:{type:Boolean,default:!1}},emits:["change"],setup(l,{emit:g}){const d=l,i=g,a=B(),_=B(!1);async function V(){const v=a.value,p=v.files[0];if(v.value="",p.size>d.maxSize*1024*1024){A.warning(`上传的文件不能大于 ${d.maxSize}M`);return}const x=new FormData;x.append("file",p),_.value=!0;const y=await R(x);if(_.value=!1,console.log("上传图片 >>",y),y.code===1){const D=y.data.url;i("change",{id:d.uploadId,src:D})}}function w(){i("change",{id:d.uploadId,src:""})}return(v,p)=>{const x=E("svg-icon");return o(),n("div",W,[e("div",{class:"the-upload-content",style:M({width:l.width})},[l.src?(o(),n("div",X,[e("img",{class:"image",src:l.src,style:M({height:l.autoHeight?void 0:l.height})},null,12,Y),e("div",Z,[l.disabled?C("",!0):(o(),j(x,{key:0,name:"delete",onClick:p[0]||(p[0]=y=>w())}))])])):(o(),n("div",{key:1,class:"the-upload-box fvc",style:M({height:l.height})},[ee,l.disabled?C("",!0):(o(),n("input",{key:0,class:"the-upload-input",type:"file",accept:"image/*",name:"picture",ref_key:"uploadInput",ref:a,onChange:p[1]||(p[1]=q(y=>V(),["stop"]))},null,544))],4))],4),l.tip?(o(),n("p",te,b(_.value?"上传中...":l.tip),1)):C("",!0)])}}}),oe={name:"CollapseHeight"},F=T({...oe,props:{show:{type:Boolean}},setup(l){const g=l,d=B();return J(()=>g.show,function(i,a){i!==a&&(i?O(d.value):le(d.value))}),G(function(){const i=d.value;i.addEventListener("transitionend",function(){g.show?i.style.height="":i.style.display="none"}),i.clientHeight>0&&O(i)}),(i,a)=>(o(),n("section",{class:"collapse-height",ref_key:"collapseBox",ref:d},[K(i.$slots,"default")],512))}});function O(l){if(!l)return;l.style.display="",l.style.height="";const g=l.clientHeight;l.style.height="0px",l.offsetHeight,l.style.height=`${g}px`}function le(l){if(!l)return;const g=l.clientHeight;l.style.height=`${g}px`,l.offsetHeight,l.style.height="0px"}const ne={class:"the-components"},ae=e("div",{class:"mgb_30"},[e("h2",{class:"the-title"},"上传图片组件")],-1),ie={class:"flex mgb_40"},de={class:"mgb_30"},ce=e("h2",{class:"the-title mgr_40"},"滚动条组件",-1),ue=e("div",{class:"mgb_20"},[e("span",{class:"the-tag green"},"横向滚动")],-1),re={class:"list-x mgb_40"},he=e("div",{class:"mgb_20"},[e("span",{class:"the-tag blue"},"垂直滚动")],-1),ge={class:"list-y mgb_40"},me=e("div",{class:"mgb_10"},[e("span",{class:"the-tag cyan"},"宽高超出滚动")],-1),pe={style:{width:"300px",height:"140px"},class:"mgb_30"},fe=e("div",{style:{width:"500px",height:"300px","background-color":"yellow",color:"#555","line-height":"28px"}},[e("p",null,"内容内容内容内容内容内容内容"),e("p",null,"内容内容内容内容内容内容内容内容内容"),e("p",null,"内容内容内容内容内容内容内容")],-1),_e=e("div",{class:"mgb_30"},[e("h2",{class:"the-title mgr_40"},"折叠盒子")],-1),be={class:"mgb_20"},ve={class:"flex"},ye=e("div",{class:"collapse-box"},"box-one",-1),we=e("div",{class:"collapse-box"},"box-two",-1),xe=e("div",{class:"mgb_30"},[e("h2",{class:"the-title mgr_40"},"自定义全局 Dialog 组件")],-1),ke={class:"flex mgb_50"},$e=e("div",{class:"f1"},null,-1),Ce={class:"mgb_10"},Be={key:0},Ve=e("p",null,[e("span",{class:"the-tag orange"},"当前不可点击遮罩层关闭")],-1),De={class:"mgb_10"},Ne={key:0},Se={class:"mgb_10"},Te={class:"dialog-list"},Ie=e("div",{class:"mgb_30"},[e("h2",{class:"the-title"},"自定义 Message 控件")],-1),He={class:"mgb_50"},Me=["onClick"],ze=e("div",{class:"mgb_30"},[e("h2",{class:"the-title"},"自定义 MessageBox 控件")],-1),Ue={class:"mgb_50"},Le=T({__name:"the-components",setup(l){const g=z({banner:"",logo:""}),d=B(new Array(10).fill(0).map((c,t)=>t+1));function i(c){g[c.id]=c.src}const a=z({first:{show:!1,count:0},second:{show:!1,count:0},third:{show:!1,count:0}}),_=B(!1);let V;function w(c){a[c].count++,a[c].show=!0,V=setTimeout(()=>{_.value=!0},2e3)}function v(c){a[c].show=!1,p()}function p(){_.value=!1,clearTimeout(V)}const x=[{label:"message-info",type:"info",className:"blue"},{label:"message-success",type:"success",className:"green"},{label:"message-warning",type:"warning",className:"yellow"},{label:"message-error",type:"error",className:"red"}];function y(c){A.show(`This is a prompt message for ${c.type}`,c.type)}function D(c=!1){L({content:c?"确认取消框":"确认框",cancelText:c?"取消":void 0})}const k=z({showOne:!0,showTwo:!0});return(c,t)=>{const I=E("base-dialog"),u=P("ripple");return o(),n("div",ne,[ae,e("div",ie,[f(U,{uploadId:"logo",src:g.logo,tip:"正方形图片",onChange:i},null,8,["src"]),f(U,{uploadId:"banner",src:g.banner,tip:"高度自适应",autoHeight:!0,onChange:i},null,8,["src"])]),e("div",de,[ce,r((o(),n("button",{class:"the-btn green",onClick:t[0]||(t[0]=()=>d.value.push(d.value.length+1))},[h("添加一个列表 item")])),[[u]]),r((o(),n("button",{class:"the-btn yellow",onClick:t[1]||(t[1]=s=>w("first"))},[h("打开弹出层-1")])),[[u]])]),ue,e("div",re,[f($(H),{thumbColor:"#42b983"},{default:m(()=>[(o(!0),n(N,null,S(d.value,s=>(o(),n("div",{class:"item item-text",key:s},"item-"+b(s),1))),128))]),_:1})]),he,e("div",ge,[f($(H),{thumbColor:"#42b983"},{default:m(()=>[(o(!0),n(N,null,S(d.value,s=>(o(),n("div",{class:"item item-text",key:s},"item-"+b(s),1))),128))]),_:1})]),me,e("div",pe,[f($(H),null,{default:m(()=>[fe]),_:1})]),_e,e("section",null,[e("div",be,[r((o(),n("button",{class:"the-btn blue",onClick:t[2]||(t[2]=s=>k.showOne=!k.showOne)},[h("box-one switch")])),[[u]]),r((o(),n("button",{class:"the-btn blue",onClick:t[3]||(t[3]=s=>k.showTwo=!k.showTwo)},[h("box-one switch")])),[[u]])]),e("div",ve,[f($(F),{show:k.showOne,class:"mgr_20"},{default:m(()=>[ye]),_:1},8,["show"]),f($(F),{show:k.showTwo},{default:m(()=>[we]),_:1},8,["show"])])]),xe,e("div",ke,[r((o(),n("button",{class:"the-btn blue",onClick:t[4]||(t[4]=s=>w("first"))},[h("打开弹出层-1")])),[[u]]),$e,r((o(),n("button",{class:"the-btn green",onClick:t[5]||(t[5]=s=>w("second"))},[h("打开弹出层-2")])),[[u]])]),f(I,{title:"第一个 dialog",modelValue:a.first.show,"onUpdate:modelValue":t[7]||(t[7]=s=>a.first.show=s),onClose:t[8]||(t[8]=s=>p())},{footer:m(()=>[r((o(),n("button",{class:"the-btn red",onClick:t[6]||(t[6]=s=>v("first"))},[h("关闭")])),[[u]])]),default:m(()=>[e("div",null,[e("p",Ce,"出现次数："+b(a.first.count),1),_.value?(o(),n("div",Be,"延迟出现")):C("",!0)])]),_:1},8,["modelValue"]),f(I,{title:"第二个 dialog",modelValue:a.second.show,"onUpdate:modelValue":t[13]||(t[13]=s=>a.second.show=s),closeByMask:!1},{footer:m(()=>[r((o(),n("button",{class:"the-btn red",onClick:t[11]||(t[11]=s=>v("second"))},[h("关闭")])),[[u]]),r((o(),n("button",{class:"the-btn blue",onClick:t[12]||(t[12]=s=>w("third"))},[h("打开嵌套 Dialog")])),[[u]])]),default:m(()=>[e("div",null,[Ve,e("p",De,"出现次数："+b(a.second.count),1),_.value?(o(),n("div",Ne,"延迟出现")):C("",!0),f(I,{title:"第三个 dialog",modelValue:a.third.show,"onUpdate:modelValue":t[10]||(t[10]=s=>a.third.show=s),appendToBody:!0},{footer:m(()=>[r((o(),n("button",{class:"the-btn red",onClick:t[9]||(t[9]=s=>v("third"))},[h("关闭嵌套 Dialog")])),[[u]])]),default:m(()=>[e("div",null,[e("p",Se,"出现次数："+b(a.third.count),1),e("ul",Te,[(o(!0),n(N,null,S(d.value,s=>(o(),n("li",{class:"dialog-item fvertical",key:s},b(s),1))),128))])])]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"]),Ie,e("div",He,[(o(),n(N,null,S(x,s=>r(e("button",{class:Q(["the-btn",s.className]),key:s.type,onClick:Fe=>y(s)},[h(b(s.label),1)],10,Me),[[u]])),64))]),ze,e("div",Ue,[r((o(),n("button",{class:"the-btn blue",onClick:t[14]||(t[14]=s=>D())},[h("打开确认框")])),[[u]]),r((o(),n("button",{class:"the-btn green",onClick:t[15]||(t[15]=s=>D(!0))},[h("打开确认取消框")])),[[u]])])])}}});export{Le as default};
