import{d,f as p,a as o,b as s,m,k as i,E as u,y as _,t as g,x as f,P as h,o as n}from"./vendor-DAP4FNWh.js";import{g as v}from"./common-BTOIiv5i.js";import{m as y}from"./index-NF0kA4ma.js";const b={class:"page-request"},x=s("h2",{class:"the-title is-line mgb-30"},"Http 请求示例，当前页面配置路由缓存",-1),w={class:"flex"},k=["disabled"],$={key:0,class:"mgb-20"},D=["value"],C={name:"example-request"},q=d({...C,setup(N){const e=p({city:"广州",loading:!1,showTable:!0,content:"",desc:"",error:!1});async function l(){if(!e.city)return y.warning("请输入城市名");e.loading=!0;const a=await v(e.city);if(e.loading=!1,console.log("获取天气预报数据 >>",a),a.code===1){const t=a.data;e.content=JSON.stringify(t,void 0,4),e.error=!!t.errcode,e.error?e.desc=t.errmsg:e.desc=`${t.week} > ${t.wea} > ${t.win} > 最低温度 ${t.tem_night}° > 最高温度 ${t.tem_day}°`}}return(a,t)=>{const c=h("ripple");return n(),o("div",b,[x,s("div",w,[i(s("input",{class:"the-input mgb-20 short-input",type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>e.city=r),placeholder:"请输入城市名"},null,512),[[u,e.city]]),i((n(),o("button",{class:"the-btn blue",onClick:t[1]||(t[1]=r=>l()),disabled:e.loading},[_("获取天气数据")],8,k)),[[c]])]),e.desc?(n(),o("div",$,[s("span",{class:f(["the-tag",e.error?"red":"green"])},g(e.desc),3)])):m("",!0),s("textarea",{cols:"60",rows:"30",value:e.content},null,8,D)])}}});export{q as default};
