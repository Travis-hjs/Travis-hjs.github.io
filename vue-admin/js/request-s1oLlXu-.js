import{d as c,e as p,g as o,h as s,m,k as i,E as u,y as g,t as f,x as _,O as v,a as r}from"./vendor-CXPWdb6f.js";import{g as y}from"./common-fyrvM4kL.js";import{m as x}from"./index-CrqFMLCv.js";const h={class:"page-request"},b={class:"flex"},w=["disabled"],k={key:0,class:"mb-[20px]"},$=["value"],B=c({__name:"request",setup(D){const t=p({city:"广州",loading:!1,showTable:!0,content:"",desc:"",error:!1});async function l(){if(!t.city)return x.warning("请输入城市名");t.loading=!0;const a=await y(t.city);if(t.loading=!1,console.log("获取天气预报数据 >>",a),a.code===1){const e=a.data;t.content=JSON.stringify(e,void 0,4),t.error=!!e.errcode,t.error?t.desc=e.errmsg:t.desc=`${e.week} > ${e.wea} > ${e.win} > 最低温度 ${e.tem_night}° > 最高温度 ${e.tem_day}°`}}return(a,e)=>{const d=v("ripple");return r(),o("div",h,[e[3]||(e[3]=s("h2",{class:"the-title is-line mb-[30px]"},"Http 请求示例，当前页面配置路由缓存",-1)),s("div",b,[i(s("input",{class:"the-input mb-[20px] short-input",type:"text","onUpdate:modelValue":e[0]||(e[0]=n=>t.city=n),placeholder:"请输入城市名"},null,512),[[u,t.city]]),i((r(),o("button",{class:"the-btn blue",onClick:e[1]||(e[1]=n=>l()),disabled:t.loading},[...e[2]||(e[2]=[g("获取天气数据",-1)])],8,w)),[[d]])]),t.desc?(r(),o("div",k,[s("span",{class:_(["the-tag",t.error?"red":"green"])},f(t.desc),3)])):m("",!0),s("textarea",{cols:"60",rows:"30",value:t.content},null,8,$)])}}});export{B as default};
