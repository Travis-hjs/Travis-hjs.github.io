import{d as S,b as C,a as g,Q as _,g as l,o as r,h as o,t as u,u as b,k as c,i as L,E as h,y as p,F as D,s as E}from"./vendor-DlsSvUR1.js";import{s as B,m,a as M,o as R}from"./index-BiQBJ0f8.js";import{l as T}from"./common-rre4FUCC.js";import{_ as U}from"./index.vue_vue_type_style_index_0_lang-D6Z8QSjW.js";const $={class:"login-page"},j={class:"content"},F={class:"title"},J={class:"form-box"},O={class:"login-form"},A=o("div",{class:"login-title"},"平台登录",-1),G=["disabled"],P=["disabled"],Q={class:"tips_text f1"},q=["disabled","onClick"],f="login-info",z="Copyright © Travis-hjs.github.io All Rights Reserved 请使用 Google Chrome、Microsoft Edge、360浏览器、非 IE 等浏览器",ee=S({__name:"login",setup(H){const y=["admin","normal"],x=B.projectInfo,t=C({account:"",password:""}),n=g(!1);function w(a){t.account=a,t.password=Math.random().toString(36).substr(2),v(!0)}function v(a){async function e(){n.value=!0;const i=await T(t);n.value=!1,i.code===1?(I(),R()):m.error(i.msg)}if(a)return e();if(!t.account)return m.error("请输入账号");if(!t.password)return m.error("请输入密码");e()}const d=g(!1);function I(){d.value?localStorage.setItem(f,JSON.stringify({remember:!0,...t})):localStorage.removeItem(f)}function V(){const a=localStorage.getItem(f);if(a)try{const e=JSON.parse(a);d.value=!!e.remember,M(t,e)}catch(e){console.warn(e)}}return V(),(a,e)=>{const i=_("ripple"),k=_("copy");return r(),l("div",$,[o("div",j,[o("div",F,[o("span",null,u(b(x).name),1)]),o("div",J,[o("div",O,[A,c(o("input",{class:"the-input mb-[20px]",type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>t.account=s),placeholder:"请输入账号"},null,512),[[h,t.account]]),c(o("input",{class:"the-input mb-[20px]",type:"password","onUpdate:modelValue":e[1]||(e[1]=s=>t.password=s),placeholder:"请输入密码"},null,512),[[h,t.password]]),c((r(),l("button",{class:"the-btn blue mb-[20px]",style:{width:"100%"},onClick:e[2]||(e[2]=s=>v(!1)),disabled:n.value},[p(u(n.value?"登录中...":"登录"),1)],8,G)),[[i]]),L(b(U),{class:"mb-[20px]",modelValue:d.value,"onUpdate:modelValue":e[3]||(e[3]=s=>d.value=s),label:"记住账号/密码"},null,8,["modelValue"]),(r(),l(D,null,E(y,(s,N)=>o("div",{class:"tips f-vertical",key:N},[c((r(),l("button",{class:"the-btn mini green",disabled:n.value},[p("点击复制")],8,P)),[[i],[k,s]]),o("div",Q,"账号: "+u(s)+"; 密码: 随便填",1),c((r(),l("button",{class:"the-btn mini blue",disabled:n.value,onClick:K=>w(s)},[p("一键登录")],8,q)),[[i]])])),64))])]),o("div",{class:"bottom-text"},u(z))])])}}});export{ee as default};
