import{d as L,A as S,f as g,J as _,o as r,b as c,e as t,t as u,u as N,m as d,L as b,y as p,F as D,x as V}from"./vendor-E5oG33nU.js";import{s as B,m,a as E,o as J}from"./index-BvcFilLW.js";import{l as M}from"./common-CCj4psVO.js";const R={class:"login-page"},T={class:"content"},$={class:"title"},j={class:"form-box"},A={class:"login-form"},F=t("div",{class:"login-title"},"平台登录",-1),O=["disabled"],U=["checked"],G=["disabled"],P={class:"tips_text f1"},q=["disabled","onClick"],f="login-info",z="Copyright © Travis-hjs.github.io All Rights Reserved 请使用 Google Chrome、Microsoft Edge、360浏览器、非 IE 等浏览器",Y=L({__name:"login",setup(H){const h=["admin","normal"],y=B.projectInfo,o=S({account:"",password:""}),a=g(!1);function k(n){o.account=n,o.password=Math.random().toString(36).substr(2),v(!0)}function v(n){async function e(){a.value=!0;const i=await M(o);a.value=!1,i.code===1?(x(),J()):m.error(i.msg)}if(n)return e();if(!o.account)return m.error("请输入账号");if(!o.password)return m.error("请输入密码");e()}const l=g(!1);function x(){l.value?localStorage.setItem(f,JSON.stringify({remember:!0,...o})):localStorage.removeItem(f)}function w(){const n=localStorage.getItem(f);if(n)try{const e=JSON.parse(n);l.value=!!e.remember,E(o,e)}catch(e){console.warn(e)}}return w(),(n,e)=>{const i=_("ripple"),I=_("copy");return r(),c("div",R,[t("div",T,[t("div",$,[t("span",null,u(N(y).name),1)]),t("div",j,[t("div",A,[F,d(t("input",{class:"the-input mgb_20",type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>o.account=s),placeholder:"请输入账号"},null,512),[[b,o.account]]),d(t("input",{class:"the-input mgb_20",type:"password","onUpdate:modelValue":e[1]||(e[1]=s=>o.password=s),placeholder:"请输入密码"},null,512),[[b,o.password]]),d((r(),c("button",{class:"the-btn blue mgb_20",style:{width:"100%"},onClick:e[2]||(e[2]=s=>v(!1)),disabled:a.value},[p(u(a.value?"登录中...":"登录"),1)],8,O)),[[i]]),t("label",{class:"check-box fvertical mgb_20",for:"check-input",onChange:e[3]||(e[3]=s=>l.value=!l.value)},[t("input",{type:"checkbox",id:"check-input",checked:l.value},null,8,U),p(" 记住账号/密码 ")],32),(r(),c(D,null,V(h,(s,C)=>t("div",{class:"tips fvertical",key:C},[d((r(),c("button",{class:"the-btn mini green",disabled:a.value},[p("点击复制")],8,G)),[[i],[I,s]]),t("div",P,"账号: "+u(s)+"; 密码: 随便填",1),d((r(),c("button",{class:"the-btn mini blue",disabled:a.value,onClick:K=>k(s)},[p("一键登录")],8,q)),[[i]])])),64))])]),t("div",{class:"bottom-text"},u(z))])])}}});export{Y as default};
