import{m as E,d as I,b as j}from"./index-xFVCEiva.js";import{d as M,f as B,r as L,o,b as n,e,l as H,c as A,m as C,C as q,t as v,w as G,g as J,p as K,x as z,O as P,i as f,u as w,k as r,z as h,j as m,F as S,y as D,n as Q}from"./vendor-CmuVtlUM.js";import{u as R}from"./common-BosT8CX5.js";const W={class:"the-upload-image"},X={key:0,class:"the-upload-image-box"},Y=["src"],Z={class:"remove fvc"},ee=e("div",{class:"the-upload-add-icon"},null,-1),te={key:0,class:"the-upload-tip"},se={name:"UploadImage"},U=M({...se,props:{src:{type:String,default:""},uploadId:{type:[String,Number],default:""},width:{type:String,default:"178px"},height:{type:String,default:"178px"},autoHeight:{type:Boolean,default:!1},tip:{type:[String,Number],default:""},maxSize:{type:Number,default:5},disabled:{type:Boolean,default:!1}},emits:["change"],setup(l,{emit:g}){const d=l,a=g,i=B(),b=B(!1);async function V(){const _=i.value,p=_.files[0];if(_.value="",p.size>d.maxSize*1024*1024){E.warning(`上传的文件不能大于 ${d.maxSize}M`);return}const k=new FormData;k.append("file",p),b.value=!0;const y=await R(k);if(b.value=!1,console.log("上传图片 >>",y),y.code===1){const N=y.data.url;a("change",{id:d.uploadId,src:N})}}function x(){a("change",{id:d.uploadId,src:""})}return(_,p)=>{const k=L("svg-icon");return o(),n("div",W,[e("div",{class:"the-upload-content",style:H({width:l.width})},[l.src?(o(),n("div",X,[e("img",{class:"image",src:l.src,style:H({height:l.autoHeight?void 0:l.height})},null,12,Y),e("div",Z,[l.disabled?C("",!0):(o(),A(k,{key:0,name:"delete",onClick:p[0]||(p[0]=y=>x())}))])])):(o(),n("div",{key:1,class:"the-upload-box fvc",style:H({height:l.height})},[ee,l.disabled?C("",!0):(o(),n("input",{key:0,class:"the-upload-input",type:"file",accept:"image/*",name:"picture",ref_key:"uploadInput",ref:i,onChange:p[1]||(p[1]=q(y=>V(),["stop"]))},null,544))],4))],4),l.tip?(o(),n("p",te,v(b.value?"上传中...":l.tip),1)):C("",!0)])}}}),oe={name:"CollapseHeight"},O=M({...oe,props:{show:{type:Boolean}},setup(l){const g=l,d=B();return G(()=>g.show,function(a,i){a!==i&&(a?F(d.value):le(d.value))}),J(function(){const a=d.value;a.addEventListener("transitionend",function(){g.show?a.style.height="":a.style.display="none"}),a.clientHeight>0&&F(a)}),(a,i)=>(o(),n("section",{class:"collapse-height",ref_key:"collapseBox",ref:d},[K(a.$slots,"default")],512))}});function F(l){if(!l)return;l.style.display="",l.style.height="";const g=l.clientHeight;l.style.height="0px",l.offsetHeight,l.style.height=`${g}px`}function le(l){if(!l)return;const g=l.clientHeight;l.style.height=`${g}px`,l.offsetHeight,l.style.height="0px"}const ne={class:"the-components"},ie=e("div",{class:"mgb-30"},[e("h2",{class:"the-title is-line"},"上传图片组件")],-1),ae={class:"flex mgb-40"},de={class:"mgb-30"},ce=e("h2",{class:"the-title is-line mgr-40"},"滚动条组件",-1),ue=e("div",{class:"mgb-20"},[e("span",{class:"the-tag green"},"横向滚动")],-1),re={class:"list-x mgb-40"},he=e("div",{class:"mgb-20"},[e("span",{class:"the-tag blue"},"垂直滚动")],-1),ge={class:"list-y mgb-40"},me=e("div",{class:"mgb-10"},[e("span",{class:"the-tag cyan"},"宽高超出滚动")],-1),pe={style:{width:"300px",height:"140px"},class:"mgb-30"},fe=e("div",{style:{width:"500px",height:"300px","background-color":"yellow",color:"#555","line-height":"28px"}},[e("p",null,"内容内容内容内容内容内容内容"),e("p",null,"内容内容内容内容内容内容内容内容内容"),e("p",null,"内容内容内容内容内容内容内容")],-1),be=e("div",{class:"mgb-30"},[e("h2",{class:"the-title is-line mgr-40"},"折叠盒子")],-1),ve={class:"mgb-20"},_e={class:"flex"},ye=e("div",{class:"collapse-box"},"box-one",-1),we=e("div",{class:"collapse-box"},"box-two",-1),xe=e("div",{class:"mgb-30"},[e("h2",{class:"the-title is-line mgr-40"},"自定义全局 Dialog 组件")],-1),ke={class:"flex mgb-50"},$e=e("div",{class:"f1"},null,-1),Ce={class:"mgb-10"},Be={key:0},Ve=e("p",null,[e("span",{class:"the-tag orange"},"当前不可点击遮罩层关闭")],-1),Ne={class:"mgb-10"},Se={key:0},De={class:"mgb-10"},Te={class:"dialog-list"},Ie=e("div",{class:"mgb-30"},[e("h2",{class:"the-title is-line"},"自定义 Message 控件")],-1),He={class:"mgb-50"},ze=["onClick"],Me=e("div",{class:"mgb-30"},[e("h2",{class:"the-title is-line"},"自定义 MessageBox 控件")],-1),Ue={class:"mgb-50"},je=M({__name:"the-components",setup(l){const g=z({banner:"",logo:""}),d=B(new Array(10).fill(0).map((c,t)=>t+1));function a(c){g[c.id]=c.src}const i=z({first:{show:!1,count:0},second:{show:!1,count:0},third:{show:!1,count:0}}),b=B(!1);let V;function x(c){i[c].count++,i[c].show=!0,V=setTimeout(()=>{b.value=!0},2e3)}function _(c){i[c].show=!1,p()}function p(){b.value=!1,clearTimeout(V)}const k=[{label:"message-info",type:"info",className:"blue"},{label:"message-success",type:"success",className:"green"},{label:"message-warning",type:"warning",className:"yellow"},{label:"message-error",type:"error",className:"red"}];function y(c){E.show(`This is a prompt message for ${c.type}`,c.type)}function N(c=!1){j({content:c?"确认取消框":"确认框",cancelText:c?"取消":void 0})}const $=z({showOne:!0,showTwo:!0});return(c,t)=>{const T=L("base-dialog"),u=P("ripple");return o(),n("div",ne,[ie,e("div",ae,[f(w(U),{uploadId:"logo",src:g.logo,tip:"正方形图片",onChange:a},null,8,["src"]),f(w(U),{uploadId:"banner",src:g.banner,tip:"高度自适应",autoHeight:!0,onChange:a},null,8,["src"])]),e("div",de,[ce,r((o(),n("button",{class:"the-btn green",onClick:t[0]||(t[0]=()=>d.value.push(d.value.length+1))},[h("添加一个列表 item")])),[[u]]),r((o(),n("button",{class:"the-btn yellow",onClick:t[1]||(t[1]=s=>x("first"))},[h("打开弹出层-1")])),[[u]])]),ue,e("div",re,[f(w(I),{thumbColor:"#42b983"},{default:m(()=>[(o(!0),n(S,null,D(d.value,s=>(o(),n("div",{class:"item item-text",key:s},"item-"+v(s),1))),128))]),_:1})]),he,e("div",ge,[f(w(I),{thumbColor:"#42b983"},{default:m(()=>[(o(!0),n(S,null,D(d.value,s=>(o(),n("div",{class:"item item-text",key:s},"item-"+v(s),1))),128))]),_:1})]),me,e("div",pe,[f(w(I),null,{default:m(()=>[fe]),_:1})]),be,e("section",null,[e("div",ve,[r((o(),n("button",{class:"the-btn blue",onClick:t[2]||(t[2]=s=>$.showOne=!$.showOne)},[h("box-one switch")])),[[u]]),r((o(),n("button",{class:"the-btn blue",onClick:t[3]||(t[3]=s=>$.showTwo=!$.showTwo)},[h("box-one switch")])),[[u]])]),e("div",_e,[f(w(O),{show:$.showOne,class:"mgr-20"},{default:m(()=>[ye]),_:1},8,["show"]),f(w(O),{show:$.showTwo},{default:m(()=>[we]),_:1},8,["show"])])]),xe,e("div",ke,[r((o(),n("button",{class:"the-btn blue",onClick:t[4]||(t[4]=s=>x("first"))},[h("打开弹出层-1")])),[[u]]),$e,r((o(),n("button",{class:"the-btn green",onClick:t[5]||(t[5]=s=>x("second"))},[h("打开弹出层-2")])),[[u]])]),f(T,{title:"第一个 dialog",modelValue:i.first.show,"onUpdate:modelValue":t[7]||(t[7]=s=>i.first.show=s),"close-by-mask":"",onClose:t[8]||(t[8]=s=>p())},{footer:m(()=>[r((o(),n("button",{class:"the-btn red",onClick:t[6]||(t[6]=s=>_("first"))},[h("关闭")])),[[u]])]),default:m(()=>[e("div",null,[e("p",Ce,"出现次数："+v(i.first.count),1),b.value?(o(),n("div",Be,"延迟出现")):C("",!0)])]),_:1},8,["modelValue"]),f(T,{title:"第二个 dialog",modelValue:i.second.show,"onUpdate:modelValue":t[13]||(t[13]=s=>i.second.show=s)},{footer:m(()=>[r((o(),n("button",{class:"the-btn red",onClick:t[11]||(t[11]=s=>_("second"))},[h("关闭")])),[[u]]),r((o(),n("button",{class:"the-btn blue",onClick:t[12]||(t[12]=s=>x("third"))},[h("打开嵌套 Dialog")])),[[u]])]),default:m(()=>[e("div",null,[Ve,e("p",Ne,"出现次数："+v(i.second.count),1),b.value?(o(),n("div",Se,"延迟出现")):C("",!0),f(T,{title:"第三个 dialog",modelValue:i.third.show,"onUpdate:modelValue":t[10]||(t[10]=s=>i.third.show=s),"append-to-body":""},{footer:m(()=>[r((o(),n("button",{class:"the-btn red",onClick:t[9]||(t[9]=s=>_("third"))},[h("关闭嵌套 Dialog")])),[[u]])]),default:m(()=>[e("div",null,[e("p",De,"出现次数："+v(i.third.count),1),e("ul",Te,[(o(!0),n(S,null,D(d.value,s=>(o(),n("li",{class:"dialog-item f-vertical",key:s},v(s),1))),128))])])]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"]),Ie,e("div",He,[(o(),n(S,null,D(k,s=>r(e("button",{class:Q(["the-btn",s.className]),key:s.type,onClick:Oe=>y(s)},[h(v(s.label),1)],10,ze),[[u]])),64))]),Me,e("div",Ue,[r((o(),n("button",{class:"the-btn blue",onClick:t[14]||(t[14]=s=>N())},[h("打开确认框")])),[[u]]),r((o(),n("button",{class:"the-btn green",onClick:t[15]||(t[15]=s=>N(!0))},[h("打开确认取消框")])),[[u]])])])}}});export{je as default};
