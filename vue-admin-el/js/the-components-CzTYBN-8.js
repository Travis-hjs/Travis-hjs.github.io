import{c as q,a as T,e as D,b as W}from"./index-CHulc6X_.js";import{u as A}from"./common-DQtMtKaP.js";import{d as F,j as S,y as P,e as c,f as r,p as z,q as V,i as e,t as x,m as H,s as E,v as G,w as J,o as K,r as N,b as M,c as d,u as C,g as n,C as v,F as B,z as I}from"./element-plus-CrjfmyRg.js";const Q={class:"base-upload-image"},R={key:0,class:"image-box"},X=["src"],Y={class:"remove fvc"},Z=e("div",{class:"add-icon"},null,-1),ee=["accept"],te={key:0,class:"upload-tip"},se={name:"UploadImage"},j=F({...se,props:{src:{type:String,default:""},uploadId:{type:[String,Number],default:""},width:{type:String,default:"178px"},height:{type:String,default:"178px"},autoHeight:{type:Boolean,default:!1},tip:{type:[String,Number],default:""},maxSize:{type:Number,default:2},copy:{type:Boolean,default:!0},accept:{type:Array,default:()=>["image/jpg","image/png","image/jpeg","image/gif"]}},emits:["change"],setup(s,{emit:f}){const l=s,a=S(!1),i=S(),_=f;function $(){_("change",{id:l.uploadId,src:""})}function w(){q(l.src,()=>T.success("复制图片地址成功！"),h=>T.error(h))}async function k(){const h=i.value,u=h.files[0];if(h.value="",u.size>l.maxSize*1024*1024)return T.warning(`上传的文件不能大于 ${l.maxSize}M`);const b=new FormData;b.append("file",u),a.value=!0;const g=await A(b);if(a.value=!1,console.log("上传图片 >>",g),g.code===1){const m=g.data.url;_("change",{id:l.uploadId,src:m})}}return(h,u)=>{const b=P("loading");return c(),r("div",Q,[z((c(),r("div",{class:"base-upload-content",style:V({width:s.width})},[s.src?(c(),r("div",R,[e("img",{class:"image",src:s.src,style:V({height:s.autoHeight?"":s.height})},null,12,X),e("div",Y,[e("i",{class:"upload-icon el-icon-delete",onClick:u[0]||(u[0]=g=>$())}),e("i",{class:"upload-icon el-icon-document-copy",onClick:u[1]||(u[1]=g=>w())})])])):(c(),r("div",{key:1,class:"upload-box fvc",style:V({height:s.height})},[Z,e("input",{class:"upload-input",type:"file",name:"picture",ref_key:"uploadInput",ref:i,accept:s.accept.toString(),onChange:u[2]||(u[2]=g=>k())},null,40,ee)],4))],4)),[[b,a.value]]),s.tip?(c(),r("p",te,x(a.value?"上传中...":s.tip),1)):H("",!0)])}}}),oe={class:"upload-wrap"},le=["accept"],ne=F({name:"UploadWrap"});({...ne});const ae={name:"CollapseHeight"},O=F({...ae,props:{show:{type:Boolean}},setup(s){const f=s,l=S();return J(()=>f.show,function(a,i){a!==i&&(a?L(l.value):ie(l.value))}),K(function(){const a=l.value;a.addEventListener("transitionend",function(){f.show?a.style.height="":a.style.display="none"}),a.clientHeight>0&&L(a)}),(a,i)=>(c(),r("section",{class:"collapse-height",ref_key:"collapseBox",ref:l},[E(a.$slots,"default")],512))}});function L(s){if(!s)return;s.style.display="",s.style.height="";const f=s.clientHeight;s.style.height="0px",s.offsetHeight,s.style.height=`${f}px`}function ie(s){if(!s)return;const f=s.clientHeight;s.style.height=`${f}px`,s.offsetHeight,s.style.height="0px"}const de={class:"the-components"},ue=e("div",{class:"mgb-30"},[e("h2",{class:"the-title is-line"},"上传图片组件")],-1),ce={class:"flex mgb-40"},re={class:"mgb-30"},pe=e("h2",{class:"the-title is-line mgr-40"},"滚动条组件",-1),fe=e("div",{class:"mgb-20"},[e("span",{class:"the-tag green"},"横向滚动")],-1),ge={class:"list-x mgb-40"},he=e("div",{class:"mgb-20"},[e("span",{class:"the-tag blue"},"垂直滚动")],-1),me={class:"list-y mgb-40"},ye=e("div",{class:"mgb-10"},[e("span",{class:"the-tag cyan"},"宽高超出滚动")],-1),ve={style:{width:"300px",height:"140px"},class:"mgb-30"},_e=e("div",{style:{width:"500px",height:"300px","background-color":"yellow",color:"#555","line-height":"28px"}},[e("p",null,"内容内容内容内容内容内容内容"),e("p",null,"内容内容内容内容内容内容内容内容内容"),e("p",null,"内容内容内容内容内容内容内容")],-1),be=e("div",{class:"mgb-30"},[e("h2",{class:"the-title is-line mgr-40"},"折叠盒子")],-1),we={class:"mgb-20"},xe={class:"flex"},$e=e("div",{class:"collapse-box"},"box-one",-1),ke=e("div",{class:"collapse-box"},"box-two",-1),Ce=e("div",{class:"mgb-30"},[e("h2",{class:"the-title is-line mgr-40"},"自定义全局 Dialog 组件")],-1),Se={class:"flex"},Te=e("div",{class:"f1"},null,-1),Fe={class:"mgb-10"},Be={key:0},Ie=e("p",null,[e("span",{class:"the-tag orange"},"当前不可点击遮罩层关闭")],-1),Ue={class:"mgb-10"},De={key:0},Ve={class:"mgb-10"},Ne={class:"dialog-list"},ze=e("div",{class:"mgb-30"},[e("h2",{class:"the-title is-line"},"自定义 Message 控件")],-1),He={class:"mgb-50"},Me=e("div",{class:"mgb-30"},[e("h2",{class:"the-title is-line"},"自定义 MessageBox 控件")],-1),je={class:"mgb-50"},Ee=F({__name:"the-components",setup(s){const f=N({banner:"",logo:""}),l=S(new Array(10).fill(0).map((p,t)=>t+1));function a(p){f[p.id]=p.src}const i=N({first:{show:!1,count:0},second:{show:!1,count:0},third:{show:!1,count:0}}),_=S(!1);let $;function w(p){i[p].count++,i[p].show=!0,$=setTimeout(()=>{_.value=!0},2e3)}function k(p){i[p].show=!1,h()}function h(){_.value=!1,clearTimeout($)}const u=[{label:"message-info",type:"info",btnType:"primary"},{label:"message-success",type:"success",btnType:"success"},{label:"message-warning",type:"warning",btnType:"warning"},{label:"message-error",type:"error",btnType:"danger"}];function b(p){T.show(`This is a prompt message for ${p.type}`,p.type)}function g(p=!1){W({content:p?"确认取消框":"确认框",cancelText:p?"取消":void 0})}const m=N({showOne:!0,showTwo:!0});return(p,t)=>{const y=M("el-button"),U=M("base-dialog");return c(),r("div",de,[ue,e("div",ce,[d(C(j),{uploadId:"logo",src:f.logo,tip:"正方形图片",onChange:a},null,8,["src"]),d(C(j),{uploadId:"banner",src:f.banner,tip:"高度自适应",autoHeight:!0,onChange:a},null,8,["src"])]),e("div",re,[pe,d(y,{type:"success",onClick:t[0]||(t[0]=()=>l.value.push(l.value.length+1))},{default:n(()=>[v("添加一个列表 item")]),_:1}),d(y,{type:"primary",onClick:t[1]||(t[1]=o=>w("first"))},{default:n(()=>[v("打开弹出层-1")]),_:1})]),fe,e("div",ge,[d(C(D),{thumbColor:"#42b983"},{default:n(()=>[(c(!0),r(B,null,I(l.value,o=>(c(),r("div",{class:"item item-text",key:o},"item-"+x(o),1))),128))]),_:1})]),he,e("div",me,[d(C(D),{thumbColor:"#42b983"},{default:n(()=>[(c(!0),r(B,null,I(l.value,o=>(c(),r("div",{class:"item item-text",key:o},"item-"+x(o),1))),128))]),_:1})]),ye,e("div",ve,[d(C(D),null,{default:n(()=>[_e]),_:1})]),be,e("section",null,[e("div",we,[d(y,{type:"primary",onClick:t[2]||(t[2]=o=>m.showOne=!m.showOne)},{default:n(()=>[v("box-one switch")]),_:1}),d(y,{type:"primary",onClick:t[3]||(t[3]=o=>m.showTwo=!m.showTwo)},{default:n(()=>[v("box-one switch")]),_:1})]),e("div",xe,[d(C(O),{show:m.showOne,class:"mgr-20"},{default:n(()=>[$e]),_:1},8,["show"]),d(C(O),{show:m.showTwo},{default:n(()=>[ke]),_:1},8,["show"])])]),Ce,e("div",Se,[d(y,{type:"primary",onClick:t[4]||(t[4]=o=>w("first"))},{default:n(()=>[v("打开弹出层-1")]),_:1}),Te,d(y,{type:"success",onClick:t[5]||(t[5]=o=>w("second"))},{default:n(()=>[v("打开弹出层-2")]),_:1})]),d(U,{title:"第一个 dialog",modelValue:i.first.show,"onUpdate:modelValue":t[7]||(t[7]=o=>i.first.show=o),onClose:t[8]||(t[8]=o=>h())},{footer:n(()=>[d(y,{type:"danger",onClick:t[6]||(t[6]=o=>k("first"))},{default:n(()=>[v("关闭")]),_:1})]),default:n(()=>[e("div",null,[e("p",Fe,"出现次数："+x(i.first.count),1),_.value?(c(),r("div",Be,"延迟出现")):H("",!0)])]),_:1},8,["modelValue"]),d(U,{title:"第二个 dialog",modelValue:i.second.show,"onUpdate:modelValue":t[13]||(t[13]=o=>i.second.show=o),closeByMask:!1},{footer:n(()=>[d(y,{type:"danger",onClick:t[11]||(t[11]=o=>k("second"))},{default:n(()=>[v("关闭")]),_:1}),d(y,{type:"success",onClick:t[12]||(t[12]=o=>w("third"))},{default:n(()=>[v("打开嵌套 Dialog")]),_:1})]),default:n(()=>[e("div",null,[Ie,e("p",Ue,"出现次数："+x(i.second.count),1),_.value?(c(),r("div",De,"延迟出现")):H("",!0),d(U,{title:"第三个 dialog",modelValue:i.third.show,"onUpdate:modelValue":t[10]||(t[10]=o=>i.third.show=o),appendToBody:!0},{footer:n(()=>[d(y,{type:"danger",onClick:t[9]||(t[9]=o=>k("third"))},{default:n(()=>[v("关闭嵌套 Dialog")]),_:1})]),default:n(()=>[e("div",null,[e("p",Ve,"出现次数："+x(i.third.count),1),e("ul",Ne,[(c(!0),r(B,null,I(l.value,o=>(c(),r("li",{class:"dialog-item f-vertical",key:o},x(o),1))),128))])])]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"]),ze,e("div",He,[(c(),r(B,null,I(u,o=>d(y,{key:o.type,type:o.btnType,onClick:Oe=>b(o)},{default:n(()=>[v(x(o.label),1)]),_:2},1032,["type","onClick"])),64))]),Me,e("div",je,[d(y,{type:"primary",onClick:t[14]||(t[14]=o=>g())},{default:n(()=>[v("打开确认框")]),_:1}),d(y,{type:"primary",onClick:t[15]||(t[15]=o=>g(!0))},{default:n(()=>[v("打开确认取消框")]),_:1})])])}}});export{Ee as default};
