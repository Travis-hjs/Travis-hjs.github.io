function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./home-DS8w9Lr4.js","./element-plus-CwxVOKr1.js","../css/home-pmM6Hd5d.css","./nested-CTzLIfze.js","../css/nested-DBbt7j1J.css","./menu-1-DlMFyE1u.js","./Table.vue_vue_type_script_setup_true_lang-R_FyhFcS.js","./example-hU75-o1d.js","../css/example-DFXcbB_t.css","../css/menu-1-PIQFC6DV.css","./menu-2-fLF1PGjZ.js","../css/menu-2-DwSbhe9C.css","./menu-3-QqxpjCxR.js","../css/menu-3-BasJ6sch.css","./menu-4-Dtpuo_U0.js","../css/menu-4-B_QkhR3M.css","./request-CdIMnGYM.js","../css/request-BjYaB_Vm.css","./the-components-PZ1O4m-k.js","../css/the-components-C334p1wH.css","./curd-page-ClSh5mjD.js","./index.vue_vue_type_script_setup_true_lang-xydLaWHV.js","./curd-config-DgStjn3d.js","./table-page-CsHWeAKq.js","./index-Cx8-sQcv.js","../css/index-CXvTFKej.css","./login-CR-HeRR-.js","../css/login-DXKFvFQf.css","./page-401-Bmgqwie8.js","../css/page-401-hNHv4Vr6.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var Qo=Object.defineProperty;var Zo=(e,n,t)=>n in e?Qo(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var Te=(e,n,t)=>(Zo(e,typeof n!="symbol"?n+"":n,t),t);import{r as he,w as ke,o as je,a as tt,c as g,b as S,d as le,e as A,F as G,f as el,g as ee,h as O,i as v,j as R,k as I,l as me,m as b,n as ne,t as te,p as w,u as x,q as Re,s as Ce,T as Xe,v as Ft,x as ue,y as mo,z as xe,A as St,B as ho,E as go,C as tl,D as Je,G as Ve,H as Ge,I as nl,J as et,K as yo,L as ol,M as Dt,N as Vt,O as ll,P as il,Q as Cn,R as sl,S as al,U as rl,V as cl,W as ul,X as dl,Y as fl,Z as pl,_ as ml,$ as hl,a0 as gl,a1 as yl,a2 as vl,a3 as bl,a4 as _l,a5 as wl,a6 as kl,a7 as xl,a8 as El,a9 as $l,aa as Cl,ab as Sl,ac as Dl,ad as Tl,ae as Fl,af as Ll,ag as Ol,ah as Il,ai as Pl,aj as Rl,ak as Bl,al as Al,am as Ml,an as Vl,ao as Nl,ap as jl,aq as ql,ar as zl,as as Ul,at as Wl,au as Hl,av as Yl,aw as Jl,ax as Gl,ay as Kl}from"./element-plus-CwxVOKr1.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(l){if(l.ep)return;l.ep=!0;const i=t(l);fetch(l.href,i)}})();var Xl={name:"zh-cn",el:{breadcrumb:{label:"面包屑"},colorpicker:{confirm:"确定",clear:"清空",defaultLabel:"颜色选择器",description:"当前颜色 {color}，按 Enter 键选择新颜色",alphaLabel:"选择透明度的值"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",dateTablePrompt:"使用方向键与 Enter 键可选择日期",monthTablePrompt:"使用方向键与 Enter 键可选择月份",yearTablePrompt:"使用方向键与 Enter 键可选择年份",selectedDate:"已选日期",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},weeksFull:{sun:"星期日",mon:"星期一",tue:"星期二",wed:"星期三",thu:"星期四",fri:"星期五",sat:"星期六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},inputNumber:{decrease:"减少数值",increase:"增加数值"},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},dropdown:{toggleDropdown:"切换下拉选项"},mention:{loading:"加载中"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页",page:"页",prev:"上一页",next:"下一页",currentPage:"第 {pager} 页",prevPages:"向前 {pager} 页",nextPages:"向后 {pager} 页",deprecationWarning:"你使用了一些已被废弃的用法，请参考 el-pagination 的官方文档"},dialog:{close:"关闭此对话框"},drawer:{close:"关闭此对话框"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!",close:"关闭此对话框"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},slider:{defaultLabel:"滑块介于 {min} 至 {max}",defaultRangeStartLabel:"选择起始值",defaultRangeEndLabel:"选择结束值"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tour:{next:"下一步",previous:"上一步",finish:"结束导览"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},carousel:{leftArrow:"上一张幻灯片",rightArrow:"下一张幻灯片",indicator:"幻灯片切换至索引 {index}"}}};function Ql(e={}){const n=document,t=`__${Math.random().toString(36).slice(2,7)}`,o={box:`msg-box${t}`,hide:`hide${t}`,text:`msg-text${t}`,icon:`msg-icon${t}`},l=n.createElement("style");l.textContent=`
  .${o.box}, .${o.icon}, .${o.text} {
    padding: 0;
    margin: 0;
    box-sizing: border-box;
  }
  .${o.box} {
    position: fixed;
    top: 0;
    left: 50%;
    display: flex;
    padding: 12px 16px;
    border-radius: 2px;
    background-color: #fff;
    box-shadow: 0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);
    white-space: nowrap;
    animation: ${o.box}-move .4s;
    transition: .4s all;
    transform: translate3d(-50%, 0%, 0);
    opacity: 1;
    overflow: hidden;
  }
  .${o.box}::after {
    content: "";
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    width: 4px;
  }
  @keyframes ${o.box}-move {
    0% {
      opacity: 0;
      transform: translate3d(-50%, -100%, 0);
    }
    100% {
      opacity: 1;
      transform: translate3d(-50%, 0%, 0);
    }
  }
  .${o.box}.${o.hide} {
    opacity: 0;
    /* transform: translate3d(-50%, -100%, 0); */
    transform: translate3d(-50%, -100%, 0) scale(0);
  }
  .${o.icon} {
    display: inline-block;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    overflow: hidden;
    margin-right: 6px;
    position: relative;
  }
  .${o.text} {
    font-size: 14px;
    line-height: 18px;
    color: #555;
  }
  .${o.icon}::after,
  .${o.icon}::before {
    position: absolute;
    content: "";
    background-color: #fff;
  }
  .${o.box}.info .${o.icon}, .${o.box}.info::after {
    background-color: #1890ff;
  }
  .${o.box}.success .${o.icon}, .${o.box}.success::after {
    background-color: #52c41a;
  }
  .${o.box}.warning .${o.icon}, .${o.box}.warning::after {
    background-color: #faad14;
  }
  .${o.box}.error .${o.icon}, .${o.box}.error::after {
    background-color: #ff4d4f;
  }
  .${o.box}.info .${o.icon}::after,
  .${o.box}.warning .${o.icon}::after {
    top: 15%;
    left: 50%;
    margin-left: -1px;
    width: 2px;
    height: 2px;
    border-radius: 50%;
  }
  .${o.box}.info .${o.icon}::before,
  .${o.box}.warning .${o.icon}::before {
    top: calc(15% + 4px);
    left: 50%;
    margin-left: -1px;
    width: 2px;
    height: 40%;
  }
  .${o.box}.error .${o.icon}::after, 
  .${o.box}.error .${o.icon}::before {
    top: 20%;
    left: 50%;
    width: 2px;
    height: 60%;
    margin-left: -1px;
    border-radius: 1px;
  }
  .${o.box}.error .${o.icon}::after {
    transform: rotate(-45deg);
  }
  .${o.box}.error .${o.icon}::before {
    transform: rotate(45deg);
  }
  .${o.box}.success .${o.icon}::after {
    box-sizing: content-box;
    background-color: transparent;
    border: 2px solid #fff;
    border-left: 0;
    border-top: 0;
    height: 50%;
    left: 35%;
    top: 13%;
    transform: rotate(45deg);
    width: 20%;
    transform-origin: center;
  }
  `.replace(/(\n|\t|\s)*/ig,"$1").replace(/\n|\t|\s(\{|\}|\,|\:|\;)/ig,"$1").replace(/(\{|\}|\,|\:|\;)\s/ig,"$1"),n.head.appendChild(l);const i=[];function a(d){let s=10;for(let h=0;h<i.length;h++){const m=i[h];if(d&&d===m)break;s+=m.clientHeight+20}return s}function r(d){for(let s=0;s<i.length;s++)if(i[s]===d){i.splice(s,1);break}d.classList.add(o.hide),i.forEach(function(s){s.style.top=`${a(s)}px`})}function c(d,s="info",h){const m=n.createElement("div");m.className=`${o.box} ${s}`,m.style.top=`${a()}px`,m.style.zIndex=vo.message,m.innerHTML=`
    <span class="${o.icon}"></span>
    <span class="${o.text}">${d}</span>
    `,i.push(m),n.body.appendChild(m);function p(){m.removeEventListener("animationend",p),setTimeout(r,h||e.duration||3e3,m)}m.addEventListener("animationend",p);function u(){getComputedStyle(m).opacity==="0"&&(m.removeEventListener("transitionend",u),m.remove())}m.addEventListener("transitionend",u)}return{show:c,info(d){c(d,"info")},success(d){c(d,"success")},warning(d){c(d,"warning")},error(d){c(d,"error")}}}function Zl(){const e=document,n=`__${Math.random().toString(36).slice(2,7)}`,t={mask:`dialog-mask${n}`,popup:`dialog-popup${n}`,title:`dialog-title${n}`,content:`dialog-content${n}`,footer:`dialog-footer${n}`,confirm:`confirm${n}`,cancel:`cancel${n}`,fade:`fade${n}`,show:`show${n}`,hide:`hide${n}`},o=`
  .${t.mask} {
    --time: .3s;
    --transition: .3s all;
    --black: #333;
    --text-color: #555;
    --confirm-bg: #2ec1cb;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.45);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: var(--transition);
    animation: ${t.fade} var(--time);
  }
  .${t.mask} * {
    box-sizing: border-box;
  }
  .${t.popup} {
    width: 74%;
    max-width: 375px;
    border-radius: var(--border-radius);
    box-shadow: 0px 1px 5px 0px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 3px 1px -2px rgba(0, 0, 0, 0.12);
    background-color: #fff;
    transition: var(--transition);
    animation: ${t.show} var(--time);
  }
  .${t.title} {
    font-size: 18px;
    padding: 12px 15px;
    border-bottom: solid 1px #eee;
    font-weight: normal;
    color: var(--black);
    text-align: left;
  }
  .${t.content} {
    padding: 16px 15px;
    font-size: 15px;
    color: var(--text-color);
    text-align: left;
  }
  .${t.footer} {
    width: 100%;
    text-align: right;
    border-top: solid 1px #eee;
    padding: 12px 15px;
    font-size: 0;
  }
  .${t.footer} button {
    padding: 8px 15px;
  }
  @keyframes ${t.fade} {
    0% { opacity: 0; }
    100% { opacity: 1; }
  }
  @keyframes ${t.show} {
    0% { transform: translate3d(var(--x), var(--y), 0) scale(0); }
    100% { transform: translate3d(0, 0, 0) scale(1); }
  }
  .${t.mask}.${t.hide} {
    opacity: 0;
  }
  .${t.mask}.${t.hide} .${t.popup} {
    transform: translate3d(var(--x), var(--y), 0) scale(0);
  }
  `,l=e.createElement("style");l.textContent=o.replace(/(\n|\t|\s)*/ig,"$1").replace(/\n|\t|\s(\{|\}|\,|\:|\;)/ig,"$1").replace(/(\{|\}|\,|\:|\;)\s/ig,"$1"),e.head.appendChild(l);const i={x:"0vw",y:"0vh"};e.addEventListener("click",function(r){const{innerWidth:c,innerHeight:d}=window,s=c/2,h=d/2,m=r.clientY-h,p=r.clientX-s;i.x=`${p/c*100}vw`,i.y=`${m/d*100}vh`},!0);function a(r){const c=e.createElement("section");c.className=t.mask,c.style.zIndex=vo.dialog,c.style.setProperty("--x",i.x),c.style.setProperty("--y",i.y),i.x="0vw",i.y="0vh";const d=r.cancelText?`<button class="el-button ${t.cancel}">${r.cancelText}</button>`:"";c.innerHTML=`
    <div class="${t.popup}">
      <h2 class="${t.title}">${typeof r.title=="string"?r.title:"提示"}</h2>
      <div class="${t.content}">${r.content}</div>
      <div class="${t.footer}">
        ${d}
        <button class="el-button el-button--primary ${t.confirm}">${r.confirmText||"确认"}</button>
      </div>
    </div>
    `,e.body.appendChild(c),c.addEventListener("transitionend",function(E){E.target===c&&c.classList.contains(t.hide)&&c.remove()});const s=c.querySelector(`.${t.confirm}`),h=c.querySelector(`.${t.cancel}`);let m=!1;function p(){c.classList.add(t.hide)}function u(){m=!0;const E='<i class="el-icon-loading el-icon--left"></i>';s.innerHTML=E+s.innerHTML,s.classList.add("is-loading"),h&&h.classList.add("is-disabled")}function f(){var E;m=!1,(E=s.querySelector(".el-icon-loading"))==null||E.remove(),s.classList.remove("is-loading"),h&&h.classList.remove("is-disabled")}async function y(E){if(!m){if(!E)return p();if(ae(E,"asyncfunction")){u();const k=await E();f(),ae(k,"boolean")?k&&p():p();return}if(E.length){u(),E(k=>{f(),k&&p()});return}E(),p()}}r.cancelText&&(h.onclick=function(){y(r.cancel)}),s.onclick=function(){y(r.confirm)}}return{show:a}}const vo={get message(){return(lt()+20).toString()},get dialog(){return(lt()+10).toString()}},Be=Ql({duration:3600}),ei=Zl(),Ze=ei.show;function Ne(e){return Object.prototype.toString.call(e).match(/\[object (\S*)\]/)[1].toLocaleLowerCase()}function ae(e,n){return Ne(e)===n}function He(e,n){for(const t in n)if(Object.prototype.hasOwnProperty.call(e,t)){const o=n[t],l=e[t];ae(l,"object")?He(l,o):e[t]=o}}function Ye(e=Date.now(),n="Y-M-D h:m:s"){if(["null",null,"undefined",void 0,""].includes(e))return"";typeof e=="string"&&new Date(e).toString()==="Invalid Date"&&(e=e.replace(/-/g,"/"));const t=a=>`0${a}`.slice(-2),o=new Date(e),l=["Y","M","D","h","m","s"],i=[o.getFullYear().toString(),t(o.getMonth()+1),t(o.getDate()),t(o.getHours()),t(o.getMinutes()),t(o.getSeconds())];for(let a=0;a<i.length;a++)n=n.replace(l[a],i[a]);return n}function gn(e,n,t){if(e=e.toString().replace(/(^\s*)|(\s*$)/g,""),!e){t&&t("复制的内容不能为空！");return}const o="the-clipboard";let l=document.getElementById(o);l||(l=document.createElement("textarea"),l.id=o,l.readOnly=!0,l.style.cssText="font-size: 15px; position: fixed; top: -1000%; left: -1000%;",document.body.appendChild(l)),l.value=e,l.select(),l.setSelectionRange(0,l.value.length),document.execCommand("copy")?n?n():Be.success("复制成功"):t&&t("复制失败")}function Sn(e,n,t){let o=e.toString().trim();if(o.length===0)return"";const l=t&&o[0]=="-"?"-":"";if(n){o=o.replace(/[^0-9.]+/ig,"");let i=o.split(".");i.length>1&&(o=i[0]+"."+i[1])}else o=o.replace(/[^0-9]+/ig,"");return l+o}function Ee(e){const n=new Map;function t(o){if(!o||typeof o!="object")return o;if(o instanceof Date)return new Date(o);if(o instanceof RegExp)return new RegExp(o);if(o instanceof Map)return new Map(Array.from(o,([i,a])=>[t(i),t(a)]));if(o instanceof Set)return new Set(Array.from(o,i=>t(i)));if(n.has(o))return n.get(o);const l=Array.isArray(o)?[]:{};n.set(o,l);for(const i in o)l[i]=t(o[i]);return l}return t(e)}function Jd(e){let n="";for(const t in e)n+=`&${t}=${e[t]}`;return n.slice(1)}function yn(e,n={}){let t=n;if(ae(e,"string"))try{t=JSON.parse(e)}catch(o){console.warn("JSON格式化对象错误 >>",o)}return t}function ti(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|OperaMini/i.test(navigator.userAgent)}function Ue(e,n){return Math.round(Math.random()*(n-e)+e)}function ni(e,n){const t=parseInt((Math.random()*n).toString())+e,o=2e4,l=1e3;let i="",a=0;for(;a<t;){a++;const r=parseInt((Math.random()*l).toString());i+=String.fromCharCode(o+r)}return i}function Gd(e,n){return e.filter((t,o,l)=>l.findIndex(i=>n(i,t))===o)}function Kd(e){const n={};for(const t in e){const o=e[t],l=t.split(".");l.reduce((i,a,r)=>(r===l.length-1?i[a]=o:i[a]=i[a]||{},i[a]),n)}return n}function Xd(e,n){return n.includes(".")?n.split(".").reduce((t,o)=>t&&t[o],e):e[n]}function Qd(e,n){const t=URL.createObjectURL(e),o=document.createElement("a");o.href=t,o.download=n,document.body.append(o),o.click(),o.remove(),URL.revokeObjectURL(t)}function Zd(e,n=2){function t(s){if(Array.isArray(s))return s.map(h=>t(h));if(typeof s=="object"&&s!==null){const h={};for(const m in s)h[m]=t(s[m]);return h}else{if(typeof s=="number")return`<code style='color: var(--orange)'>${s}</code>`;if(typeof s=="string")return`<code style='color: var(--green)'>${s}</code>`;if(s==null)return`<code style='color: var(--empty)'>${s}</code>`}return s}function o(s){return s.match(/^\s*/)[0].length}const l=t(JSON.parse(e)),a=JSON.stringify(l,null,4).split(`
`),r=n*2||4;let c="";return a.forEach(s=>{const h=o(s);let m=s.trim();m.includes("color: var(--orange)")&&(m=m.replace('"<code',"<code").replace('</code>"',"</code>")),c+=`<p style="text-indent: ${h*r}px;">${m}</p>`}),`<section style="--black: #555; --orange: orange; --green: green; --empty: #ff4949; padding: 10px; background-color: #f8f8f8; word-wrap: break-word;">${c}</section>`}function oi(e){const t=`; ${document.cookie}`.split(`; ${e}=`);return t.length===2?t.pop().split(";").shift():""}function li(e,n,t){let o=`${e}=${n}; path=/`;t&&(t.expires&&(o+=`; expires=${t.expires.toUTCString()}`),t.domain&&(o+=`; domain=${t.domain}`)),document.cookie=o}function ii(e,n){const t="expires=Thu, 01 Jan 1970 00:00:00 GMT";document.cookie=`${e}=; path=/; ${t}`}const Nt="ModuleUser";function Dn(){return{id:"",name:"",type:"",token:"",avatar:"",account:"",password:""}}const si=3,ai=24*60*60*1e3;class ri{constructor(){Te(this,"info",he(Dn()));this.init()}init(){const n=oi(Nt);if(n){const t=yn(n);He(this.info,t)}}update(n){He(this.info,n),li(Nt,JSON.stringify(this.info),{expires:new Date(Date.now()+si*ai)})}reset(){He(this.info,Dn()),ii(Nt)}}const ci=""+new URL("../image/logo-CPmPqqKk.png",import.meta.url).href,Tn="ModuleLayout";class ui{constructor(){Te(this,"addRouters",[]);Te(this,"completeRouters",[]);Te(this,"info",he({showTagList:!0,showSidebar:!0,showSidebarLogo:!0,tagList:[],layoutMode:"",keyword:""}));const n=sessionStorage.getItem(Tn);try{n&&He(this.info,JSON.parse(n))}catch(t){console.log("ModuleLayout init fail >>",t)}ke(this.info,()=>{sessionStorage.setItem(Tn,JSON.stringify(this.info))})}}const jt="ModuleGoods";function Fn(){return{id:0,name:"",price:0,specs:{size:"xs",width:"",height:""}}}class di{constructor(){Te(this,"info",he(Fn()));const n=sessionStorage.getItem(jt);if(n){const t=yn(n);He(this.info,t)}}update(n){He(this.info,n),sessionStorage.setItem(jt,JSON.stringify(this.info))}reset(){He(this.info,Fn()),sessionStorage.removeItem(jt)}}class fi{constructor(){Te(this,"projectInfo",{title:"Vue Typescript Admin",name:"XXX后台管理平台",logo:ci,link:"https://github.com/Travis-hjs/vue-admin",email:"1141752341@qq.com"});Te(this,"layout",new ui);Te(this,"user",new ri);Te(this,"_goods");console.log("%c ModuleStore init","color: #409EFF")}get goods(){return this._goods||(this._goods=new di),this._goods}}const de=new fi;let Ln=1e3;function lt(){const e=Ln;return Ln++,e}let On=0;function kt(e){return On++,e=e?`${e}-`:"",`${e}${Math.random().toString(36).slice(2)}-${Date.now()}-${On}`}function ef(e=10){return{pageSize:e,currentPage:1,total:0}}function tf(e){let n,t=0;function o(){n&&e.callback({width:n.clientWidth,height:n.clientHeight})}const l=de.layout;ke(()=>l.info.showSidebar,function(){t&&clearTimeout(t),t=setTimeout(o,300)}),je(function(){n=ae(e.el,"string")?document.querySelector(e.el):e.el,window.addEventListener("resize",o),o()}),tt(function(){t&&clearTimeout(t),window.removeEventListener("resize",o)})}function nt(e){const n=e.findLevel||3,t=e.dataKey||"key",o={index:-1},l={key:""};function i(s,h=1){const m=s.dataset[t];if(m)return m;if(h<n&&s.parentElement)return i(s.parentElement,h+1)}function a(s){const h={};return s.forEach((m,p)=>h[m]=p),h}function r(s){o.index=s}function c(){o.index=-1}function d(s,h){if(s.preventDefault(),o.index<0)return;const m=i(s.target);if(!m||m===l.key)return;l.key=m;const p=e.list(),u=p.map(k=>k[e.key]),f=JSON.stringify(u),y=JSON.parse(f);if([y[o.index],y[h]]=[y[h],y[o.index]],f===JSON.stringify(y))return;const E=a(y);p.sort((k,$)=>{const M=e.key,K=E[k[M]],_=E[$[M]];return K-_}),o.index=h}return{onDragStart:r,onDragMove:d,onDropEnd:c}}function we(e,n=!0){return{required:n,message:e,trigger:"blur"}}function tn(e,n=!0){return{required:n,message:e,trigger:"change"}}const Me=he({urls:[],zIndex:0,index:0,show:!1});function pi(e){if(!e.urls)return Be.warning("当前没有可以预览的图片~");Me.urls=e.urls,Me.index=e.index||0,Me.zIndex=e.zIndex||lt(),Me.show=!0}function mi(){Me.show=!1}function hi(){return Me.show?g(S("el-image-viewer"),{"url-list":Me.urls,"z-index":Me.zIndex,"initial-index":Me.index,onClose:mi},null):null}const bo="--label-width",gi=le({name:"FilterWrap",props:{labelWidth:{type:String,default:"96px"},labelRight:Boolean},setup(e,{slots:n}){return()=>g("section",{class:`the-filter-wrap flex${e.labelRight?" label-right":""}`,style:{[bo]:e.labelWidth}},[n.left?g("div",{class:"the-filter-side"},[n.left()]):null,n.content?n.content():g("div",{class:"the-filter-content f1"},[n.default&&n.default()]),n.right?g("div",{class:"the-filter-side"},[n.right()]):null])}}),nn=le({name:"FilterItem",props:{label:String,labelWidth:String,required:Boolean},setup(e,{slots:n}){return()=>g("div",{class:`the-filter-item flex${e.required?" is-required":""}`},[n.label||e.label?g("span",{class:"the-filter-label f-vertical",style:{[bo]:e.labelWidth}},[n.label?n.label():e.label]):null,n.default&&n.default()])}});function yi(e){const n=e.onSearch||(()=>{});return g(G,null,[g(S("el-button"),{disabled:e.disabled||e.loading,onClick:()=>n(!0)},{default:()=>[g("i",{class:`el-icon-${e.loading?"loading":"refresh"} el-icon--left`},null),A("重置")]}),g(S("el-button"),{type:"primary",disabled:e.disabled||e.loading,onClick:()=>n(!1)},{default:()=>[g("i",{class:`el-icon-${e.loading?"loading":"search"} el-icon--left`},null),A("搜索")]})])}function nf(){const e=he({height:void 0,id:kt("table")});let n;function t(){if(!n)return;let i=n.clientHeight;i&&(e.height=i)}let o=!1,l;return el(function(){o&&t()}),je(function(){n=document.getElementById(e.id),n&&n.classList.contains("f1")&&(n.style.overflow="hidden",t(),l=new ResizeObserver(function(){t()}),l.observe(n),setTimeout(()=>{o=!0},100))}),tt(function(){l&&l.disconnect()}),{update:t,adaptive:e}}const We="action-right",vi={key:0},bi=w("i",{class:"el-icon-arrow-down el-icon--right"},null,-1),_i={key:0,class:"el-icon-loading"},wi={name:"ActionCell"},ki=le({...wi,props:{max:{type:[Number,String],default:3},row:{type:Object,default:()=>({})},index:{type:Number,default:-1},actions:{type:Array,default:[]},clickStop:{type:Boolean,default:!1}},setup(e){const n=e,t=ee(()=>{const r=["boolean","function","string"],c=n.actions.filter(s=>r.includes(Ne(s.show))?l(s,"show"):!0),d=Number(n.max);return{btn:c.length>d?c.filter((s,h)=>h<d-1):c,dropdown:c.length>d?c.filter((s,h)=>h>=d-1):[]}});function o(r,c){const d=r[c];if(ae(d,"function"))return d(n.row);if(ae(d,"string")){let s=d;if(d.includes("return"))try{s=new Function("row",d)(n.row)}catch(h){console.warn("解析按钮文字代码错误 >>",h)}return s}}function l(r,c){const d=r[c];if(ae(d,"function"))return d(n.row);if(ae(d,"string")){let s=c==="show";if(d.includes("return"))try{s=new Function("row",d)(n.row)}catch(h){console.warn(`解析 ${c} 字段代码错误 >>`,h)}return s}return!1}function i(r){const c=r.click;if(!c)return;const{row:d,index:s}=n;if(ae(c,"function"))c(d,s);else if(ae(c,"string"))try{new Function("row","index",c)(d,s)}catch(h){console.warn("解析按钮点击代码错误 >>",h)}}function a(r){n.clickStop&&(r.stopPropagation(),r.preventDefault())}return(r,c)=>{const d=S("el-button"),s=S("el-dropdown-item"),h=S("el-dropdown-menu"),m=S("el-dropdown");return v(),O("div",{class:"the-table-action-cell fvc",onClick:a},[t.value.btn.length?R("",!0):(v(),O("span",vi,"-")),(v(!0),O(G,null,me(t.value.btn,(p,u)=>(v(),I(d,{text:"",type:p.type||"primary",key:"btn-"+u,loading:l(p,"loading"),disabled:l(p,"disabled"),onClick:f=>i(p)},{default:b(()=>[p.icon&&!l(p,"loading")?(v(),O("i",{key:0,class:ne(["the-table-action-cell-icon",o(p,"icon")])},null,2)):R("",!0),A(" "+te(o(p,"text")),1)]),_:2},1032,["type","loading","disabled","onClick"]))),128)),t.value.dropdown.length?(v(),I(m,{key:1,trigger:"click"},{dropdown:b(()=>[g(h,null,{default:b(()=>[(v(!0),O(G,null,me(t.value.dropdown,(p,u)=>(v(),I(s,{key:"drop-"+u,disabled:l(p,"disabled")||l(p,"loading"),onClick:f=>i(p)},{default:b(()=>[l(p,"loading")?(v(),O("i",_i)):p.icon&&!l(p,"loading")?(v(),O("i",{key:1,class:ne(["the-table-action-cell-icon",o(p,"icon")])},null,2)):R("",!0),A(" "+te(o(p,"text")),1)]),_:2},1032,["disabled","onClick"]))),128))]),_:1})]),default:b(()=>[g(d,{text:"",type:"primary"},{default:b(()=>[A("更多"),bi]),_:1})]),_:1})):R("",!0)])}}});function qt(e){const n=e.text,t=n.split("\\n");return t.length>1?g(G,null,[t.map(o=>g("p",null,[o]))]):g(G,null,[n])}const xi={key:1,class:"f-vertical w-full"},Ei={class:"f1 cursor-help leading-none text-[#448000]"},$i={key:1,class:"f1 leading-none"},Ci={key:2,class:"pl-[6px]"},Si={name:"TableHeader"},Di=le({...Si,props:{column:{type:Object,required:!0},disabled:{type:Boolean,default:void 0}},emits:["sort"],setup(e,{emit:n}){const t=e,o=n,l=ee(()=>!t.column.sort&&!t.column.titleTips);function i(a){if(t.disabled)return;const r=t.column;t.column.sort===a&&(a=!0),o("sort",r.prop,a)}return(a,r)=>{const c=S("el-tooltip");return l.value?(v(),I(x(qt),{key:0,text:t.column.title},null,8,["text"])):(v(),O("div",xi,[t.column.titleTips?(v(),I(c,{key:0,effect:"dark",content:t.column.titleTips,placement:"top"},{default:b(()=>[w("div",Ei,[g(x(qt),{text:t.column.title},null,8,["text"])])]),_:1},8,["content"])):(v(),O("div",$i,[g(x(qt),{text:t.column.title},null,8,["text"])])),t.column.sort?(v(),O("div",Ci,[w("div",{class:ne(["the-sort-icon top",[{"is-select":t.column.sort==="asc"},{"is-disabled":t.disabled}]]),onClick:r[0]||(r[0]=d=>i("asc"))},null,2),w("div",{class:ne(["the-sort-icon bottom",[{"is-select":t.column.sort==="desc"},{"is-disabled":t.disabled}]]),onClick:r[1]||(r[1]=d=>i("desc"))},null,2)])):R("",!0)]))}}}),Ti={class:"the-table-operation-bar f-vertical"},Fi=w("div",{class:"f1"},null,-1),Li=w("i",{class:"el-icon--left el-icon-setting"},null,-1),Oi={class:"f-vertical mb-[10px]"},Ii=w("div",{class:"f1"},null,-1),Pi=w("i",{class:"el-icon--left el-icon-refresh-left"},null,-1),Ri={key:0,class:"el-icon--left el-icon-rank"},Bi={class:"f1"},Ai={name:"OperationBar"},Mi=le({...Ai,props:{operations:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},notWatch:{type:Boolean,default:!1},hideSetting:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:columns"],setup(e,{emit:n}){const t=e,o=n,{onDragStart:l,onDragMove:i,onDropEnd:a}=nt({list:()=>t.columns,key:"prop"});function r(m,p){const u=m.prop===We,f=m.prop;return{"data-key":f,key:f,draggable:u?void 0:!0,title:u?"操作栏不可排序，只能显示隐藏操作":void 0,onDragstart:u?void 0:()=>l(p),onDragover:u?void 0:y=>i(y,p),onDrop:u?void 0:a}}function c(m,p){const u=m[p];return typeof u=="string"?u:typeof u=="function"?u():!1}function d(m,p,u=!1){const f=m[p];return typeof f=="boolean"?f:typeof f=="function"?f():u}let s=[];function h(){o("update:columns",s)}return t.notWatch||ke(()=>t.columns,m=>{t.notWatch||(m.forEach(p=>{typeof p.visible!="boolean"&&(p.visible=!0)}),s=Ee(m))},{immediate:!0}),(m,p)=>{const u=S("el-button"),f=S("el-switch"),y=S("el-empty"),E=S("el-popover");return v(),O("div",Ti,[Re(m.$slots,"left"),Fi,Re(m.$slots,"right"),(v(!0),O(G,null,me(t.operations,(k,$)=>(v(),O(G,{key:k.key||`btn-${$}`},[d(k,"show",!0)?(v(),I(u,{key:0,type:k.type||"primary",loading:d(k,"loading"),disabled:t.disabled||d(k,"disabled"),size:"small",onClick:k.click},{default:b(()=>[k.icon&&!d(k,"loading")?(v(),O("i",{key:0,class:ne([k.icon?`el-icon--left ${k.icon}`:null])},null,2)):R("",!0),A(" "+te(c(k,"text")),1)]),_:2},1032,["type","loading","disabled","onClick"])):R("",!0)],64))),128)),!e.hideSetting&&t.columns.length>0?(v(),I(E,{key:0,placement:"bottom-start",width:300,transition:"el-zoom-in-top",trigger:"click","popper-class":"the-table-operation-bar-popper"},{reference:b(()=>[g(u,{type:"primary",link:"",disabled:t.disabled},{default:b(()=>[Li,A(" 表格列设置 ")]),_:1},8,["disabled"])]),default:b(()=>[w("div",Oi,[Ii,g(u,{type:"primary",link:"",onClick:p[0]||(p[0]=k=>h())},{default:b(()=>[Pi,A(" 重置 ")]),_:1})]),g(Xe,{name:"the-group",tag:"div",class:"the-setting-list"},{default:b(()=>[(v(!0),O(G,null,me(t.columns,(k,$)=>(v(),O("div",Ce({class:"the-setting-item f-vertical"},r(k,$)),[k.prop!==x(We)?(v(),O("i",Ri)):R("",!0),w("span",Bi,te(k.title),1),g(f,{modelValue:k.visible,"onUpdate:modelValue":M=>k.visible=M,"inline-prompt":"","active-text":"显示","inactive-text":"隐藏"},null,8,["modelValue","onUpdate:modelValue"])],16))),256)),t.columns.length?R("",!0):(v(),I(y,{key:"empty","image-size":120,description:"暂无可以设置的表格列"}))]),_:1})]),_:1})):R("",!0)])}}}),Qe="action-edit",Ie={input:"输入框",textarea:"文本域","input-between":"输入框-串联",select:"下拉选择框",checkbox:"多选复选框",radio:"单选选择框",switch:"开关切换",date:"日期选择器",cascader:"级联选择器"};function Vi(e){if(e.type=="date"){const n=e.shortcutIndex,t="the-date-shortcut-selected",o=document.querySelector(`.${t}`);if(o&&o.classList.remove(t),ae(n,"number"))if(n===-1)e.value=e.shortcutDate;else{const l=vn[e.dateType][n].value();e.value=l;const i=`.${e.id} .el-picker-panel__sidebar`,a=document.querySelector(i);a&&Ft(()=>a.children[n].classList.add(t))}else e.value=ln.includes(e.dateType)?[]:""}else["object","array"].includes(Ne(e.defaultValue))?e.value=Ee(e.defaultValue):e.value=e.defaultValue}function Fe(e,n="",t){const o="请输入",l="请选择",i=kt(`field-${e}`),r={input:{key:n,id:i,type:"input",value:"",defaultValue:"",placeholder:o,valueType:"string"},textarea:{id:i,value:"",defaultValue:"",type:"textarea",placeholder:o,key:n,valueType:"string"},"input-between":{key:n,id:i,value:["",""],defaultValue:["",""],type:"input-between",placeholder:["请输入范围一","请输入范围二"],separator:"-",valueType:"array"},select:{key:n,id:i,value:"",defaultValue:"",type:"select",placeholder:l,options:[],optionSetting:{label:"",value:""},valueType:"string",joinShow:!1},checkbox:{key:n,id:i,value:[],defaultValue:[],type:"checkbox",placeholder:l,options:[],optionSetting:{label:"",value:""},valueType:"array"},radio:{key:n,id:i,value:"",defaultValue:"",type:"radio",placeholder:l,options:[],optionSetting:{label:"",value:""},valueType:"string"},switch:{key:n,id:i,value:!1,defaultValue:!1,type:"switch",placeholder:"",valueType:"boolean"},date:{key:n,id:i,value:"",type:"date",placeholder:l,dateType:"date",formatShow:"YYYY-MM-DD",format:"Y-M-D",valueType:"string",shortcutIndex:""},cascader:{key:n,id:i,value:[],defaultValue:[],type:"cascader",placeholder:l,options:[],optionSetting:{label:"",value:"",children:""},multiple:!1,checkStrictly:!1,valueType:"array"}}[e];return r.label="",r.required=!1,r}function on(e,n){return{title:n,prop:e,width:void 0,minWidth:void 0,tooltip:e!==We,cellType:"text",sort:!1,fixed:!1,titleTips:"",imageWidth:void 0,imageHeight:void 0,jsCode:"",visible:!0}}function zt(){return{width:500,labelWidth:120,labelPosition:"left",fields:[]}}function Ut(){return{key:kt("action"),text:"",icon:"",click:"",type:"primary"}}function Wt(){return{key:kt("operation"),text:"",icon:"",click:"",type:"primary"}}function of(e){const n={value:e.value,result:!0};if(e.type==="date"){if(!n.value)return n.result=e.placeholder,n;if(["datetimerange","daterange"].includes(e.dateType)){const l=e.value;return l.length<2?(n.result=e.placeholder,n):(n.value=l.map(i=>Ye(i,e.format)),n)}return n.value=Ye(e.value,e.format),n}const t=[null,void 0,""];if(e.type==="input-between"){const l=e.value;if(t.includes(l[0]))return n.result=e.placeholder[0],n;if(t.includes(l[1]))return n.result=e.placeholder[1],n;n.value=JSON.parse(JSON.stringify(l))}if(["input","textarea","radio","select"].includes(e.type)&&t.includes(e.value))return n.result=e.placeholder,n;if(e.type==="checkbox"||e.type==="select"&&e.multiple){const l=e.value;if(!l.length)return n.result=e.placeholder,n;n.value=JSON.parse(JSON.stringify(l))}return n}function vt(e){if(e)return e=parseInt(e.toString()),e=Math.abs(e),`${e}px`}const ln=["daterange","datetimerange","monthrange"],In=[{label:"选择年份",value:"year",formatShow:"YYYY",format:"Y"},{label:"选择年份-月份",value:"month",formatShow:"YYYY-MM",format:"Y-M"},{label:"选择年份-周",value:"week",formatShow:"YYYY年 第ww周",format:"Y-M-D"},{label:"选择年份-月份-日",value:"date",formatShow:"YYYY-MM-DD",format:"Y-M-D"},{label:"选择年份-月份-日 时:分:秒",value:"datetime",formatShow:"YYYY-MM-DD HH:mm:ss",format:"Y-M-D h:m:s"},{label:"选择日期范围",value:"daterange",formatShow:"YYYY-MM-DD",format:"Y-M-D"},{label:"选择月份范围",value:"monthrange",formatShow:"YYYY-MM",format:"Y-M"},{label:"选择日期+时间范围",value:"datetimerange",formatShow:"YYYY-MM-DD HH:mm:ss",format:"Y-M-D h:m:s"}],_o=3600*1e3*24;function Le(e=0){const n=new Date;return n.setMonth(new Date().getMonth()-e),n}function mt(e=0){const n=new Date,t=_o*7*e;return n.setTime(n.getTime()-t),n}const sn=[{text:"今天",value:()=>new Date},{text:"昨天",value(){const e=new Date;return e.setTime(e.getTime()-_o),e}},{text:"一周前",value:()=>mt(1)},{text:"一个月前",value:()=>Le(1)},{text:"三个月前",value:()=>Le(3)},{text:"半年前",value:()=>Le(6)},{text:"一年前",value:()=>Le(12)}],Pn=sn.map((e,n)=>{const t=n===0,o=new Date().toLocaleDateString(),l=[new Date(`${o} 00:00:00`),new Date(`${o} 23:59:59`)];return{text:t?"今天内":`${e.text}至今`,value:()=>t?l:[e.value(),new Date]}}),vn={year:[{text:"今年",value:()=>new Date},{text:"去年",value:()=>new Date(new Date().setFullYear(new Date().getFullYear()-1))},{text:"前年",value:()=>new Date(new Date().setFullYear(new Date().getFullYear()-2))}],month:[{text:"当月",value:()=>new Date},{text:"上月",value:()=>Le(1)},{text:"前3个月",value:()=>Le(3)},{text:"前6个月",value:()=>Le(6)},{text:"前12个月",value:()=>Le(12)}],week:[{text:"本周",value:()=>new Date},{text:"上周",value:()=>mt(1)},{text:"上2周",value:()=>mt(2)},{text:"上3周",value:()=>mt(3)},{text:"上4周",value:()=>mt(4)}],date:sn,datetime:sn,daterange:Pn,datetimerange:Pn,monthrange:[{text:"本月",value:()=>[new Date,new Date]},{text:"本年",value(){const e=new Date;return[new Date(new Date().getFullYear(),0),e]}},{text:"过去3个月",value:()=>[new Date,Le(3)]},{text:"过去6个月",value:()=>[new Date,Le(6)]}]};function lf(e){const n=window;for(const t in e){const o=`_${t}`;n[o]=e[t]}tt(function(){for(const t in e){const o=`_${t}`;n[o]=null}})}function re(e){return`<b style="color: var(--yellow)"> ${e} </b>`}function Ni(){return{search:{labelRight:!1,labelWidth:void 0,list:[]},table:{columns:[],actions:[],selectKey:void 0,formAdd:void 0,formEdit:void 0}}}function an(){return{show:!1,showForm:!1,form:void 0,action:"add",index:-1}}const Rn=["el-icon-platform-eleme","el-icon-eleme","el-icon-delete-solid","el-icon-delete","el-icon-s-tools","el-icon-setting","el-icon-user-solid","el-icon-user","el-icon-phone","el-icon-phone-outline","el-icon-more","el-icon-more-outline","el-icon-star-on","el-icon-star-off","el-icon-s-goods","el-icon-goods","el-icon-warning","el-icon-warning-outline","el-icon-question","el-icon-info","el-icon-remove","el-icon-circle-plus","el-icon-success","el-icon-error","el-icon-zoom-in","el-icon-zoom-out","el-icon-remove-outline","el-icon-circle-plus-outline","el-icon-circle-check","el-icon-circle-close","el-icon-s-help","el-icon-help","el-icon-minus","el-icon-plus","el-icon-check","el-icon-close","el-icon-picture","el-icon-picture-outline","el-icon-picture-outline-round","el-icon-upload","el-icon-upload2","el-icon-download","el-icon-camera-solid","el-icon-camera","el-icon-video-camera-solid","el-icon-video-camera","el-icon-message-solid","el-icon-bell","el-icon-s-cooperation","el-icon-s-order","el-icon-s-platform","el-icon-s-fold","el-icon-s-unfold","el-icon-s-operation","el-icon-s-promotion","el-icon-s-home","el-icon-s-release","el-icon-s-ticket","el-icon-s-management","el-icon-s-open","el-icon-s-shop","el-icon-s-marketing","el-icon-s-flag","el-icon-s-comment","el-icon-s-finance","el-icon-s-claim","el-icon-s-custom","el-icon-s-opportunity","el-icon-s-data","el-icon-s-check","el-icon-s-grid","el-icon-menu","el-icon-share","el-icon-d-caret","el-icon-caret-left","el-icon-caret-right","el-icon-caret-bottom","el-icon-caret-top","el-icon-bottom-left","el-icon-bottom-right","el-icon-back","el-icon-right","el-icon-bottom","el-icon-top","el-icon-top-left","el-icon-top-right","el-icon-arrow-left","el-icon-arrow-right","el-icon-arrow-down","el-icon-arrow-up","el-icon-d-arrow-left","el-icon-d-arrow-right","el-icon-video-pause","el-icon-video-play","el-icon-refresh","el-icon-refresh-right","el-icon-refresh-left","el-icon-finished","el-icon-sort","el-icon-sort-up","el-icon-sort-down","el-icon-rank","el-icon-loading","el-icon-view","el-icon-c-scale-to-original","el-icon-date","el-icon-edit","el-icon-edit-outline","el-icon-folder","el-icon-folder-opened","el-icon-folder-add","el-icon-folder-remove","el-icon-folder-delete","el-icon-folder-checked","el-icon-tickets","el-icon-document-remove","el-icon-document-delete","el-icon-document-copy","el-icon-document-checked","el-icon-document","el-icon-document-add","el-icon-printer","el-icon-paperclip","el-icon-takeaway-box","el-icon-search","el-icon-monitor","el-icon-attract","el-icon-mobile","el-icon-scissors","el-icon-umbrella","el-icon-headset","el-icon-brush","el-icon-mouse","el-icon-coordinate","el-icon-magic-stick","el-icon-reading","el-icon-data-line","el-icon-data-board","el-icon-pie-chart","el-icon-data-analysis","el-icon-collection-tag","el-icon-film","el-icon-suitcase","el-icon-suitcase-1","el-icon-receiving","el-icon-collection","el-icon-files","el-icon-notebook-1","el-icon-notebook-2","el-icon-toilet-paper","el-icon-office-building","el-icon-school","el-icon-table-lamp","el-icon-house","el-icon-no-smoking","el-icon-smoking","el-icon-shopping-cart-full","el-icon-shopping-cart-1","el-icon-shopping-cart-2","el-icon-shopping-bag-1","el-icon-shopping-bag-2","el-icon-sold-out","el-icon-sell","el-icon-present","el-icon-box","el-icon-bank-card","el-icon-money","el-icon-coin","el-icon-wallet","el-icon-discount","el-icon-price-tag","el-icon-news","el-icon-guide","el-icon-male","el-icon-female","el-icon-thumb","el-icon-cpu","el-icon-link","el-icon-connection","el-icon-open","el-icon-turn-off","el-icon-set-up","el-icon-chat-round","el-icon-chat-line-round","el-icon-chat-square","el-icon-chat-dot-round","el-icon-chat-dot-square","el-icon-chat-line-square","el-icon-message","el-icon-postcard","el-icon-position","el-icon-turn-off-microphone","el-icon-microphone","el-icon-close-notification","el-icon-bangzhu","el-icon-time","el-icon-odometer","el-icon-crop","el-icon-aim","el-icon-switch-button","el-icon-full-screen","el-icon-copy-document","el-icon-mic","el-icon-stopwatch","el-icon-medal-1","el-icon-medal","el-icon-trophy","el-icon-trophy-1","el-icon-first-aid-kit","el-icon-discover","el-icon-place","el-icon-location","el-icon-location-outline","el-icon-location-information","el-icon-add-location","el-icon-delete-location","el-icon-map-location","el-icon-alarm-clock","el-icon-timer","el-icon-watch-1","el-icon-watch","el-icon-lock","el-icon-unlock","el-icon-key","el-icon-service","el-icon-mobile-phone","el-icon-bicycle","el-icon-truck","el-icon-ship","el-icon-basketball","el-icon-football","el-icon-soccer","el-icon-baseball","el-icon-wind-power","el-icon-light-rain","el-icon-lightning","el-icon-heavy-rain","el-icon-sunrise","el-icon-sunrise-1","el-icon-sunset","el-icon-sunny","el-icon-cloudy","el-icon-partly-cloudy","el-icon-cloudy-and-sunny","el-icon-moon","el-icon-moon-night","el-icon-dish","el-icon-dish-1","el-icon-food","el-icon-chicken","el-icon-fork-spoon","el-icon-knife-fork","el-icon-burger","el-icon-tableware","el-icon-sugar","el-icon-dessert","el-icon-ice-cream","el-icon-hot-water","el-icon-water-cup","el-icon-coffee-cup","el-icon-cold-drink","el-icon-goblet","el-icon-goblet-full","el-icon-goblet-square","el-icon-goblet-square-full","el-icon-refrigerator","el-icon-grape","el-icon-watermelon","el-icon-cherry","el-icon-apple","el-icon-pear","el-icon-orange","el-icon-coffee","el-icon-ice-tea","el-icon-ice-drink","el-icon-milk-tea","el-icon-potato-strips","el-icon-lollipop","el-icon-ice-cream-square","el-icon-ice-cream-round"],z=he({show:!1,pageId:"",title:"",type:"search",config:{},callback:()=>{},editor:an()});function sf(e){z.show=!0,z.pageId=e.pageId||"",z.title=e.title||"低代码配置",z.type=e.type||"search",z.config=e.config?Ee(e.config):Ni(),z.callback=e.callback||(()=>{}),e.pageId||console.error("openCurdConfig 缺少页面唯一标识 pageId")}const ji={"form-submit":[{id:1,name:"表单提交（完整数据）",code:`console.log("表单提交 >>", formData, current);
// 当前页面/菜单标识
const pageId = "_pageId";
// 请求路径
const path = \`/save/xxx\`;
// 接口传参
const params = { ...formData, ...current };
// 请求域名，不设置则使用默认
const domain = "";
// 当前页面功能对象
const page = window[\`_\${pageId}\`];
// 设置加载状态
page.setFormLoading(true);
// 开始发起请求
_request("POST", path, params, { domain }).then(res => {
  // code为 1 时表示成功，其他的直接跳出停止后面的操作
  if (res.code !== 1) return;
  // 成功后的提示
  _message.success("提交成功！");
  // 成功后重新获取表格数据，如果不想回到第一页那么可以用 page.getData(); 保留当前操作状态
  page.onSearch();
  // 并关闭弹框
  page.closeForm();
}).finally(() => {
  // 结束之后关闭加载状态
  page.setFormLoading(false);
});`},{id:12,name:"表单提交（当前展示表单项数据）",code:`console.log("表单提交 >>", formData, current);
// 当前页面/菜单标识
const pageId = "_pageId";
// 请求路径
const path = \`/save/xxx\`;
// 接口传参
const params = current;
if (formData.id) {
  params.id = formData.id;
}
// 请求域名，不设置则使用默认
const domain = "";
// 当前页面功能对象
const page = window[\`_\${pageId}\`];
// 设置加载状态
page.setFormLoading(true);
// 开始发起请求
_request("POST", path, params, { domain }).then(res => {
  // code为 1 时表示成功，其他的直接跳出停止后面的操作
  if (res.code !== 1) return;
  // 成功后的提示
  _message.success("提交成功！");
  // 成功后重新获取表格数据，如果不想回到第一页那么可以用 page.getData(); 保留当前操作状态
  page.onSearch();
  // 并关闭弹框
  page.closeForm();
}).finally(() => {
  // 结束之后关闭加载状态
  page.setFormLoading(false);
});`}],"batch-submit":[{id:100,name:"批量提交请求",code:`console.log("批量操作 >>", list, selectList);
// 当前页面/菜单标识
const pageId = "_pageId";
// 操作文案
const text = "批量xxx";
// 请求路径
const path = "/batch/xxx";
// 接口传参
const params = list;
// 请求域名，不设置使用默认
const domain = "";
// 当前页面功能对象
const page = window[\`_\${pageId}\`];

// 弹出提示，确认后进行请求操作
_messageBox({
  title: "操作提示",
  content: \`是否\${text}选中的 \${list.length} 条数据？\`,
  cancelText: "取消",
  async confirm() {
    // 发起请求操作
    const res = await _request("POST", path, params, { domain });
    // code为 1 时表示成功，其他的直接跳出停止后面的操作
    if (res.code !== 1) return false;
    // 成功后的提示
    _message.success(text + "成功！");
    // 成功后重新获取表格数据
    page.onSearch();
    return true;
  }
});`}],"table-cell":[{id:200,name:"颜色枚举值展示",code:`const text = {
  0: "蓝色",
  1: "绿色",
  2: "橙色",
  3: "灰色",
  4: "红色",
}

const color = {
  0: "blue",
  1: "green",
  2: "orange",
  3: "gray",
  4: "red",
}

return text[cellValue] ? \`<span class="the-tag \${color[cellValue]}">\${text[cellValue]}</span>\` : "-";`},{id:201,name:"预览JSON",code:`// 当前页面/菜单标识
const pageId = "_pageId";
// 当前页面功能对象
const page = window[\`_\${pageId}\`];
// 设置表格行唯一值，key一定要是唯一值
const key = _getCountId("json");
if (cellValue) {
  if (typeof cellValue === "string") {
    try {
      cellValue = JSON.parse(cellValue);
    } catch (error) {
      console.log("表格列解析JSON字符串出错！");
      return "-";
    }
  }
  const text = JSON.stringify(cellValue);
  const json = encodeURIComponent(text);

  function onCell() {
    // console.log("表格点击 >>", row);
    _messageBox({
      title: "预览JSON",
      width: "500px",
      content: _jsonToHtml(JSON.stringify(JSON.parse(decodeURIComponent(json)))),
      confirmText: "关闭",
      cancelText: "复制JSON",
      cancel() {
        _copyText(text);
      }
    });
  }
  page.cellFn[key] = onCell;
  return \`<span class="the-blue-text" onclick="window['_\${menuTag}'].cellFn['\${key}']()">\${text}</span>\`;
}
return "-";`}],"action-submit":[{id:300,name:"通用确认提交",code:`console.log("表格行数据 >>", row);
// 当前页面/菜单标识
const pageId = "_pageId";
/** 请求方法，全大写 */
const method = "POST";
/** 接口请求路径 */
const path = "/action/xxx";
/** 接口传参对象 */
const params = {
  id: row.id,
};
/** 接口请求域名，不填则使用默认 */
const domain = "";
// 当前页面功能对象
const page = window[\`_\${pageId}\`];
// 发起弹框提示
_messageBox({
  title: "操作提示",
  content: "是否xxx当前操作？",
  cancelText: "取消",
  async confirm() {
    const res = await _request(method, path, params, { domain });
    if (res.code !== 1) return false;
    _message.success("xxx成功！");
    page.getData();
    return true;
  }
});`}],"operation-submit":[{id:400,name:"导入文件(Excel)",code:`// 当前页面/菜单标识
const pageId = "_pageId";
// 当前页面功能对象
const page = window[\`_\${pageId}\`];
// 导入请求路径
const path = "/upload/file";
// 导入请求域名，不传则使用默认域名
const domain = "";

_onUploadFile({
  // 弹框标题
  title: "导入文件",
  // 指定上传文件类型，逗号分割多种
  accept: ".xls,.xlsx",
  /**
   * 上传文件最大体积
   * - 单位\`M\`,
   * - 0 为不限制大小
   */
  maxSize: 0,
  /** 是否多个文件 */
  multiple: false,
  /**
   * @param {File | Array<File>} file 当个文件或列表，由\`multiple\`指定
   * @param callback 关闭回调
   */
  async change(file) {
    // 声明一个表单对象
    const formData = new FormData();
    // 处理单个文件
    formData.append("file", file);
    // 发起请求
    page.setLoading(true);
    const res = await _request("POST", path, formData, { domain });
    page.setLoading(false);
    if (res.code === 1) {
      _message.success("导入成功！");
      page.getData();
    }
  }
});`},{id:401,name:"导出数据(Excel)",code:`// 当前页面/菜单标识
const pageId = "_pageId";
// 当前页面功能对象
const page = window[\`_\${pageId}\`];
// 请求域名，不传则使用默认域名
const domain = "";
const method = "GET";
const path = "/export/xxx";
const params = page.getSearchParams();
page.setLoading(true);
_request(method, path, params,
  {
    responseType: "blob",
    timeout: 5 * 1000 * 60,
    domain: domain,
  }
).then(res => {
  if (res.code !== 1) return;
  _downloadFile(res.data, res.msg);
  _message.success("导出成功!");
}).finally(() => {
  page.setLoading(false);
});`}],"search-validate":[{id:500,name:"校验查询参数",code:`console.log("查询参数 >>", params);

if (!params.userId && !params.userName) {
  _message.warning("用户ID、用户名称 必须填一个！");
  return false;
}

return true;`}]};function wo(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!mo(e)}function Lt(e){const n=e.onClose||(()=>{}),t=e.onSubmit||(()=>{});return g(G,null,[g(S("el-button"),{onClick:n},{default:()=>[A("取 消")]}),g(S("el-button"),{type:"primary",loading:e.loading,disabled:e.disabledSubmit,onClick:t},{default:()=>[A("确 认")]})])}function qi(e){const n={};return e.imageWidth&&(n.width=`${e.imageWidth}px`),e.imageHeight&&(n.height=`${e.imageHeight}px`),n}function zi(e){function n(){pi({urls:e.previewList?e.previewList:[e.src]})}return e.column.cellType==="image"?g(S("el-image"),{class:"the-table-image",style:qi(e.column),src:e.src,onClick:n,fit:"cover"},null):null}const bn=le({props:{value:{type:[String,Function],default:""}},emits:["update:value"],setup(e,{emit:n}){const t=ee({get(){return typeof e.value=="function"?"":e.value},set(r){n("update:value",r)}}),o=ue(""),l=ee(()=>o?Rn.filter(r=>r.includes(o.value)):Rn),i=ue();function a(r){o.value="",t.value=r,i.value.hide()}return()=>g("div",{class:"f-vertical w-full"},[g(S("el-input"),{modelValue:t.value,"onUpdate:modelValue":r=>t.value=r,placeholder:"请输入图标 class",class:"mr-[6px]"},{suffix:()=>g("i",{class:t.value},null)}),g(S("el-popover"),{ref:i,placement:"top-start",width:"400",trigger:"click"},{default:()=>[g(S("el-input"),{class:"mb-[10px]",modelValue:o.value,"onUpdate:modelValue":r=>o.value=r,placeholder:"请输入关键字检索图标",clearable:!0},{prefix:()=>g("i",{class:"el-icon-search"},null)}),g("ul",{class:"grid max-h-[50vh] grid-cols-3 gap-[10px] overflow-auto"},[l.value.map(r=>g("li",{class:"fvc h-[100px] cursor-pointer flex-col border border-dashed border-[#ccc] px-[4px] text-center hover:border-[var(--blue)]",onClick:()=>a(r)},[g("i",{class:"mb-[10px] text-[#606266] "+r,style:"font-size: 24px"},null),g("span",{class:"text-[12px] text-[#99a9bf]"},[r])]))]),l.value.length<=0?g(S("el-empty"),{description:"未检索到对应图标"},null):null],reference:()=>g(S("el-button"),{type:"primary",link:!0},{default:()=>[A("选择图标")]})})])}}),Ui=le({props:{config:{type:Object,required:!0},disabled:{type:Boolean}},emits:["change"],setup(e,{emit:n}){let t=[];const o="the-date-shortcut-selected";function l(){const a=document.querySelector(`.${o}`);a&&a.classList.remove(o);const r=e.config;if(["daterange","datetimerange"].includes(r.dateType)){const c=r.value;c&&new Date(c[0]).getTime()===new Date(c[1]).getTime()&&(r.value[1]=new Date(Ye(c[1],"Y-M-D 23:59:59")))}n("change")}function i(a){a.classList.add(o)}return je(function(){const a=e.config;if(a.type==="date"){const r=`.${a.id} .el-picker-panel__sidebar`,c=document.querySelector(r);if(!c)return console.warn("找不到日期快捷面板节点！");t=Array.from(c.children),t.forEach(s=>{s.addEventListener("click",()=>i(s))});const d=a.shortcutIndex;ae(d,"number")&&d>=0&&i(t[d])}}),()=>g(G,null,[g(S("el-date-picker"),{modelValue:e.config.value,"onUpdate:modelValue":a=>e.config.value=a,placeholder:e.config.placeholder,type:e.config.dateType,format:e.config.formatShow,shortcuts:vn[e.config.dateType],disabled:e.disabled,"popper-class":e.config.id.toString(),"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",class:"the-curd-field",onChange:l},null)])}}),Wi=le({props:{config:{type:Object,required:!0},setting:{type:Object,required:!0},disabled:{type:Boolean}},emits:["change"],setup(e,{emit:n}){const t=ee({get(){return e.config.value},set(r){e.config.value=r,n("change",r)}}),o=ue(""),l=ee(()=>{const r=e.config.options||[],c=e.config.joinShow,d=o.value;return d?r.filter(s=>{var p,u;const h=((p=s[e.setting.label])==null?void 0:p.toString())||"",m=((u=s[e.setting.value])==null?void 0:u.toString())||"";return c?h.includes(d)||m.includes(d):h.includes(d)}):r});function i(){const r=e.config;return{placeholder:r.placeholder,disabled:e.disabled,multiple:r.multiple,clearable:!0,filterable:!0,collapseTags:!0,maxCollapseTags:r.max,class:`field-item${r.multiple?" is-multiple-select":""}`,filterMethod(c){o.value=c}}}function a(r){const c=e.config,d=e.setting;return c.joinShow?`${r[d.label]}-${r[d.value]}`:`${r[d.label]}`}return()=>{let r;return g(G,null,[e.config.options.length>36?g(S("el-select-v2"),Ce({modelValue:t.value,"onUpdate:modelValue":c=>t.value=c,options:l.value,props:e.setting},i()),{default:({item:c})=>g("span",{title:a(c)},[a(c)])}):g(S("el-select"),Ce({modelValue:t.value,"onUpdate:modelValue":c=>t.value=c},i()),wo(r=l.value.map(c=>g(S("el-option"),{key:c[e.setting.value],value:c[e.setting.value],label:a(c)},null)))?r:{default:()=>[r]})])}}}),ct=le({props:{type:{type:String,required:!0},value:{type:[String,Function],default:""}},emits:["update:value","blur"],setup(e,{emit:n}){const t=ee({get(){return e.value},set(r){n("update:value",r)}}),o=he({loading:!1,options:[],selected:void 0});function l(){o.selected=void 0}function i(){const r=o.options.find(d=>d.id===o.selected);if(!r)return;const{pageId:c}=z;t.value=r.code.replace("_pageId",c)}async function a(){o.options=ji[e.type]}return ke(()=>e.type,()=>{a(),l()},{immediate:!0}),()=>{let r;return g(G,null,[g(S("el-input"),{modelValue:t.value,"onUpdate:modelValue":c=>t.value=c,rows:6,type:"textarea",placeholder:"请输入代码片段",class:"mb-[10px]",onInput:l,onBlur:()=>n("blur")},null),g("div",{class:"f-vertical w-full"},[g(S("el-text"),{type:"primary",class:"min-w-[86px]"},{default:()=>[g("i",{class:"el-icon--left el-icon-position"},null),A("预设代码")]}),g(S("el-select"),{modelValue:o.selected,"onUpdate:modelValue":c=>o.selected=c,placeholder:"请选择示例代码",onChange:i},wo(r=o.options.map(c=>g(S("el-option"),{key:c.id,label:c.name,value:c.id},null)))?r:{default:()=>[r]})])])}}}),Hi={name:"Field"},Ot=le({...Hi,props:{fieldData:{type:Object,required:!0},editMode:Boolean,readonly:Boolean,disabled:Boolean},emits:["change"],setup(e,{emit:n}){const t=e,o=n;Vi(t.fieldData);function l(u){let f=u||t.fieldData.value;ae(f,"array")&&(f=Ee(f)),o("change",f)}const i=ee(()=>t.fieldData),a=ee(()=>{const u=t.fieldData.optionSetting||{};return{value:u.value||"value",label:u.label||"label"}}),r=ee(()=>{const u=t.fieldData,f=u.optionSetting;return{multiple:u.multiple,checkStrictly:u.checkStrictly,value:f.value||"value",label:f.label||"label",children:f.children||"children"}});function c(u){const f=i.value.placeholder;return{disabled:t.disabled,readonly:t.readonly,clearable:!0,placeholder:ae(u,"number")?f[u]:f}}function d(u){const f=t.fieldData;f.valueType==="number"?(f.value=Sn(u,!0,!0),l(Number(f.value))):(f.value=u,l())}function s(u,f){const y=t.fieldData;y.valueType==="array<number>"?(y.value[f]=Sn(u,!0,!0),l(y.value.map(E=>Number(E)))):(y.value[f]=u,l())}const h=["-",".","",null,void 0];function m(){const u=t.fieldData;u.valueType==="number"&&(h.includes(u.value)?u.value="":u.value=Number(u.value))}function p(u){const f=t.fieldData;if(f.valueType==="array<number>"){const y=f.value[u];h.includes(y)?f.value[u]="":f.value[u]=Number(y)}}return(u,f)=>{const y=S("el-input"),E=S("el-text"),k=S("el-checkbox"),$=S("el-checkbox-group"),M=S("el-radio"),K=S("el-radio-group"),_=S("el-switch"),C=S("el-cascader");return v(),O("div",{class:"the-curd-form-field f-vertical short-value",style:xe({width:x(vt)(i.value.valueWidth)})},[i.value.type==="input"?(v(),I(y,Ce({key:0,"model-value":i.value.value},c(),{class:"the-curd-field",onInput:d,onBlur:m}),null,16,["model-value"])):R("",!0),i.value.type==="textarea"?(v(),I(y,{key:1,modelValue:i.value.value,"onUpdate:modelValue":f[0]||(f[0]=T=>i.value.value=T),readonly:t.readonly,disabled:t.disabled,placeholder:i.value.placeholder,type:"textarea",class:"the-curd-field",onInput:f[1]||(f[1]=T=>l())},null,8,["modelValue","readonly","disabled","placeholder"])):R("",!0),i.value.type==="input-between"?(v(),O(G,{key:2},[g(y,Ce({"model-value":i.value.value[0]},c(0),{class:"f1",onInput:f[2]||(f[2]=T=>s(T,0)),onBlur:f[3]||(f[3]=T=>p(0))}),null,16,["model-value"]),g(E,{style:{padding:"0 6px"}},{default:b(()=>[A(te(i.value.separator),1)]),_:1}),g(y,Ce({"model-value":i.value.value[1]},c(1),{class:"f1",onInput:f[4]||(f[4]=T=>s(T,1)),onBlur:f[5]||(f[5]=T=>p(1))}),null,16,["model-value"])],64)):R("",!0),i.value.type==="select"?(v(),I(x(Wi),{key:3,config:i.value,setting:a.value,disabled:t.disabled,onChange:f[6]||(f[6]=T=>l())},null,8,["config","setting","disabled"])):R("",!0),i.value.type==="checkbox"?(v(),O(G,{key:4},[g($,{modelValue:i.value.value,"onUpdate:modelValue":f[7]||(f[7]=T=>i.value.value=T),disabled:t.disabled,onChange:f[8]||(f[8]=T=>l())},{default:b(()=>[(v(!0),O(G,null,me(i.value.options,T=>(v(),I(k,{key:T[a.value.value],value:T[a.value.value]},{default:b(()=>[A(te(T[a.value.label]),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","disabled"]),t.editMode&&!i.value.options.length?(v(),I(E,{key:0,type:"primary"},{default:b(()=>[A(te(x(Ie).checkbox)+"（空数据） ",1)]),_:1})):R("",!0)],64)):R("",!0),i.value.type==="radio"?(v(),O(G,{key:5},[g(K,{modelValue:i.value.value,"onUpdate:modelValue":f[9]||(f[9]=T=>i.value.value=T),disabled:t.disabled,onChange:f[10]||(f[10]=T=>l())},{default:b(()=>[(v(!0),O(G,null,me(i.value.options,T=>(v(),I(M,{key:T[a.value.value],value:T[a.value.value]},{default:b(()=>[A(te(T[a.value.label]),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","disabled"]),t.editMode&&!i.value.options.length?(v(),I(E,{key:0,type:"primary"},{default:b(()=>[A(te(x(Ie).radio)+"（空数据） ",1)]),_:1})):R("",!0)],64)):R("",!0),i.value.type==="switch"?(v(),I(_,{key:6,modelValue:i.value.value,"onUpdate:modelValue":f[11]||(f[11]=T=>i.value.value=T),"inline-prompt":"","active-text":"是","inactive-text":"否",onChange:f[12]||(f[12]=T=>l())},null,8,["modelValue"])):R("",!0),i.value.type==="cascader"?(v(),I(C,{key:7,modelValue:i.value.value,"onUpdate:modelValue":f[13]||(f[13]=T=>i.value.value=T),options:i.value.options,props:r.value,placeholder:i.value.placeholder,disabled:t.disabled,clearable:"","collapse-tags":"","collapse-tags-tooltip":"",filterable:"",class:"the-curd-field",onChange:f[14]||(f[14]=T=>l())},null,8,["modelValue","options","props","placeholder","disabled"])):R("",!0),t.fieldData.type==="date"?(v(),I(x(Ui),{key:8,config:t.fieldData,disabled:t.disabled,onChange:f[15]||(f[15]=T=>l())},null,8,["config","disabled"])):R("",!0)],4)}}}),Yi=w("i",{class:"el-icon-rank el-icon--left"},null,-1),Ji={style:{"line-height":"1"}},Gi={key:0,class:"the-curd-edit-mask f-vertical f-right"},Ki=w("i",{class:"el-icon-delete el-icon--left"},null,-1),Xi=w("i",{class:"el-icon-document-copy el-icon--left"},null,-1),Qi=w("i",{class:"el-icon-edit el-icon--left"},null,-1),Zi=w("i",{class:"el-icon-plus"},null,-1),es={name:"Search"},ts=le({...es,props:{search:{type:Object,required:!0},loading:{type:Boolean,default:!1},editMode:{type:Boolean,default:!1}},emits:["search"],setup(e,{emit:n}){const t=e,o=n;function l(h){const m=t.search.list[h].label||t.search.list[h].key;Ze({title:"操作提示",content:`是否删除【${m}】？`,cancelText:"取消",confirm(){t.search.list.splice(h,1)}})}function i(h,m="edit"){z.editor.index=h,z.editor.action=m,z.editor.show=!0}function a(h){return z.editor.index===h&&z.editor.show}function r(){z.editor.index=-1,z.editor.action="add",z.editor.show=!0}const{onDragStart:c,onDragMove:d,onDropEnd:s}=nt({list:()=>t.search.list,key:"id",findLevel:5});return(h,m)=>{const p=S("el-button"),u=S("el-text");return v(),I(x(gi),{class:"the-curd-search","label-right":t.search.labelRight,"label-width":x(vt)(t.search.labelWidth)||"auto"},St({content:b(()=>[g(Xe,{name:"the-group",tag:"div",class:"the-filter-content f1"},{default:b(()=>[(v(!0),O(G,null,me(t.search.list,(f,y)=>(v(),I(x(nn),{key:f.id,"data-key":f.id,class:ne([{"the-curd-selected":a(y)},f.id]),label:f.label,"label-width":x(vt)(f.labelWidth),required:f.required,draggable:t.editMode,onDragstart:E=>x(c)(y),onDragover:E=>x(d)(E,y),onDrop:m[0]||(m[0]=E=>x(s)())},St({default:b(()=>[g(Ot,{"field-data":f,disabled:t.loading},null,8,["field-data","disabled"]),t.editMode?(v(),O("div",Gi,[g(p,{link:"",type:"danger",onClick:E=>l(y)},{default:b(()=>[Ki,A(" 删除 ")]),_:2},1032,["onClick"]),g(p,{link:"",type:"primary",onClick:E=>i(y,"copy")},{default:b(()=>[Xi,A(" 复制 ")]),_:2},1032,["onClick"]),g(p,{link:"",type:"success",onClick:E=>i(y)},{default:b(()=>[Qi,A(" 编辑 ")]),_:2},1032,["onClick"])])):R("",!0)]),_:2},[t.editMode?{name:"label",fn:b(()=>[Yi,w("span",Ji,te(f.label),1)]),key:"0"}:void 0]),1032,["data-key","class","label","label-width","required","draggable","onDragstart","onDragover"]))),128)),t.editMode?(v(),I(x(nn),{key:0},{default:b(()=>[t.search.list.length?R("",!0):(v(),I(u,{key:0,type:"info",style:{"margin-right":"12px"}},{default:b(()=>[A(" 请添加筛选条件~ ")]),_:1})),g(p,{type:"primary",circle:"",onClick:m[1]||(m[1]=f=>r())},{default:b(()=>[Zi]),_:1})]),_:1})):R("",!0)]),_:1})]),_:2},[t.editMode?void 0:{name:"right",fn:b(()=>[g(x(yi),{loading:t.loading,onSearch:m[2]||(m[2]=f=>o("search",f))},null,8,["loading"])]),key:"0"}]),1032,["label-right","label-width"])}}}),ns={name:"TableOperation"},os=le({...ns,props:{config:{type:Object,required:!0},editMode:{type:Boolean},disabled:{type:Boolean}},emits:["action"],setup(e,{emit:n}){const t=e,o=n;function l(m,p){o("action",m,p)}const i={on:"el-icon-success",off:"el-icon-remove-outline"},a=ee(()=>{const m=t.config;return{add:!!m.formAdd&&m.formAdd.fields.length>0,edit:!!m.formEdit&&m.formEdit.fields.length>0,batch:!!m.selectKey,operation:t.config.operations?t.config.operations.length>0:!1}}),r=ee(()=>{const m=a.value.batch,p=a.value.add,u=a.value.edit,f=a.value.operation;return[{type:"add",text:p?"修改新增表单":"配置新增表单",icon:p?i.on:i.off,style:p?"primary":"info"},{type:"edit",text:u?"修改编辑表单":"配置编辑表单",icon:u?i.on:i.off,style:u?"primary":"info"},{type:"batch",text:`${m?"修改":"配置"}批量按钮操作`,icon:m?i.on:i.off,style:m?"primary":"info"},{type:"operation",text:`${f?"修改":"配置"}自定义按钮操作`,icon:f?i.on:i.off,style:f?"primary":"info"}]}),c=ee(()=>(t.config.operations||[]).filter(p=>{if(!p.show)return!0;if(ae(p.show,"function"))return p.show();try{return new Function(p.show)()}catch(u){return console.warn("解析 operation.show 代码错误 >>",u),!1}})),d=ee(()=>{var u;const m=t.config;function p(f){if(f)try{return new Function("row",f)({})}catch(y){return console.warn("解析【表单按钮展示】代码错误 >>",y),!0}return!0}return{add:p((u=m.formAdd)==null?void 0:u.showCode)}});function s(m){m.formConfig?l("batch",m.formConfig):l("batch",m.click)}function h(m){if(ae(m.formConfig,"object")&&l("open-form",m.formConfig),!!m.click)if(ae(m.click,"string"))try{new Function(m.click)()}catch(p){console.warn("解析 operation.click 代码错误 >>",p)}else m.click()}return(m,p)=>{const u=S("el-button");return v(),I(x(Mi),{columns:t.config.columns,"onUpdate:columns":p[1]||(p[1]=f=>t.config.columns=f),"not-watch":t.editMode,disabled:t.disabled,"hide-setting":t.editMode},St({_:2},[t.editMode?{name:"left",fn:b(()=>[(v(!0),O(G,null,me(r.value,f=>(v(),I(u,{key:f.type,type:f.style,link:"",onClick:y=>l(f.type)},{default:b(()=>[w("i",{class:ne(["el-icon--left",f.icon])},null,2),A(" "+te(f.text),1)]),_:2},1032,["type","onClick"]))),128))]),key:"0"}:{name:"right",fn:b(()=>[a.value.batch&&t.config.batchs?(v(!0),O(G,{key:0},me(t.config.batchs,f=>(v(),I(u,{key:f.key,type:f.type,disabled:t.disabled,link:!f.solid,size:f.solid?"small":void 0,onClick:y=>s(f)},{default:b(()=>[f.icon?(v(),O("i",{key:0,class:ne(["el-icon--left",f.icon])},null,2)):R("",!0),A(" "+te(f.text),1)]),_:2},1032,["type","disabled","link","size","onClick"]))),128)):R("",!0),(v(!0),O(G,null,me(c.value,f=>(v(),I(u,{key:f.key,type:f.type,link:!f.solid,size:f.solid?"small":void 0,disabled:t.disabled,onClick:y=>h(f)},{default:b(()=>[f.icon?(v(),O("i",{key:0,class:ne(["el-icon--left",f.icon])},null,2)):R("",!0),A(" "+te(f.text),1)]),_:2},1032,["type","link","size","disabled","onClick"]))),128)),a.value.add&&d.value.add?(v(),I(u,{key:1,type:"primary",link:"",disabled:t.disabled,onClick:p[0]||(p[0]=f=>l("add"))},{default:b(()=>[w("i",{class:"el-icon--left el-icon-plus"}),A(" 新增 ")]),_:1},8,["disabled"])):R("",!0)]),key:"1"}]),1032,["columns","not-watch","disabled","hide-setting"])}}});function ls(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!mo(e)}function is(e){return g(G,null,[e.label,g(S("el-tooltip"),{effect:"dark",content:e.tips,"raw-content":!0,placement:"top-start"},{default:()=>[g(S("el-button"),{type:"info",link:!0,style:"height: 32px;"},{default:()=>[g("i",{class:"el-icon-question"},null)]})]})])}const ss=le({props:{field:{type:Object,required:!0},getValueByKey:{type:Function,required:!0}},emits:["change"],setup(e,{emit:n}){const t=ee({get(){const o=e.getValueByKey,l=e.field.bind,i=l[0]?o(l[0]):void 0,a=l[1]?o(l[1]):void 0;if(e.field.dateType.includes("range")){const r=[];return i&&r.push(new Date(i)),a&&r.push(new Date(a)),r}return i?new Date(i):void 0},set(o){const l=o;e.field.dateType.includes("range")&&l&&new Date(l[0]).getTime()===new Date(l[1]).getTime()&&(l[1]=new Date(Ye(l[1],"Y-M-D 23:59:59"))),n("change",l)}});return()=>g(S("el-date-picker"),{"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",class:e.field.class,placeholder:e.field.placeholder,disabled:typeof e.field.disabled=="function"?e.field.disabled():e.field.disabled,clearable:!e.field.noClear,type:e.field.dateType,format:e.field.formatShow,"disabled-date":e.field.disabledDate,modelValue:t.value,"onUpdate:modelValue":o=>t.value=o},null)}}),as=le({props:{attrs:{type:Object,required:!0},field:{type:Object,required:!0}},emits:["change"],setup(e,{emit:n}){const t=ee({get(){return e.attrs.modelValue},set(i){n("change",i)}}),o=ee(()=>{const i=e.field.optionSetting||{};return{value:i.value||"value",label:i.label||"label"}});function l(i){const a=o.value;return`${i[a.label]||i[a.value]}`}return()=>{let i;return e.field.options.length>36?g(S("el-select-v2"),Ce(e.attrs,{options:e.field.options,props:o.value,modelValue:t.value,"onUpdate:modelValue":a=>t.value=a}),{default:({item:a})=>g("span",{title:l(a)},[l(a)])}):g(S("el-select"),Ce(e.attrs,{modelValue:t.value,"onUpdate:modelValue":a=>t.value=a}),ls(i=e.field.options.map(a=>g(S("el-option"),{key:a[o.value.value],label:l(a),value:a[o.value.value]},null)))?i:{default:()=>[i]})}}}),rs={key:10,class:"tips-box"},cs={class:"the-tag blue"},us=w("i",{class:"el-icon--left el-icon-info"},null,-1),ds={name:"Fields"},Ke=le({...ds,props:{type:{type:String,default:"form"},data:{type:Object,required:!0},list:{type:Array,required:!0}},emits:["change"],setup(e,{emit:n}){const t=e,o=n,l=ee(()=>t.list.filter(p=>ae(p.show,"boolean")?p.show:ae(p.show,"function")?p.show():!0));function i(p,u){const f=u||p.prop,y=t.data;if(f.includes(".")){const E=[null,void 0],k=f.split(".");let $=y;for(const M of k){if(E.includes($[M]))return;$=$[M]}return $}return y[f]}function a(p,u,f){const y=f||p.prop,E=t.data;if(y.includes(".")){const k=y.split(".");let $=E;for(let M=0;M<k.length-1;M++){const K=k[M];$[K]||($[K]={}),$=$[K]}$[k[k.length-1]]=u}else E[y]=u}function r(p,u){const f=p.prop,y=u;p.type!=="date"&&a(p,y),p.onChange&&p.onChange(y),o("change",f,y)}function c(p){return p.class||(t.type==="form"?"w-full":"short-value")}function d(p){const u=ae(p.disabled,"function")?p.disabled():p.disabled;return{placeholder:p.placeholder,disabled:u,class:c(p),clearable:p.type==="textarea"?void 0:!p.noClear,modelValue:i(p)}}function s(p){const u=ae(p.disabled,"function")?p.disabled():p.disabled;return{placeholder:p.placeholder,disabled:u,multiple:p.multiple,clearable:!p.noClear,filterable:!0,collapseTags:!0,maxCollapseTags:p.max,class:c(p),modelValue:i(p)}}function h(p){const u=["",null,void 0],f=i(p);return(u.includes(f)?p.placeholder:f)||"-"}function m(p,u){const f=p.bind;p.dateType.includes("range")?u?(a(p,Ye(u[0],p.format),f[0]),a(p,Ye(u[1],p.format),f[1])):(a(p,void 0,f[0]),a(p,void 0,f[1])):a(p,u?Ye(u,p.format):void 0,f[0]),r(p,u)}return(p,u)=>{const f=S("el-input"),y=S("el-input-number"),E=S("el-radio-button"),k=S("el-radio-group"),$=S("el-switch"),M=S("el-input-tag"),K=S("el-text");return v(!0),O(G,null,me(l.value,(_,C)=>(v(),I(ho(t.type==="form"?x(go):x(nn)),{key:_.key||`${_.prop}-${C}`,label:_.label,"label-width":_.labelWidth,prop:_.prop,class:"the-fields-item"},St({default:b(()=>[_.type==="input"?(v(),I(f,Ce({key:0},d(_),{onInput:T=>r(_,T)}),null,16,["onInput"])):R("",!0),_.type==="textarea"?(v(),I(f,Ce({key:1},d(_),{rows:_.rows,"show-word-limit":"",type:"textarea",onInput:T=>r(_,T)}),null,16,["rows","onInput"])):R("",!0),_.type==="number"?(v(),I(y,Ce({key:2},d(_),{min:_.min,max:_.max,"controls-position":"right",onInput:T=>r(_,T)}),null,16,["min","max","onInput"])):R("",!0),_.type==="select"?(v(),I(x(as),{key:3,attrs:s(_),field:_,onChange:T=>r(_,T)},null,8,["attrs","field","onChange"])):R("",!0),_.type==="date"?(v(),I(x(ss),{key:4,getValueByKey:T=>i(_,T),field:_,onChange:T=>m(_,T)},null,8,["getValueByKey","field","onChange"])):R("",!0),_.type==="radio"?(v(),I(k,{key:5,"model-value":i(_),onChange:T=>r(_,T)},{default:b(()=>[(v(!0),O(G,null,me(_.options,T=>{var ie,H,Q;return v(),I(E,{key:T[((ie=_.optionSetting)==null?void 0:ie.value)||"value"],label:T[((H=_.optionSetting)==null?void 0:H.label)||"label"],value:T[((Q=_.optionSetting)==null?void 0:Q.value)||"value"]},null,8,["label","value"])}),128))]),_:2},1032,["model-value","onChange"])):R("",!0),_.type==="switch"?(v(),I($,{key:6,"model-value":i(_),"inline-prompt":"","active-text":_.activeText||"是","inactive-text":_.inactiveText||"否","active-value":_.activeValue,"inactive-value":_.inactiveValue,onChange:T=>r(_,T)},null,8,["model-value","active-text","inactive-text","active-value","inactive-value","onChange"])):R("",!0),_.type==="input-tag"?(v(),I(M,Ce({key:7},d(_),{"tag-type":"primary",trigger:_.trigger,max:_.max,delimiter:_.delimiter,onChange:T=>r(_,T)}),null,16,["trigger","max","delimiter","onChange"])):R("",!0),_.type==="text"?(v(),O("div",{key:8,class:ne(["text-box",_.class||"w-full"])},[g(K,null,{default:b(()=>[A(te(h(_)),1)]),_:2},1024)],2)):R("",!0),_.type==="slot"&&_.slotName?Re(p.$slots,_.slotName,tl(Ce({key:9},_))):R("",!0),_.tips?(v(),O("div",rs,[w("span",cs,[us,A(" "+te(_.tips),1)])])):R("",!0)]),_:2},[_.tooltip?{name:"label",fn:b(()=>[g(x(is),{label:_.label,tips:_.tooltip},null,8,["label","tips"])]),key:"0"}:void 0]),1032,["label","label-width","prop"]))),128)}}});function fs(e){if(!e)return;e.classList.add("apply-shake");function n(){e.removeEventListener("animationend",n),e.removeEventListener("click",n),e.classList.remove("apply-shake")}e.addEventListener("animationend",n),e.addEventListener("click",n)}function ko(e,n){n||setTimeout(function(){const t=document.querySelector(`${e} .is-error`);if(!t)return;t.scrollIntoView&&t.scrollIntoView({behavior:"smooth"});const o=[".el-input",".el-textarea",".el-select",".el-date-editor"];let l=null;for(let i=0;i<o.length&&(l=t.querySelector(o[i]),!l);i++);fs(l)},1e3/60)}const ht=function(){let e=location.origin,n="dev",t="";return location.hostname==="test.com"&&(n="test",t="https://api.test.com",e="https://test.com"),location.hostname==="travis-hjs.github.io"&&(n="prod",t="https://api.prod.com",e="https://prod.com"),{get requestTimeout(){return 8e3},get apiUrl(){return t},get isDev(){return n==="dev"},get webUrl(){return e}}}();function ps(e){const n=new XMLHttpRequest,t=e.method,o=e.timeout||0;let l=e.url,i="",a="";const r=Ne(e.data);if(t==="GET"){if(r==="object")for(const c in e.data)a+="&"+c+"="+e.data[c];else console.warn("ajax 传参处理 GET 传参有误，需要的请求参数应为 object 类型");a&&(a="?"+a.slice(1),l+=a)}else i=["object","array"].includes(r)?JSON.stringify(e.data):e.data;if(n.onreadystatechange=function(){n.readyState===4&&(n.status===200||n.status===304?e.success&&e.success(n.response,n):e.fail&&e.fail(n))},e.onProgress&&n.upload.addEventListener("progress",e.onProgress),n.responseType=e.responseType,n.open(t,l,!0),e.method!=="GET")switch(r){case"object":case"array":n.setRequestHeader("Content-Type","application/json");break;case"string":n.setRequestHeader("Content-Type","application/x-www-form-urlencoded");break}if(e.headers)for(const c in e.headers){const d=e.headers[c];d&&n.setRequestHeader(c,d)}o>0&&(n.timeout=o,n.ontimeout=function(){n.abort(),e.onTimeout&&e.onTimeout(n)}),n.send(i)}function Ht(e,n){const t={code:e.statusCode,msg:"网络出错了",data:null};switch(e.statusCode){case ht.requestTimeout:t.msg="网络超时了";break;case 200:n==="blob"?(t.code=1,t.data=e.data,t.msg="ok"):(Ne(e.data)!=="object"&&(e.data={}),t.code=Ne(e.data.code)==="number"?e.data.code:1,t.data=e.data,t.msg=e.data.message||"ok");break;case 400:t.msg="接口传参不正确";break;case 401:t.msg="登录已过期";break;case 404:t.msg="接口不存在";break}return e.statusCode>=500&&(t.msg="服务器闹脾气了"),t}function ms(e,n,t,o={}){const{headers:l={},responseType:i="json",timeout:a,onProgress:r,domain:c}=o;return new Promise(function(d){ps({url:(c||ht.apiUrl)+n,method:e,headers:{authorization:de.user.info.token,...l},responseType:i,data:t||{},timeout:a||ht.requestTimeout,success(s,h){const m=Ht({statusCode:h.status,data:s},i);d(m)},fail(s){const h=Ne(s.response)==="string"?yn(s.response):s.response,m=Ht({statusCode:s.status,data:h});m.code!==1&&Be.error(m.msg),d(m)},onTimeout(){console.warn("XMLHttpRequest 请求超时 !!!");const s=Ht({statusCode:ht.requestTimeout,data:{}});Be.warning(s.msg),d(s)},onProgress:r})})}function hs(e){let n="";return window.URL?n=window.URL.createObjectURL(e):window.webkitURL&&(n=window.webkitURL.createObjectURL(e)),n}function af(e){const n=e.get("file");return new Promise(function(t){setTimeout(function(){t({code:1,data:{url:hs(n)},msg:"上传成功"})},500)})}function rf(e){return ms("GET","/free/day",{appid:"56761788",appsecret:"ti3hP8y9",city:encodeURIComponent(e)},{headers:{authorization:""}})}async function cf(e){return new Promise(function(n){const t={id:Math.random().toString(36).substr(10),type:"",name:"",avatar:"",token:Math.random().toString(36).substr(2),account:e.account,password:e.password};setTimeout(()=>{switch(e.account){case"admin":t.type=0,t.name="超级管理员",t.avatar="https://p3-passport.byteacctimg.com/img/user-avatar/6332ece850859ade07f7e6a1394f7c34~300x300.image",de.user.update(t),n({code:1,msg:"ok",data:t});break;case"normal":t.type=1,t.name="普通成员",de.user.update(t),n({code:1,msg:"ok",data:t});break;default:n({code:-1,msg:"账户不存在",data:null});break}},600)})}const Bn=Array.from({length:32}).map((e,n)=>{const t=n+1,o=Ue(1,2)===1?"/skin/big_0d45ca44-f198-492b-a1ac-7bb23476ace5.jpg":"/skinloading/107000.jpg";return{id:t,gameName:ni(2,30),gameType:Ue(1,2),gamePrice:Ue(19,1999),date:new Date().toLocaleString(),banner:`https://game.gtimg.cn/images/lol/act/img${o}`,report:Ue(1,2),num:Ue(1e4,99999)}});function uf(e){const n=e.currentPage,t=e.pageSize,o={code:1,data:{total:Bn.length,list:[],pageSize:t,currentPage:n},msg:"static data"};return new Promise(function(l){setTimeout(()=>{o.data.list=Bn.slice((n-1)*t,n*t),l(o)},Ue(100,500))})}function df(e){const n={code:1,data:e,msg:"模拟表单保存"};return new Promise(function(t){setTimeout(()=>{t(n)},Ue(100,3e3))})}function ff(e){const n={code:1,data:e===1?2:1,msg:"模拟修改状态"};return new Promise(function(t){setTimeout(()=>{t(n)},Ue(100,3e3))})}const gs={name:"TableColumnConfig"},ys=le({...gs,props:{show:{type:Boolean,required:!0},type:{type:String,required:!0},keys:{type:Array,required:!0},form:Object},emits:["update:show","submit"],setup(e,{emit:n}){const t=e,o=n,l=he({show:!1,form:on("","")}),i=ee(()=>({add:"新增",edit:"编辑",copy:"复制"})[t.type]+"表格列"),a=ue(),r={title:we("请输入表格列标题"),prop:{required:!0,validator(u,f,y){f?t.keys.includes(l.form.prop)?y(new Error("已经存在相同的值！")):y():y(new Error("输入字段不能为空！"))},trigger:"blur"},cellType:tn("请选择展示类型"),sort:tn("请选择排序操作"),jsCode:{required:!0,validator(u,f,y){f?f.includes("return")?y():y(new Error('代码片段必须带有返回字段 "return"')):y(new Error("代码片段不能为空！"))},trigger:"blur"}},c=[{label:"默认普通文本",value:"text"},{label:"图片预览组件",value:"image"},{label:"自定义 js 代码",value:"js"}],d=[{label:"不可排序",value:!1},{label:"可排序",value:!0},{label:"默认升序",value:"asc"},{label:"默认降序",value:"desc"}],s=`
<p>函数代码片段：</p>
<p>第一个参数${re("cellValue")}是表格值;</p>
<p>第二个参数${re("row")}是完整对象;</p>
<p>例如：${re("return cellValue + row.id;")};</p>
<p>也可以是HTML：${re("return `<html 标签>`")};</p>
`,h=[{label:"表格列标题",prop:"title",type:"input",placeholder:r.title.message},{label:"表格列键值",prop:"prop",type:"input",placeholder:"请输入表格列键值"},{label:"表格列宽度",prop:"width",type:"number",placeholder:"请输入表格列宽度，例如：120（默认自适应）"},{label:"表格列最小宽度",prop:"minWidth",type:"number",placeholder:"请输入表格列最小宽度，例如：120（默认自适应）"},{label:"表格列展示类型",prop:"cellType",type:"select",options:c},{label:"图片宽度",prop:"imageWidth",type:"number",placeholder:"请输入数字（默认80px）",show:()=>l.form.cellType==="image"},{label:"图片高度",prop:"imageHeight",type:"number",placeholder:"请输入数字（默认80px）",show:()=>l.form.cellType==="image"},{label:"JS代码",prop:"jsCode",type:"slot",slotName:"jsCode",tooltip:s,show:()=>l.form.cellType==="js"},{label:"表格列排序操作",prop:"sort",type:"select",options:d},{label:"表格列排版",prop:"align",type:"select",options:[{label:"靠左对齐(默认)",value:"left"},{label:"居中对齐",value:"center"},{label:"靠右对齐",value:"right"}],placeholder:"请选择"},{label:"表头提示文字",prop:"titleTips",type:"input",placeholder:"请输入提示文字",tooltip:"鼠标放到表格头时出现提示文案"},{label:"内容溢出截断",prop:"tooltip",type:"switch"},{label:"表格列默认展示",prop:"visible",type:"switch",inactiveText:"隐藏",activeText:"显示"}];function m(){o("update:show",!1)}function p(){var u;(u=a.value)==null||u.validate(f=>{if(!f)return;const y=Ee(l.form);["width","minWidth","imageWidth","imageHeight"].forEach(k=>{y[k]&&(y[k]=Number(y[k]))}),y.cellType==="image"&&(y.slot=`preview-image-${y.prop}`),y.cellType==="js"&&(y.slot=`render-cell-${y.prop}`),o("submit",y),m()})}return ke(()=>t.show,function(u){l.show=u,u&&(t.type==="add"?l.form=on("",""):(l.form=Ee(t.form),t.type==="copy"&&(l.form.prop="")),setTimeout(()=>{var f;return(f=a.value)==null?void 0:f.clearValidate()}))},{immediate:!0}),(u,f)=>{const y=S("el-form"),E=S("base-dialog");return v(),I(E,{show:l.show,"onUpdate:show":f[1]||(f[1]=k=>l.show=k),title:i.value,width:"580px",onClose:m},{footer:b(()=>[g(x(Lt),{onClose:m,onSubmit:p})]),default:b(()=>[g(y,{ref_key:"formRef",ref:a,model:l.form,rules:r,"label-position":"right","label-width":"130px"},{default:b(()=>[g(x(Ke),{data:l.form,list:h},{jsCode:b(()=>[g(x(ct),{value:l.form.jsCode,"onUpdate:value":f[0]||(f[0]=k=>l.form.jsCode=k),type:"table-cell"},null,8,["value"])]),_:1},8,["data"])]),_:1},8,["model"])]),_:1},8,["show","title"])}}}),vs={class:"flex"},bs={class:"f1"},_s=w("i",{class:"el-icon--left el-icon-delete"},null,-1),ws={class:"f-right w-full"},ks=w("i",{class:"el-icon--left el-icon-finished"},null,-1),xs=w("i",{class:"el-icon--left el-icon-plus"},null,-1),Es=["data-key","draggable","onDragstart","onDragover"],$s={key:0,class:"el-icon--left el-icon-rank"},Cs=w("div",{class:"f1"},null,-1),Ss=w("i",{class:"el-icon-delete"},null,-1),Ds=w("i",{class:"el-icon-edit"},null,-1),Ts={key:1,class:"w-full f-right"},Fs=w("i",{class:"el-icon--left el-icon-plus"},null,-1),Ls={name:"TableActionConfig"},Os=le({...Ls,props:{show:{type:Boolean,default:!1},list:{type:Array,required:!0},columnWidth:{type:Number},actionMax:{type:Number}},emits:["update:show","submit","openFormConfig"],setup(e,{emit:n}){const t=e,o=n,l=`
<p>可以输入代码片段，</p>
<p>以${re("return")}关键字为函数标记，</p>
<p>函数第一个参数${re("row")}是表格对象值</p>
<p>例如：${re('return row.status === 1 ? "下架" : "上架";')}</p>
`,i=`
<p>函数代码片段，点击的时候运行</p>
<p>函数第一个参数${re("row")}是表格对象值</p>
<p>第二个参数${re("index")}是当前索引</p>
<p>例如：${re("console.log(row, index);")}</p>
`,a=`
<p>可以输入代码片段，</p>
<p>以${re("return")}关键字为函数标记，</p>
<p>函数第一个参数${re("row")}是表格对象值</p>
<p>例如：${re("return row.status === 1;")}返回布尔值进行判断</p>
`,r=ue(),c=ue(),d=he({show:!1,list:[],index:-1,hasEdit:!1,formEdit:!1}),s=he({btn:Ut(),column:{width:160,max:3}}),h={width:we("请输入表格列宽度，例如：160"),max:we("请输入数量，超出用“更多”下拉展示",!1)},m=[{label:"操作列宽度",prop:"width",type:"number",placeholder:h.width.message},{label:"操作按钮限制",prop:"max",type:"number",min:2,placeholder:h.max.message}],p={text:we("请输入按钮文字"),click:we("请输入按钮操作代码"),icon:we("请输入图标 class",!1),type:tn("请选择按钮类型",!1)},u=[{label:"按钮文字",prop:"text",type:"textarea",placeholder:p.text.message,tooltip:l},{label:"按钮功能代码",prop:"click",type:"slot",slotName:"clickCode",placeholder:"请输入代码片段",tooltip:i,show:()=>!s.btn.formConfig},{label:"表单功能",prop:"formConfig",type:"slot",slotName:"formConfig"},{label:"按钮显示条件",prop:"show",type:"textarea",placeholder:"请输入条件代码，为空则默认显示",tooltip:a},{label:"按钮禁用条件",prop:"disabled",type:"textarea",placeholder:"请输入条件代码，为空则默认不禁用",tooltip:a},{label:"按钮图标",prop:"icon",type:"slot",slotName:"iconInput"},{label:"按钮类型",prop:"type",type:"select",options:[{label:"默认（蓝色）",value:"primary"},{label:"成功（绿色）",value:"success"},{label:"警告（橙色）",value:"warning"},{label:"危险（红色）",value:"danger"},{label:"文本（灰色）",value:"info"}]}];function f(){k(),o("update:show",!1)}function y(){c.value.validate(Q=>{if(!Q)return;f();const{width:Y,max:Z}=s.column;o("submit",Ee(d.list),Y,Z)})}function E(Q){r.value.validate(Y=>{if(!Y)return;const Z=Ee(s.btn);Q==="add"?d.list.push(Z):d.list[d.index]=s.btn,k()})}function k(){d.index=-1,s.btn=Ut(),d.formEdit=!1,setTimeout(()=>{var Q;return(Q=r.value)==null?void 0:Q.clearValidate()})}function $(Q){const Y=d.list[Q];s.btn=JSON.parse(JSON.stringify(Y)),d.index=Q,d.formEdit=!0}function M(Q){d.list.splice(Q,1)}function K(){o("openFormConfig",s.btn)}ke(()=>t.show,function(Q){d.show=Q,Q&&(d.list=Ee(t.list),d.hasEdit=d.list.some(Y=>Y.key===Qe),d.index=-1,s.btn=Ut(),s.column={width:t.columnWidth,max:t.actionMax},setTimeout(()=>{var Y,Z;(Y=r.value)==null||Y.clearValidate(),(Z=c.value)==null||Z.clearValidate()}))},{immediate:!0});const{onDragStart:_,onDragMove:C,onDropEnd:T}=nt({list:()=>d.list,key:"key"});function ie(Q){if(Q.key!=Qe&&d.list.length>1&&d.index===-1)return!0}function H(Q){const Y=Q.text;if(ae(Y,"string")){if(!Y.includes("return"))return Y;let Z="文字配置有误";try{Z=new Function("row",Y)({})}catch(L){console.warn("解析按钮文字代码错误 >>",L)}return Z}return ae(Y,"function")?Y({}):"未设置按钮"}return(Q,Y)=>{const Z=S("el-text"),L=S("el-divider"),V=S("el-form"),W=S("el-button"),D=S("el-form-item"),B=S("el-popconfirm"),P=S("el-empty"),q=S("base-dialog");return v(),I(q,{show:d.show,"onUpdate:show":Y[8]||(Y[8]=J=>d.show=J),title:"配置操作列按钮功能",width:"1000px",onClose:f},{footer:b(()=>[g(x(Lt),{disabledSubmit:d.formEdit,onClose:f,onSubmit:y},null,8,["disabledSubmit"])]),default:b(()=>[w("div",vs,[w("section",bs,[g(L,{"content-position":"left","border-style":"dashed"},{default:b(()=>[g(Z,{type:"info"},{default:b(()=>[A("操作列配置")]),_:1})]),_:1}),g(V,{ref_key:"formColumn",ref:c,model:s.column,rules:h,labelPosition:"right",labelWidth:"128px"},{default:b(()=>[g(x(Ke),{data:s.column,list:m},null,8,["data"])]),_:1},8,["model"]),g(L,{"content-position":"left","border-style":"dashed"},{default:b(()=>[g(Z,{type:"info"},{default:b(()=>[A("操作按钮配置")]),_:1})]),_:1}),g(V,{ref_key:"formBtn",ref:r,model:s.btn,rules:p,labelPosition:"right",labelWidth:"128px",class:ne({"the-filter-mask":!d.formEdit}),"data-tips":"待新增或编辑操作"},{default:b(()=>[g(x(Ke),{data:s.btn,list:u},{clickCode:b(()=>[g(x(ct),{value:s.btn.click,"onUpdate:value":Y[0]||(Y[0]=J=>s.btn.click=J),type:"action-submit"},null,8,["value"])]),formConfig:b(()=>[g(W,{type:s.btn.formConfig?"success":"primary",size:"small",plain:"",onClick:K},{default:b(()=>[w("i",{class:ne(["el-icon--left",s.btn.formConfig?"el-icon-edit":"el-icon-setting"])},null,2),A(" "+te(s.btn.formConfig?"修改表单":"配置表单"),1)]),_:1},8,["type"]),s.btn.formConfig?(v(),I(W,{key:0,type:"danger",size:"small",plain:"",onClick:Y[1]||(Y[1]=J=>s.btn.formConfig=void 0)},{default:b(()=>[_s,A(" 删除表单 ")]),_:1})):R("",!0)]),icon:b(()=>[g(x(bn),{value:s.btn.icon,"onUpdate:value":Y[2]||(Y[2]=J=>s.btn.icon=J)},null,8,["value"])]),_:1},8,["data"]),g(D,null,{default:b(()=>[w("div",ws,[g(W,{onClick:Y[3]||(Y[3]=J=>k())},{default:b(()=>[A("取 消")]),_:1}),d.index>-1?(v(),I(W,{key:0,type:"primary",plain:"",onClick:Y[4]||(Y[4]=J=>E("edit"))},{default:b(()=>[ks,A(" 确认修改 ")]),_:1})):(v(),I(W,{key:1,type:"primary",plain:"",onClick:Y[5]||(Y[5]=J=>E("add"))},{default:b(()=>[xs,A(" 确认新增 ")]),_:1}))])]),_:1})]),_:1},8,["model","class"])]),g(Xe,{name:"the-group",tag:"div",class:"the-curd-option-list f1"},{default:b(()=>[(v(!0),O(G,null,me(d.list,(J,ge)=>(v(),O("div",{class:ne(["the-curd-option-item f-vertical",{"the-curd-selected":ge===d.index}]),key:J.key,"data-key":J.key!==x(Qe)?J.key:null,draggable:ie(J),onDragstart:N=>x(_)(ge),onDragover:N=>x(C)(N,ge),onDrop:Y[6]||(Y[6]=(...N)=>x(T)&&x(T)(...N))},[d.index===-1&&J.key!==x(Qe)?(v(),O("i",$s)):R("",!0),g(W,{type:J.type,link:""},{default:b(()=>[J.icon?(v(),O("i",{key:0,class:ne(["el-icon--left",J.icon])},null,2)):R("",!0),A(" "+te(H(J)),1)]),_:2},1032,["type"]),Cs,J.key===x(Qe)?(v(),I(Z,{key:1,type:"info",size:"small"},{default:b(()=>[A("编辑按钮不可删除、拖拽等操作，且处于首位")]),_:1})):(v(),O(G,{key:2},[g(B,{width:"186px",title:"是否删除该按钮功能？",onConfirm:N=>M(ge)},{reference:b(()=>[g(W,{link:"",type:"danger",disabled:d.index>-1},{default:b(()=>[Ss]),_:1},8,["disabled"])]),_:2},1032,["onConfirm"]),g(W,{link:"",type:"success",onClick:N=>$(ge)},{default:b(()=>[Ds]),_:2},1032,["onClick"])],64))],42,Es))),128)),d.list.length?R("",!0):(v(),I(P,{key:"empty","image-size":120,description:"请添加操作列功能按钮"})),d.formEdit?R("",!0):(v(),O("div",Ts,[d.formEdit?R("",!0):(v(),I(W,{key:0,type:"primary",plain:"",onClick:Y[7]||(Y[7]=J=>d.formEdit=!0)},{default:b(()=>[Fs,A(" 新增功能按钮 ")]),_:1}))]))]),_:1})])]),_:1},8,["show"])}}}),Is={class:"the-curd-popup-top f-vertical"},Ps={key:0,class:"the-title"},Rs={class:"f1 f-vertical pl-[20px]"},Bs={class:"the-curd-popup-content"},As={key:0,class:"the-curd-popup-footer"},Ms={name:"FullPopup"},xo=le({...Ms,props:{show:{type:Boolean,default:!1},title:{type:String,default:void 0},zIndex:{type:Number,default:()=>lt()}},emits:["update:show","close"],setup(e,{emit:n}){const t=e,o=n;function l(){o("close",!1),o("update:show",!1)}return(i,a)=>(v(),O("section",null,[g(Je,{name:"page-y",mode:"out-in"},{default:b(()=>[t.show?(v(),O("div",{key:0,class:"the-curd-popup-config",style:xe({"z-index":t.zIndex})},[w("nav",Is,[t.title?(v(),O("h2",Ps,te(t.title),1)):R("",!0),w("div",Rs,[Re(i.$slots,"top")]),w("i",{class:"the-curd-popup-close el-icon-close fvc",onClick:l})]),w("section",Bs,[Re(i.$slots,"default")]),i.$slots.footer?(v(),O("footer",As,[Re(i.$slots,"footer")])):R("",!0)],4)):R("",!0)]),_:3})]))}}),Vs={class:"f-center h-full w-full overflow-auto"},Ns={key:0,class:"el-icon-rank el-icon--left",style:{"line-height":"32px"}},js={class:"f-vertical w-full"},qs=w("i",{class:"el-icon--left el-icon-plus"},null,-1),zs={key:2},Us=w("i",{class:"el-icon--left el-icon-plus"},null,-1),Ws=w("i",{class:"el-icon--left el-icon-delete"},null,-1),Hs=w("i",{class:"el-icon--left el-icon-check"},null,-1),Ys={name:"TableFormConfig"},Js=le({...Ys,props:{show:{type:Boolean,default:!1},config:{type:Object,default:()=>zt()},type:{type:String,required:!0}},emits:["update:show","change"],setup(e,{emit:n}){const t=e,o=n,l=`
<p>按钮显示逻辑代码片段：</p>
<p>例如${re("return false;")}为隐藏，</p>
<p>不填则默认显示</p>
<p>下划线开头的均是全局函数，可在控制台直接运行。</p>
`,i=`
<p>表单提交函数代码片段：</p>
<p>第一个参数${re("formData")}表单完整对象，</p>
<p>第二个参数${re("current")}界面展示中的字段对象，</p>
<p>第三个参数${re("other")}其他操作（如批量操作中为选中的列表参数对象），</p>
<p>可以点击${re("使用示例代码")}进行快速编辑</p>
<p>下划线开头的均是全局函数，可在控制台直接运行。</p>
`,a={title:we("请输入表单标题"),submitCode:we("请输入代码片段")},r="140px",c=[{label:"表单标题",labelWidth:r,prop:"title",type:"input",placeholder:"请输入标题"},{label:"表单宽度",labelWidth:r,prop:"width",type:"number",placeholder:"例如：500(px)"},{label:"文字宽度",labelWidth:r,prop:"labelWidth",type:"number",placeholder:"例如：140(px)"},{label:"文字靠右排版",labelWidth:r,prop:"labelPosition",type:"switch",inactiveValue:"left",activeValue:"right"},{label:"按钮显示逻辑",labelWidth:r,prop:"showCode",type:"textarea",tooltip:l,placeholder:"请输入代码片段",show:()=>!u.value},{label:"表单提交逻辑",labelWidth:r,prop:"submitCode",type:"slot",slotName:"submitCode",tooltip:i,placeholder:"请输入代码片段"}],d=he({config:zt(),showInfo:!0}),s=[{key:"copy",type:"primary",icon:"el-icon-document-copy",tips:"复制表单项",click(H){ie("copy",H)}},{key:"edit",type:"success",icon:"el-icon-edit",tips:"编辑表单项",click(H){ie("edit",H)}},{key:"delete",type:"danger",icon:"el-icon-delete",tips:"删除表单项",click(H){K(H)}}],h=ee(()=>{let H=d.config.width;return H&&(H+=160),{width:vt(H)}}),m=ee(()=>{let H="表单配置";return d.config.title&&(H=`表单配置-${d.config.title}`),H}),p=ee(()=>t.type==="add"?"新增":"编辑"),u=ee(()=>t.type==="other"),f=ee(()=>z.editor.show),{onDragStart:y,onDragMove:E,onDropEnd:k}=nt({list:()=>d.config.fields,key:"id",findLevel:10});function $(H=!1){o("update:show",H)}function M(){$(),o("change")}function K(H){const Q=d.config.fields;Ze({title:"操作提示",content:`是否删除【${Q[H].label}】？`,cancelText:"取消",confirm(){Q.splice(H,1)}})}function _(){Ze({title:"操作提示",content:`是否移除【${p.value}】表单？移除后将不会出现对应功能按钮。`,cancelText:"取消",confirm(){d.config.fields=[]}})}const C=ue();function T(){var H;(H=C.value)==null||H.validate(Q=>{if(ko(".the-table-config-form",Q),!Q)return;if(u.value){$(),o("change",d.config);return}const Y=t.type==="add"?"编辑":"新增";Ze({title:"表单操作提示",content:`是否将《表单项》数据同步到【${Y}】表单？`,cancelText:"同步",confirmText:"不同步",cancel(){$(),o("change",d.config,!0)},confirm(){$(),o("change",d.config)}})})}function ie(H,Q){z.editor.action=H,z.editor.form=d.config,z.editor.index=Q,z.editor.show=!0}return ke(()=>t.show,function(H){d.config=H?Ee(t.config):zt(),!u.value&&!d.config.title&&(d.config.title=t.type==="edit"?"编辑":"新增"),d.showInfo=!0},{immediate:!0}),(H,Q)=>{const Y=S("el-text"),Z=S("el-button"),L=S("el-divider"),V=S("el-tooltip"),W=S("el-form-item"),D=S("el-empty"),B=S("el-form");return v(),I(xo,{show:t.show,title:m.value,onClose:$},{footer:b(()=>[g(Z,{onClick:M},{default:b(()=>[A(" 退出编辑 ")]),_:1}),u.value?R("",!0):(v(),I(Z,{key:0,type:"danger",disabled:!d.config.fields.length,onClick:_},{default:b(()=>[Ws,A(" 删除表单 ")]),_:1},8,["disabled"])),g(Z,{type:"primary",onClick:T},{default:b(()=>[Hs,A(" 保存表单 ")]),_:1})]),default:b(()=>[w("div",Vs,[g(B,{ref_key:"formRef",ref:C,model:d.config,rules:a,"label-width":x(vt)(d.config.labelWidth),"label-position":d.config.labelPosition,style:xe(h.value),class:"the-curd-edit-form the-table-config-form"},{default:b(()=>[d.config.fields.length?(v(),O(G,{key:0},[g(L,{"content-position":"left","border-style":"dashed"},{default:b(()=>[g(Y,{type:"info"},{default:b(()=>[A("配置表单信息")]),_:1}),g(Z,{link:"",type:"primary",class:"ml-[10px]",onClick:Q[0]||(Q[0]=P=>d.showInfo=!d.showInfo)},{default:b(()=>[A(te(d.showInfo?"收起":"展开")+" ",1),w("i",{class:ne(["el-icon--right",`el-icon-arrow-${d.showInfo?"up":"down"}`])},null,2)]),_:1})]),_:1}),Ve(w("div",null,[g(x(Ke),{data:d.config,list:c},{submitCode:b(()=>[g(x(ct),{value:d.config.submitCode,"onUpdate:value":Q[1]||(Q[1]=P=>d.config.submitCode=P),type:"form-submit"},null,8,["value"])]),_:1},8,["data"])],512),[[Ge,d.showInfo]]),g(L,{"content-position":"left","border-style":"dashed"},{default:b(()=>[g(Y,{type:"info"},{default:b(()=>[A("配置表单项")]),_:1})]),_:1})],64)):R("",!0),g(Xe,{name:"the-group",tag:"div"},{default:b(()=>[(v(!0),O(G,null,me(d.config.fields,(P,q)=>(v(),I(W,{class:ne(["is-drag-item",{"is-required":!!P.required},{"the-curd-selected":x(z).editor.index===q&&f.value}]),prop:P.key,key:P.id,"data-key":P.id,draggable:d.config.fields.length>1,onDragstart:J=>x(y)(q),onDragover:J=>x(E)(J,q),onDrop:x(k)},{label:b(()=>[d.config.fields.length>1?(v(),O("i",Ns)):R("",!0),w("span",null,te(P.label),1)]),default:b(()=>[w("div",js,[g(Ot,{class:"mr-[10px]",fieldData:P,editMode:""},null,8,["fieldData"]),(v(),O(G,null,me(s,J=>g(V,{key:J.key,effect:"dark",content:J.tips,placement:"top"},{default:b(()=>[g(Z,{link:"",type:J.type,disabled:f.value,onClick:ge=>J.click(q)},{default:b(()=>[w("i",{class:ne(J.icon)},null,2)]),_:2},1032,["type","disabled","onClick"])]),_:2},1032,["content"])),64))])]),_:2},1032,["class","prop","data-key","draggable","onDragstart","onDragover","onDrop"]))),128))]),_:1}),d.config.fields.length?R("",!0):(v(),I(D,{key:1,description:u.value?"请配置表单项":`当前没有表单项，当没有表单项时【${p.value}】功能按钮不会出现~`},{default:b(()=>[f.value?R("",!0):(v(),I(Z,{key:0,type:"primary",onClick:Q[2]||(Q[2]=P=>ie("add",-1))},{default:b(()=>[qs,A(" 添加表单项 ")]),_:1}))]),_:1},8,["description"])),f.value?R("",!0):(v(),O("div",zs,[d.config.fields.length?(v(),I(W,{key:"bottom-add"},{default:b(()=>[g(Z,{type:"primary",onClick:Q[3]||(Q[3]=P=>ie("add",-1))},{default:b(()=>[Us,A(" 继续添加 ")]),_:1})]),_:1})):R("",!0)]))]),_:1},8,["model","label-width","label-position","style"])])]),_:1},8,["show","title"])}}}),Gs={class:"flex"},Ks={class:"f3"},Xs=w("p",{class:"mb-[8px]"},"表格数据中的字段，例如表格数：",-1),Qs=w("p",{class:"mb-[8px]"},"则键值可以为 id",-1),Zs=w("p",null,[w("i",{class:"el-icon-info el-icon--left"}),A(" 不填则没有批量功能，即使配置了批量按钮 ")],-1),ea=w("i",{class:"el-icon--left el-icon-delete"},null,-1),ta={class:"f-right w-full"},na=w("i",{class:"el-icon--left el-icon-finished"},null,-1),oa=w("i",{class:"el-icon--left el-icon-plus"},null,-1),la=["data-key","draggable","onDragstart","onDragover"],ia={key:0,class:"el-icon--left el-icon-rank"},sa=w("div",{class:"f1"},null,-1),aa=w("i",{class:"el-icon-delete"},null,-1),ra=w("i",{class:"el-icon-edit"},null,-1),ca={key:0,class:"f-right mt-[14px] w-full"},ua=w("i",{class:"el-icon--left el-icon-plus"},null,-1),da={name:"TableBatchConfig"},fa=le({...da,props:{show:{type:Boolean,default:!1},selectKey:{type:String,default:""},list:{type:Array,default:()=>[]}},emits:["update:show","submit","openFormConfig"],setup(e,{emit:n}){const t=e,o=n,l='[{ id: 1, name: "名称", status: 2 }]',i=`
<p>函数代码片段，点击的时候运行</p>
<p>函数第一个参数${re("list")}是当前选中键值列表；</p>
<p>第二个参数${re("selectList")}是当前选中的完整列表；</p>
<p>例如：${re("console.log(list, selectList);")}</p>
<p>
  <a class="el-link el-link--primary" target="_blank" href="https://github.com/Travis-hjs/vue-admin/blob/el-plus/src/components/Curd/src/index.vue">查看已暴露的函数</a>
</p>
<p>下划线开头的均是全局函数，可在控制台直接运行。</p>
`;function a(){return{key:kt("batch"),type:"primary",icon:"",text:"",click:""}}const r={text:we("请输入按钮文字"),click:we("请输入按钮操作代码")},c=[{label:"按钮文字",prop:"text",type:"textarea",placeholder:r.text.message},{label:"按钮功能代码",prop:"click",type:"slot",slotName:"batchCode",tooltip:i,show:()=>!s.formData.formConfig},{label:"表单功能",prop:"formConfig",type:"slot",slotName:"formConfig"},{label:"按钮类型",prop:"type",type:"select",options:[{label:"默认（蓝色）",value:"primary"},{label:"成功（绿色）",value:"success"},{label:"警告（橙色）",value:"warning"},{label:"危险（红色）",value:"danger"},{label:"文本（灰色）",value:"info"}]},{label:"按钮图标",prop:"icon",type:"slot",slotName:"icon"},{label:"是否实心按钮",prop:"solid",type:"switch"}],d=ue(),s=he({show:!1,keyword:"",batchList:[],formData:a(),index:-1,hasEdit:!1,formEdit:!1});function h(){o("update:show",!1)}function m(){h(),o("submit",s.keyword,JSON.parse(JSON.stringify(s.batchList)))}function p(){s.index=-1,s.formData=a(),s.formEdit=!1,setTimeout(()=>{var _;return(_=d.value)==null?void 0:_.clearValidate()})}function u(_){const C=s.batchList[_];s.formData=JSON.parse(JSON.stringify(C)),s.index=_,s.formEdit=!0}function f(_){s.batchList.splice(_,1)}function y(_){d.value.validate(C=>{if(!C)return;const T=JSON.parse(JSON.stringify(s.formData));_==="add"?s.batchList.push(T):s.batchList[s.index]=T,p()})}const{onDragStart:E,onDragMove:k,onDropEnd:$}=nt({list:()=>s.batchList,key:"key"});function M(){if(s.batchList.length>1&&s.index===-1)return!0}function K(){o("openFormConfig",s.formData)}return ke(()=>t.show,function(_){s.show=_,_&&(s.keyword=t.selectKey||"",s.batchList=t.list?JSON.parse(JSON.stringify(t.list)):[])},{immediate:!0}),(_,C)=>{const T=S("el-input"),ie=S("el-form-item"),H=S("el-form"),Q=S("el-text"),Y=S("el-divider"),Z=S("el-button"),L=S("el-popconfirm"),V=S("el-empty"),W=S("base-dialog");return v(),I(W,{show:s.show,"onUpdate:show":C[9]||(C[9]=D=>s.show=D),title:"配置批量操作功能",width:"1000px",onClose:h},{footer:b(()=>[g(x(Lt),{disabledSubmit:s.formEdit,onClose:h,onSubmit:m},null,8,["disabledSubmit"])]),default:b(()=>[w("div",Gs,[w("section",Ks,[g(H,{labelPosition:"right",labelWidth:"120px"},{default:b(()=>[g(ie,{label:"数据键值"},{default:b(()=>[g(T,{modelValue:s.keyword,"onUpdate:modelValue":C[0]||(C[0]=D=>s.keyword=D),class:"mb-[8px]",placeholder:"请输入数据键值",clearable:""},null,8,["modelValue"]),w("div",{class:"the-tag blue"},[Xs,w("p",{class:"mb-[8px]"},te(l)),Qs,Zs])]),_:1})]),_:1}),g(Y,{"content-position":"left","border-style":"dashed"},{default:b(()=>[g(Q,{type:"info"},{default:b(()=>[A("操作按钮配置")]),_:1})]),_:1}),g(H,{ref_key:"formBtn",ref:d,model:s.formData,rules:r,labelPosition:"right",labelWidth:"128px",class:ne({"the-filter-mask":!s.formEdit}),"data-tips":"待新增或编辑操作"},{default:b(()=>[g(x(Ke),{data:s.formData,list:c},{batchCode:b(()=>[g(x(ct),{value:s.formData.click,"onUpdate:value":C[1]||(C[1]=D=>s.formData.click=D),type:"batch-submit"},null,8,["value"])]),icon:b(()=>[g(x(bn),{value:s.formData.icon,"onUpdate:value":C[2]||(C[2]=D=>s.formData.icon=D)},null,8,["value"])]),formConfig:b(()=>[g(Z,{type:s.formData.formConfig?"success":"primary",size:"small",plain:"",onClick:K},{default:b(()=>[w("i",{class:ne(["el-icon--left",s.formData.formConfig?"el-icon-edit":"el-icon-setting"])},null,2),A(" "+te(s.formData.formConfig?"修改表单":"配置表单"),1)]),_:1},8,["type"]),s.formData.formConfig?(v(),I(Z,{key:0,type:"danger",size:"small",plain:"",onClick:C[3]||(C[3]=D=>s.formData.formConfig=void 0)},{default:b(()=>[ea,A(" 删除表单 ")]),_:1})):R("",!0)]),_:1},8,["data"]),g(ie,null,{default:b(()=>[w("div",ta,[g(Z,{onClick:C[4]||(C[4]=D=>p())},{default:b(()=>[A("取 消")]),_:1}),s.index>-1?(v(),I(Z,{key:0,type:"primary",plain:"",onClick:C[5]||(C[5]=D=>y("edit"))},{default:b(()=>[na,A(" 确认修改 ")]),_:1})):(v(),I(Z,{key:1,type:"primary",plain:"",onClick:C[6]||(C[6]=D=>y("add"))},{default:b(()=>[oa,A(" 确认新增 ")]),_:1}))])]),_:1})]),_:1},8,["model","class"])]),g(Xe,{class:"f2 the-curd-option-list",name:"the-group",tag:"div"},{default:b(()=>[(v(!0),O(G,null,me(s.batchList,(D,B)=>(v(),O("div",{key:D.key,class:ne(["the-curd-option-item f-vertical",{"the-curd-selected":B===s.index}]),"data-key":D.key,draggable:M(),onDragstart:P=>x(E)(B),onDragover:P=>x(k)(P,B),onDrop:C[7]||(C[7]=(...P)=>x($)&&x($)(...P))},[s.index===-1?(v(),O("i",ia)):R("",!0),g(Z,{type:D.type,link:""},{default:b(()=>[D.icon?(v(),O("i",{key:0,class:ne(["el-icon--left",D.icon])},null,2)):R("",!0),A(" "+te(D.text),1)]),_:2},1032,["type"]),sa,g(L,{width:"186px",title:"是否删除该按钮功能？",onConfirm:P=>f(B)},{reference:b(()=>[g(Z,{link:"",type:"danger",disabled:s.index>-1},{default:b(()=>[aa]),_:1},8,["disabled"])]),_:2},1032,["onConfirm"]),g(Z,{link:"",type:"success",onClick:P=>u(B)},{default:b(()=>[ra]),_:2},1032,["onClick"])],42,la))),128)),s.formEdit?R("",!0):(v(),O("div",ca,[s.formEdit?R("",!0):(v(),I(Z,{key:0,type:"primary",plain:"",onClick:C[8]||(C[8]=D=>s.formEdit=!0)},{default:b(()=>[ua,A(" 新增功能按钮 ")]),_:1}))])),s.batchList.length?R("",!0):(v(),I(V,{key:"empty","image-size":120,description:"请添加操作列功能按钮"}))]),_:1})])]),_:1},8,["show"])}}}),pa={class:"flex"},ma={class:"f3"},ha=w("i",{class:"el-icon--left el-icon-delete"},null,-1),ga={class:"f-right w-full"},ya=w("i",{class:"el-icon--left el-icon-finished"},null,-1),va=w("i",{class:"el-icon--left el-icon-plus"},null,-1),ba=["data-key","draggable","onDragstart","onDragover"],_a={key:0,class:"el-icon--left el-icon-rank"},wa=w("div",{class:"f1"},null,-1),ka=w("i",{class:"el-icon-delete"},null,-1),xa=w("i",{class:"el-icon-edit"},null,-1),Ea={key:0,class:"f-right mt-[14px] w-full"},$a=w("i",{class:"el-icon--left el-icon-plus"},null,-1),Ca={name:"TableOperationConfig"},Sa=le({...Ca,props:{show:{type:Boolean,default:!1},list:{type:Array,default:()=>[]}},emits:["update:show","submit","openFormConfig"],setup(e,{emit:n}){const t=e,o=n,l=`
<p>函数代码片段，点击的时候运行</p>
<p>函数当前函数没有传参字段</p>
<p>例如：${re('console.log("测试");')}</p>
`,i=`
<p>可以输入代码片段，</p>
<p>以${re("return")}关键字为函数标记，</p>
<p>例如：${re('return _hasAuth("权限标识");')}返回布尔值进行判断显示或者隐藏。</p>
`,a=ue(),r=he({show:!1,list:[],index:-1,formEdit:!1}),c=he({data:Wt()}),d={text:we("请输入按钮文字"),click:we("请输入按钮操作代码"),icon:we("请输入图标 class",!1),type:we("请选择按钮类型",!1)},s=[{label:"按钮文字",prop:"text",type:"textarea",placeholder:d.text.message},{label:"按钮点击功能",prop:"click",type:"slot",slotName:"clickCode",tooltip:l,show:()=>!c.data.formConfig},{label:"表单功能",prop:"formConfig",type:"slot",slotName:"formConfig"},{label:"按钮显示条件",prop:"show",type:"textarea",placeholder:"请输入条件代码，为空则默认显示",tooltip:i},{label:"按钮类型",prop:"type",type:"select",options:[{label:"默认（蓝色）",value:"primary"},{label:"成功（绿色）",value:"success"},{label:"警告（橙色）",value:"warning"},{label:"危险（红色）",value:"danger"},{label:"文本（灰色）",value:"info"}]},{label:"按钮图标",prop:"icon",type:"slot",slotName:"icon"},{label:"是否为实心按钮",prop:"solid",type:"switch"}];function h(){u(),o("update:show",!1)}function m(){o("submit",JSON.parse(JSON.stringify(r.list))),h()}function p(_){a.value.validate(C=>{if(!C)return;const T=JSON.parse(JSON.stringify(c.data));_==="add"?r.list.push(T):r.list[r.index]=c.data,u()})}function u(){r.index=-1,c.data=Wt(),r.formEdit=!1,setTimeout(()=>{var _;return(_=a.value)==null?void 0:_.clearValidate()})}function f(_){const C=r.list[_];c.data=JSON.parse(JSON.stringify(C)),r.index=_,r.formEdit=!0}function y(_){r.list.splice(_,1)}ke(()=>t.show,_=>{r.show=_,_&&(r.list=JSON.parse(JSON.stringify(t.list)),c.data=Wt(),r.index=-1,setTimeout(()=>{var C;(C=a.value)==null||C.clearValidate()}))},{immediate:!0});const{onDragStart:E,onDragMove:k,onDropEnd:$}=nt({list:()=>r.list,key:"key"});function M(_){if(r.list.length>1&&r.index===-1)return!0}function K(){o("openFormConfig",c.data)}return(_,C)=>{const T=S("el-button"),ie=S("el-form-item"),H=S("el-form"),Q=S("el-popconfirm"),Y=S("el-empty"),Z=S("base-dialog");return v(),I(Z,{show:r.show,"onUpdate:show":C[8]||(C[8]=L=>r.show=L),title:"配置自定义按钮功能",width:"1000px",onClose:h},{footer:b(()=>[g(x(Lt),{disabledSubmit:r.formEdit,onClose:h,onSubmit:m},null,8,["disabledSubmit"])]),default:b(()=>[w("div",pa,[w("section",ma,[g(H,{ref_key:"formRef",ref:a,model:c.data,rules:d,labelPosition:"right",labelWidth:"128px",class:ne({"the-filter-mask":!r.formEdit}),"data-tips":"待新增或编辑操作"},{default:b(()=>[g(x(Ke),{data:c.data,list:s},{clickCode:b(()=>[g(x(ct),{value:c.data.click,"onUpdate:value":C[0]||(C[0]=L=>c.data.click=L),type:"operation-submit"},null,8,["value"])]),formConfig:b(()=>[g(T,{type:c.data.formConfig?"success":"primary",size:"small",plain:"",onClick:K},{default:b(()=>[w("i",{class:ne(["el-icon--left",c.data.formConfig?"el-icon-edit":"el-icon-setting"])},null,2),A(" "+te(c.data.formConfig?"修改表单":"配置表单"),1)]),_:1},8,["type"]),c.data.formConfig?(v(),I(T,{key:0,type:"danger",size:"small",plain:"",onClick:C[1]||(C[1]=L=>c.data.formConfig=void 0)},{default:b(()=>[ha,A(" 删除表单 ")]),_:1})):R("",!0)]),icon:b(()=>[g(x(bn),{value:c.data.icon,"onUpdate:value":C[2]||(C[2]=L=>c.data.icon=L)},null,8,["value"])]),_:1},8,["data"]),g(ie,null,{default:b(()=>[w("div",ga,[g(T,{onClick:C[3]||(C[3]=L=>u())},{default:b(()=>[A("取 消")]),_:1}),r.index>-1?(v(),I(T,{key:0,type:"primary",plain:"",onClick:C[4]||(C[4]=L=>p("edit"))},{default:b(()=>[ya,A(" 确认修改 ")]),_:1})):(v(),I(T,{key:1,type:"primary",plain:"",onClick:C[5]||(C[5]=L=>p("add"))},{default:b(()=>[va,A(" 确认新增 ")]),_:1}))])]),_:1})]),_:1},8,["model","class"])]),g(Xe,{class:"f2 the-curd-option-list",name:"the-group",tag:"div"},{default:b(()=>[(v(!0),O(G,null,me(r.list,(L,V)=>(v(),O("div",{key:L.key,class:ne(["the-curd-option-item f-vertical",{"the-curd-selected":V===r.index}]),"data-key":L.key,draggable:M(L),onDragstart:W=>x(E)(V),onDragover:W=>x(k)(W,V),onDrop:C[6]||(C[6]=(...W)=>x($)&&x($)(...W))},[r.index===-1&&r.list.length>1?(v(),O("i",_a)):R("",!0),g(T,{type:L.type,link:""},{default:b(()=>[L.icon?(v(),O("i",{key:0,class:ne(["el-icon--left",L.icon])},null,2)):R("",!0),A(" "+te(L.text),1)]),_:2},1032,["type"]),wa,g(Q,{width:"186px",title:"是否删除该按钮功能？",onConfirm:W=>y(V)},{reference:b(()=>[g(T,{link:"",type:"danger",disabled:r.index>-1},{default:b(()=>[ka]),_:1},8,["disabled"])]),_:2},1032,["onConfirm"]),g(T,{link:"",type:"success",onClick:W=>f(V)},{default:b(()=>[xa]),_:2},1032,["onClick"])],42,ba))),128)),r.formEdit?R("",!0):(v(),O("div",Ea,[r.formEdit?R("",!0):(v(),I(T,{key:0,type:"primary",plain:"",onClick:C[7]||(C[7]=L=>r.formEdit=!0)},{default:b(()=>[$a,A(" 新增功能按钮 ")]),_:1}))])),r.list.length?R("",!0):(v(),I(Y,{key:"empty","image-size":120,description:"请添加操作列功能按钮"}))]),_:1})])]),_:1},8,["show"])}}}),Da={class:"the-curd-table-model"},Ta=["data-key","draggable","onDragstart","onDragover"],Fa=["data-head"],La=w("i",{class:"el-icon-rank el-icon--left"},null,-1),Oa=w("i",{class:"el-icon-arrow-down el-icon--right"},null,-1),Ia={key:1,class:"the-tag blue"},Pa=w("div",{class:"fake-table-head fvc"},"操作",-1),Ra={class:"fake-table-cell operation fvc"},Ba=w("i",{class:"el-icon-setting"},null,-1),Aa=w("i",{class:"el-icon-delete"},null,-1),Ma={class:"fake-table-cell disabled"},Va={key:"column-setting",class:"f-vertical"},Na=w("i",{class:"el-icon-plus el-icon--left"},null,-1),ja={key:0},qa=w("i",{class:"el-icon-plus el-icon--left"},null,-1),za={key:1},Ua=w("span",{class:"the-tag blue ml-[10px]"},[w("i",{class:"el-icon--left el-icon-info"}),A(" 当前表格列配置中存在没配置【宽度/最小宽度】，建议一件设置最小宽度，提高表格美观性。 ")],-1),Wa={name:"TableModel"},Ha=le({...Wa,props:{config:{type:Object,required:!0}},setup(e){const n=e,t="https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",o=[{key:"edit",label:"编辑列",icon:"el-icon-edit",click(L){a("edit",L)}},{key:"copy",label:"复制列",icon:"el-icon-document-copy",click(L){a("copy",L)}},{key:"delete",label:"删除列",icon:"el-icon-delete",click(L){c(L)}}],l=he({show:!1,type:"add",index:-1,form:void 0,keys:[]}),i=ee(()=>{const L=n.config.columns,V=[],W=[];for(let D=0;D<L.length;D++){const B=L[D];B.prop===We?W.push(B):V.push(B)}return{drag:V,action:W}});function a(L,V){l.keys=n.config.columns.map(D=>D.prop),{add(){l.form=void 0},edit(){const D=n.config.columns[V];l.keys=l.keys.filter(B=>B!==D.prop),l.index=V,l.form=D},copy(){const D=n.config.columns[V];l.index=V,l.form=D}}[L](),l.type=L,l.show=!0}function r(L){const V=n.config;if(["add","copy"].includes(l.type)){const W=Ee(i.value.drag);l.type==="add"?W.push(L):W.splice(l.index+1,0,L),V.columns=W.concat(i.value.action)}else V.columns[l.index]=L}function c(L){const V=i.value.drag[L];Ze({title:"操作提示",content:`是否删除【${V.title}】列？`,cancelText:"取消",confirm(){const W=n.config.columns.findIndex(D=>D.prop===V.prop);n.config.columns.splice(W,1)}})}const{onDragStart:d,onDragMove:s,onDropEnd:h}=nt({list:()=>n.config.columns,key:"prop",findLevel:5});function m(L){const V={};return L&&L.width&&(V.width=`${L.width}px`),L&&L.minWidth&&(V.minWidth=`${L.minWidth}px`),V}const p=ee(function(){const L=n.config.columns;if(L.length>0&&L[L.length-1].prop===We)return L[L.length-1]});function u(){const L=on(We,"操作");L.minWidth=120,L.width=160,n.config.columns.push(L)}function f(){const L=n.config.columns;Ze({title:"操作提示",content:"是否删除操作列？删除之后需要重新配置。",cancelText:"取消",confirm(){L.splice(L.length-1,1),n.config.actions=[],n.config.formEdit&&(n.config.formEdit=void 0)}})}const y=he({show:!1});function E(){y.show=!0}function k(L,V){const W=n.config;W.selectKey=L,W.batchs=V}const $=he({show:!1,columnWidth:0,actionMax:0});function M(){$.show=!0,$.columnWidth=p.value.width,$.actionMax=n.config.actionMax}function K(L,V){n.config.actions=L;const W=n.config.columns.find(D=>D.prop===We);W.width=V}const _=he({form:null,type:"add",editTarget:{}});function C(L,V={}){switch(_.type=L,_.editTarget=V,L){case"add":_.form=n.config.formAdd;break;case"edit":_.form=n.config.formEdit;break;case"other":_.form=V.formConfig;break}z.editor.showForm=!0}function T(L,V){const W=n.config,D=W.actions;function B(){const P=D.length>0&&D[0].key===Qe;L&&L.fields.length>0?(p.value||u(),P||D.unshift({key:Qe,text:"编辑",type:"success",icon:"el-icon-edit"})):P&&D.splice(0,1)}if(L)switch(_.type){case"add":W.formAdd=L,V&&(W.formEdit?W.formEdit.fields=Ee(L.fields):W.formEdit={title:"编辑",width:L.width,labelWidth:L.labelWidth,labelPosition:L.labelPosition,fields:Ee(L.fields)},B());break;case"edit":W.formEdit=L,V&&(W.formAdd?W.formAdd.fields=Ee(L.fields):W.formAdd={title:"新增",width:L.width,labelWidth:L.labelWidth,labelPosition:L.labelPosition,fields:Ee(L.fields)}),B();break;case"other":_.editTarget.formConfig=L,_.editTarget={};break}z.editor.showForm=!1,_.form=null}const ie=he({show:!1});function H(L){n.config.operations=L}function Q(L){switch(L){case"batch":E();break;case"add":C("add");break;case"edit":C("edit");break;case"operation":ie.show=!0;break}}const Y=ee(()=>i.value.drag.some(L=>!L.width&&!L.minWidth));function Z(){const L=Array.from(document.querySelectorAll(".fake-table-head")),V={};L.forEach(W=>{const D=W.dataset.head||"";D&&(V[D]=Math.round(W.clientWidth))}),n.config.columns.forEach(W=>{Object.prototype.hasOwnProperty.call(V,W.prop)&&(W.minWidth=V[W.prop])})}return(L,V)=>{const W=S("el-empty"),D=S("el-button"),B=S("el-dropdown-item"),P=S("el-dropdown-menu"),q=S("el-dropdown"),J=S("el-tooltip"),ge=S("el-text");return v(),O(G,null,[x(z).editor.showForm?R("",!0):(v(),I(os,{key:0,editMode:!0,config:n.config,onAction:Q},null,8,["config"])),w("div",Da,[g(Xe,{name:"the-group",tag:"div",class:"fake-table"},{default:b(()=>[n.config.columns.length?R("",!0):(v(),I(W,{key:"empty",style:{padding:"10px 40px"},"image-size":120,description:"请添加表格列"})),(v(!0),O(G,null,me(i.value.drag,(N,ye)=>(v(),O("div",{key:N.prop,"data-key":N.prop,draggable:i.value.drag.length>1,style:xe(m(N)),class:"fake-table-item",onDragstart:fe=>x(d)(ye),onDragover:fe=>x(s)(fe,ye),onDrop:V[0]||(V[0]=fe=>x(h)())},[w("div",{class:"fake-table-head f-vertical",style:xe({"text-align":N.align}),"data-head":N.prop},[La,g(x(Di),{column:N},null,8,["column"])],12,Fa),w("div",{class:ne(["fake-table-cell operation f-vertical",[N.align?`f-${N.align}`:void 0]])},[g(q,{trigger:"click"},{dropdown:b(()=>[g(P,null,{default:b(()=>[(v(),O(G,null,me(o,fe=>g(B,{key:fe.key,onClick:Se=>fe.click(ye)},{default:b(()=>[w("i",{class:ne(["el-icon--left",fe.icon])},null,2),A(" "+te(fe.label),1)]),_:2},1032,["onClick"])),64))]),_:2},1024)]),default:b(()=>[g(D,{link:"",type:"primary"},{default:b(()=>[A(" 配置列 "),Oa]),_:1})]),_:2},1024)],2),w("div",{class:ne(["fake-table-cell f-vertical",[N.align?`f-${N.align}`:void 0]])},[N.cellType==="text"?(v(),O(G,{key:0},[A("文本内容")],64)):N.cellType==="js"?(v(),O("span",Ia,"自定义代码")):R("",!0),g(x(zi),{column:N,src:t},null,8,["column"])],2)],44,Ta))),128)),p.value?(v(),O("div",{key:x(We),style:xe(m(p.value)),class:"fake-table-item"},[Pa,w("div",Ra,[g(J,{effect:"dark",content:"配置【操作按钮】和【操作列】的宽度",placement:"top"},{default:b(()=>[g(D,{circle:"",plain:"",type:"primary",size:"small",onClick:V[1]||(V[1]=N=>M())},{default:b(()=>[Ba]),_:1})]),_:1}),g(D,{circle:"",plain:"",type:"danger",size:"small",onClick:V[2]||(V[2]=N=>f())},{default:b(()=>[Aa]),_:1})]),w("div",Ma,[n.config.actions.length?(v(),I(x(ki),{key:0,row:{},index:1,max:n.config.actionMax,actions:n.config.actions},null,8,["max","actions"])):(v(),I(ge,{key:1,type:"info"},{default:b(()=>[A("待添加操作~")]),_:1}))])],4)):R("",!0),w("div",Va,[w("div",null,[w("p",null,[g(D,{type:"primary",text:"",onClick:V[3]||(V[3]=N=>a("add"))},{default:b(()=>[Na,A(" 添加内容列 ")]),_:1})]),p.value?R("",!0):(v(),O("p",ja,[g(D,{type:"primary",text:"",onClick:V[4]||(V[4]=N=>u())},{default:b(()=>[qa,A(" 添加操作列 ")]),_:1})]))])])]),_:1})]),!x(z).editor.showForm&&Y.value?(v(),O("div",za,[g(D,{type:"primary",onClick:V[5]||(V[5]=N=>Z())},{default:b(()=>[A("一键设置最小宽度")]),_:1}),Ua])):R("",!0),g(ys,{show:l.show,"onUpdate:show":V[6]||(V[6]=N=>l.show=N),type:l.type,keys:l.keys,form:l.form,onSubmit:r},null,8,["show","type","keys","form"]),g(fa,{show:y.show,"onUpdate:show":V[7]||(V[7]=N=>y.show=N),"select-key":n.config.selectKey,list:n.config.batchs,onSubmit:k,onOpenFormConfig:V[8]||(V[8]=N=>C("other",N))},null,8,["show","select-key","list"]),g(Os,{show:$.show,"onUpdate:show":V[9]||(V[9]=N=>$.show=N),columnWidth:$.columnWidth,actionMax:$.actionMax,list:n.config.actions,onSubmit:K,onOpenFormConfig:V[10]||(V[10]=N=>C("other",N))},null,8,["show","columnWidth","actionMax","list"]),g(Sa,{show:ie.show,"onUpdate:show":V[11]||(V[11]=N=>ie.show=N),list:n.config.operations,onSubmit:H,onOpenFormConfig:V[12]||(V[12]=N=>C("other",N))},null,8,["show","list"]),g(Js,{show:x(z).editor.showForm,"onUpdate:show":V[13]||(V[13]=N=>x(z).editor.showForm=N),config:_.form,type:_.type,onChange:T},null,8,["show","config","type"])],64)}}}),Ya={class:"the-curd-example"},Ja={name:"Example"},Ga=le({...Ja,props:{selected:{type:String},type:{type:String}},emits:["choose"],setup(e,{emit:n}){const t=e,o=n,l=[{...Fe("input"),placeholder:Ie.input},{...Fe("select"),placeholder:Ie.select},{...Fe("cascader"),placeholder:Ie.cascader},{...Fe("date"),placeholder:Ie.date},{...Fe("checkbox"),options:[{label:"多选-A",value:1},{label:"多选-B",value:2}],defaultValue:[1]},{...Fe("radio"),options:[{label:"单选-A",value:"radio-1"},{label:"单选-B",value:"radio-2"}],defaultValue:"radio-1"},{...Fe("switch"),defaultValue:!0},{...Fe("textarea"),placeholder:Ie.textarea},{...Fe("input-between"),placeholder:["范围区间操作","范围区间操作"]}],i=["radio","checkbox","textarea","switch"],a=ee(()=>t.type==="search"?l.filter(r=>!i.includes(r.type)):l);return(r,c)=>(v(),O("div",Ya,[(v(!0),O(G,null,me(a.value,d=>(v(),I(Ot,{key:d.type,"field-data":d,class:ne(["the-curd-example-item fvc",{"the-curd-selected":t.selected===d.type}]),readonly:"",onClick:s=>o("choose",d.type)},null,8,["field-data","class","onClick"]))),128))]))}}),Ka=w("h2",{class:"the-title mb-[20px]"},"第1步：点击选取组件",-1),Xa={class:"f-vertical mb-[20px]"},Qa={class:"the-title"},Za=w("div",{class:"f1"},null,-1),er=w("i",{class:"el-icon--left el-icon-back"},null,-1),tr={key:0,class:"the-curd-target-box"},nr=w("a",{href:"https://www.json.cn/",target:"_blank"}," JSON编辑工具 ",-1),or=w("i",{class:"el-icon--left el-icon-back"},null,-1),lr=w("i",{class:"el-icon--left el-icon-edit"},null,-1),ir=w("i",{class:"el-icon--left el-icon-plus"},null,-1),sr={name:"Editor"},ar=le({...sr,props:{show:{type:Boolean,default:!1},config:{type:Object,required:!0}},emits:["update:show"],setup(e,{emit:n}){const t=e,o=n;function l(){o("update:show",!1)}const i=["checkbox","radio","switch"],a=["select","radio","checkbox","cascader"],r=["input","textarea","select","radio"],c=["input-between","checkbox","cascader"],d=["input","select","radio"],s=d.concat(c),h=`<p>参考 src/utils/index.ts 中的${re("formatDate")}函数</p>`,m=`
<p>动态表单项的条件显示逻辑函数；</p>
<p>返回${re("false")}则不展示对应项；</p>
<p>函数有一个参数：${re("formData")}为当前表单的数据值；</p>
<p>以${re("return")}为函数代码片段标记；</p>
<p>例如：${re("return formData.type !== 2")}</p>
`,p=ee(()=>{let D=[];return u.formData&&u.formData.type==="date"&&(D=vn[u.formData.dateType].map((P,q)=>({label:P.text,value:q}))),D.unshift({label:"将预览组件中的值设为默认",value:-1}),D}),u=he({step:0,formData:void 0});function f(D){u.step=D}const y={label:we("请输入功能标题"),key:{required:!0,trigger:"blur",validator(D,B,P){B?Z.includes(B)?P(new Error("当前键值已经被占用！")):P():P(new Error("绑定的键值不能为空"))}},format:we("格式化规则不能为空"),separator:we("请输入串联符号"),defaultValue:{required:!0,trigger:"blur",validator(D,B,P){const q=_();q===!0?P():P(new Error(q)),P()}},options:{required:!0,trigger:"blur",validator(D,B,P){const q=C();q===!0?P():P(new Error(q))}},show:{trigger:"blur",validator(D,B,P){if(B&&!B.includes("return")){P(new Error("逻辑代码必须包含 return 关键字"));return}P()}}},E=ee(()=>{const D=u.formData?u.formData.type:"",B=[{label:"组件标题",prop:"label",type:"input",placeholder:y.label.message},{label:"绑定的键值",prop:"key",type:"input",placeholder:"请输入绑定的键值",class:"value-box-short"},{label:"标题宽度",prop:"labelWidth",type:"number",placeholder:"例如：120(px)",class:"value-box-short"},{label:"组件宽度",prop:"valueWidth",type:"number",placeholder:"例如：140(px)",show:()=>!i.includes(D),class:"value-box-short"},{label:"提示/规则文字",prop:"placeholder",type:"slot",slotName:"ruleText"},{label:"是否必填",prop:"required",type:"switch"}];if(s.includes(D)){const P={label:"绑定值为数字类型",prop:"valueType",type:"switch",activeValue:"number",inactiveValue:"string"};c.includes(D)&&(P.activeValue="array<number>",P.inactiveValue="array"),a.includes(D)&&(P.tips="设为数字类型之后，将会在保存时校验选项数据"),B.push(P)}if(D!=="date"&&B.push({label:"组件默认值",prop:"defaultValue",type:"slot",slotName:"defaultValue"}),D==="input-between"&&B.push({label:"串联符号",prop:"separator",type:"input",placeholder:y.separator.message,class:"value-box-short"}),a.includes(D)){const P=[{label:"选项数据",prop:"options",type:"slot",slotName:"options"},{label:"数据展示字段",prop:"optionSetting.label",type:"input",placeholder:"不填则使用 label",class:"value-box-short"},{label:"数据值字段",prop:"optionSetting.value",type:"input",placeholder:"不填则使用 value",class:"value-box-short"}];if(D==="cascader"){const q=[{label:"下级字段",prop:"optionSetting.children",type:"input",placeholder:"不填则使用 children",class:"value-box-short"},{label:"是否多选",prop:"multiple",type:"switch"},{label:"允许只选中某一项",prop:"checkStrictly",type:"switch"}];P.push(...q)}if(D==="select"){const q=u.formData;P.push({label:"是否为多选",prop:"multiple",type:"switch",onChange(J){$.defaultValue=JSON.stringify({value:J?[]:""})}},{label:"选中标签最多数量",prop:"max",type:"number",placeholder:"请输入数量，默认1",class:"value-box-short",show:()=>!!q.multiple},{label:"串联显示名称",prop:"joinShow",type:"switch",tips:"例如【英雄联盟-12】"})}B.push(...P)}if(D==="date"){const P=[{label:"日期类型",prop:"dateType",type:"select",options:In,noClear:!0,onChange:H,class:"value-box-short"},{label:"日期默认值",prop:"shortcutIndex",type:"select",options:p.value,placeholder:"请选择",class:"value-box-short"},{label:"格式化规则",prop:"format",type:"input",tooltip:h,class:"value-box-short"}];B.push(...P)}return z.type==="table"&&B.push({label:"表单显示逻辑",prop:"show",type:"textarea",placeholder:"请输入条件代码，为空则默认展示",tooltip:m}),B}),k=ue(),$=he({options:"",defaultValue:""});function M(D){D.type!=="date"&&($.defaultValue=JSON.stringify({value:D.defaultValue})),a.includes(D.type)&&($.options=JSON.stringify(D.options))}function K(D){var P;const B=Fe(D,"",z.type==="search");u.formData=B,M(B),(P=k.value)==null||P.clearValidate(),f(1)}function _(){const D='输入的格式必须为 { "value": "input value" }',B=$.defaultValue;if(!B)return D;const P=u.formData.type,q=u.formData.valueType,J=Ie[P],ge=P==="select"&&u.formData.multiple;try{const N=JSON.parse(B);if(!ae(N,"object"))return D;if(P==="switch"&&!ae(N.value,"boolean"))return`${J}的绑定值应该为 boolean 类型`;if(c.includes(P)||ge){if(!ae(N.value,"array"))return`${J}的绑定值应该为 array 类型`;if(q==="array<number>"&&N.value.some(ye=>ye!==""&&!ae(ye,"number")))return"数组中只能出现数字"}if(r.includes(P)&&!ge&&!["string","number"].includes(Ne(N.value)))return`${J}的绑定值应该为 string/number 类型`;if(P==="date"){const ye=u.formData;if(ln.includes(ye.dateType)){if(!ae(N.value,"array"))return"范围日期绑定值应该为 array 类型"}else if(!ae(N.value,"string"))return"日期类型绑定值应该为 string 类型"}if(d.includes(P)&&q==="number"&&N.value!==""&&!ae(N.value,"number"))return`${J}的绑定值应该为 number 类型`}catch(N){return console.warn("检查默认值是否合法错误 >>",N),`${N}`}return!0}function C(){const D=$.options;if(!D)return"选项数据不能为空！";try{const B=JSON.parse(D);if(!ae(B,"array"))return"选项数据格式不正确，需要为数组类型！";const P=u.formData,q=P.optionSetting.value||"value",J=[void 0,null];for(let ge=0;ge<B.length;ge++){const N=B[ge];if(!ae(N,"object"))return"数组项必须为对象！";if(J.includes(N[q]))return`数组项的值不能为${J.join("/")}`;if(["array<number>","number"].includes(P.valueType)&&!ae(N[q],"number")&&N[q]!=="")return"数组项的值必须为 number 类型"}return!0}catch(B){return console.warn("checkOptions >>",B),"不合法的JSON,注意使用双引号,结尾不能为逗号等"}}function T(){C()===!0&&(u.formData.options=JSON.parse($.options))}function ie(){if(_()===!0){const B=u.formData,P=JSON.parse($.defaultValue).value;B.type!=="date"&&(B.defaultValue=P)}}function H(D){const B=In.find(q=>q.value===D),P=u.formData;P.shortcutIndex="",ln.includes(B.value)?(P.value=[],P.valueType="array"):(P.value="",P.valueType="string"),P.formatShow=B.formatShow,P.format=B.format}function Q(D){return/^[+-]?(\d|([1-9]\d+))(\.\d+)?$/.test(D)}function Y(){var D;(D=k.value)==null||D.validate(B=>{if(ko(".the-curd-editor-form",B),!B)return;ie(),a.includes(u.formData.type)&&T();const P=z.editor,q=JSON.parse(JSON.stringify(u.formData));if(a.includes(q.type)&&T(),q.valueType||(q.valueType=Ne(q.defaultValue)),a.includes(q.type)&&["number","array<number>"].includes(q.valueType)){let N=q.optionSetting.value;N||(N="value",q.optionSetting.value=N);for(let ye=0;ye<q.options.length;ye++){const fe=q.options[ye],Se=fe[N];if([null,void 0].includes(Se))return Be.error("数据值字段与选项数据不匹配，请检查！");if(Q(Se.toString()))fe[N]=Number(Se);else{const F=fe[q.optionSetting.label];return Be.error(`选项数据中【${F}】的值应该为数字！`)}}}q.type==="date"&&(q.shortcutIndex===-1&&(q.shortcutDate=q.value),q.value=q.valueType==="array"?[]:"");const J={search(N){N?t.config.search.list.push(q):t.config.search.list[P.index]=q},table(N){N?P.form.fields.push(q):P.form.fields[P.index]=q}},ge=P.action!=="edit";J[z.type](ge),l()})}let Z=[];function L(D){const B=z.editor;Z=[],{search(){Z=t.config.search.list.map(q=>q.key)},table(){Z=B.form.fields.map(q=>q.key)}}[z.type](),D&&(Z=Z.filter(q=>q!==D))}function V(){u.step=0,u.formData=void 0}ke(()=>t.show,function(D){if(!D)return;const B=z.editor;if(B.action==="add")V(),L();else{const P=B.index;({search(){u.formData=JSON.parse(JSON.stringify(t.config.search.list[P]))},table(){var J;u.formData=JSON.parse(JSON.stringify((J=B.form)==null?void 0:J.fields[P]))}})[z.type](),B.action==="copy"&&(u.formData.id+=`${u.formData.id}-copy-${Date.now()}`,u.formData.key=""),M(u.formData),L(u.formData.key),u.step=1}});const W=ee(()=>{let D=`配置${z.type==="search"?"筛选项":"表单项"}`;return u.step&&u.formData&&(D=`${D} 《${Ie[u.formData.type]}》`),D});return(D,B)=>{const P=S("el-button"),q=S("el-input"),J=S("el-text"),ge=S("el-form"),N=S("base-dialog");return v(),I(N,{show:t.show,title:W.value,"z-index":x(lt)()+10,width:"680px",onClose:l,onClosed:V},{footer:b(()=>[g(P,{onClick:l},{default:b(()=>[A("退出编辑")]),_:1}),u.step===1?(v(),O(G,{key:0},[g(P,{type:"warning",onClick:B[6]||(B[6]=ye=>f(0))},{default:b(()=>[or,A(" 上一步 ")]),_:1}),x(z).editor.action==="edit"?(v(),I(P,{key:0,type:"success",onClick:Y},{default:b(()=>[lr,A(" 保存修改 ")]),_:1})):(v(),I(P,{key:1,type:"primary",onClick:Y},{default:b(()=>[ir,A(" "+te(x(z).editor.action==="copy"?"新增复制":"新 增"),1)]),_:1}))],64)):R("",!0)]),default:b(()=>{var ye;return[u.step===0?(v(),O(G,{key:0},[Ka,g(Ga,{selected:(ye=u.formData)==null?void 0:ye.type,type:x(z).type,onChoose:K},null,8,["selected","type"])],64)):R("",!0),u.step===1&&u.formData?(v(),O(G,{key:1},[w("div",Xa,[w("h2",Qa,"第2步：配置"+te(x(Ie)[u.formData.type]),1),Za,g(P,{size:"small",type:"warning",onClick:B[0]||(B[0]=fe=>f(0))},{default:b(()=>[er,A(" 上一步 ")]),_:1})]),u.formData?(v(),O("div",tr,[g(Ot,{"field-data":u.formData,"edit-mode":""},null,8,["field-data"])])):R("",!0),u.formData?(v(),I(ge,{key:1,ref_key:"formRef",ref:k,class:"the-curd-editor-form",model:u.formData,rules:y,"label-position":"right","label-width":"140px"},{default:b(()=>[g(x(Ke),{data:u.formData,list:E.value},{ruleText:b(()=>[u.formData.type==="input-between"?(v(),O(G,{key:0},[g(q,{modelValue:u.formData.placeholder[0],"onUpdate:modelValue":B[1]||(B[1]=fe=>u.formData.placeholder[0]=fe),class:"f1",clearable:"",placeholder:"请输入提示-1"},null,8,["modelValue"]),g(J,{style:{padding:"0 6px"}},{default:b(()=>[A("-")]),_:1}),g(q,{modelValue:u.formData.placeholder[1],"onUpdate:modelValue":B[2]||(B[2]=fe=>u.formData.placeholder[1]=fe),class:"f1",clearable:"",placeholder:"请输入提示-2"},null,8,["modelValue"])],64)):(v(),I(q,{key:1,modelValue:u.formData.placeholder,"onUpdate:modelValue":B[3]||(B[3]=fe=>u.formData.placeholder=fe),clearable:"",placeholder:"请输入规则提示/输入框提示文字"},null,8,["modelValue"]))]),defaultValue:b(()=>[g(q,{modelValue:$.defaultValue,"onUpdate:modelValue":B[4]||(B[4]=fe=>$.defaultValue=fe),type:"textarea",clearable:"",placeholder:"请输入JSON，值为 value",onBlur:ie},null,8,["modelValue"])]),options:b(()=>[g(q,{modelValue:$.options,"onUpdate:modelValue":B[5]||(B[5]=fe=>$.options=fe),type:"textarea",placeholder:"请输入数组JSON",style:{"margin-bottom":"4px"},onBlur:T},null,8,["modelValue"]),g(P,{link:"",type:"primary"},{default:b(()=>[nr]),_:1})]),_:1},8,["data","list"])]),_:1},8,["model"])):R("",!0)],64)):R("",!0)]}),_:1},8,["show","title","z-index"])}}}),rr={class:"w-full h-full overflow-auto"},cr={class:"w-full max-w-[680px]"},ur=w("i",{class:"el-icon--left el-icon-document-copy"},null,-1),dr={name:"CurdPopupConfig"},fr=le({...dr,setup(e){const n=[{label:"筛选部分",value:"search"},{label:"表格部分",value:"table"}],t=[{label:"整体文字宽度",prop:"labelWidth",type:"number",placeholder:"例如：120(px)",class:"min-w-[200px]"},{label:"文字靠右对齐",prop:"labelRight",type:"switch"},{label:"查询数据校验逻辑代码",prop:"validateCode",type:"slot",slotName:"validateCode",tooltip:`<p>查询数据函数代码片段：</p>
<p>函数携带一个参数${re("params")}为当前查询参数对象</p>
<p>返回${re("true")}则可以查询，返回${re("false")}则终止查询；</p>`}],o={validateCode:{required:!1,trigger:"blur",validator(s,h,m){h&&!h.includes("return")?m(new Error("函数必须带有 return 字段")):m()}}},l=he({loading:!1}),i=ee(()=>z.editor.show||z.editor.showForm);function a(){z.show=!1,z.config={},z.editor=an()}function r(){gn(JSON.stringify(z.config),()=>Be.success("复制成功！"))}function c(){z.callback(z.config),a()}function d(){z.editor=an()}return(s,h)=>{const m=S("el-radio-button"),p=S("el-radio-group"),u=S("el-text"),f=S("el-divider"),y=S("el-form"),E=S("el-button");return v(),I(xo,{show:x(z).show,"onUpdate:show":h[6]||(h[6]=k=>x(z).show=k),title:`${x(z).title} (${x(z).pageId})`,onClose:a},{top:b(()=>[g(p,{modelValue:x(z).type,"onUpdate:modelValue":h[0]||(h[0]=k=>x(z).type=k),onChange:d},{default:b(()=>[(v(),O(G,null,me(n,k=>g(m,{label:k.label,value:k.value,key:k.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),footer:b(()=>[g(E,{disabled:i.value,onClick:h[3]||(h[3]=k=>a())},{default:b(()=>[A("关闭")]),_:1},8,["disabled"]),g(E,{type:"success",plain:"",onClick:h[4]||(h[4]=k=>r())},{default:b(()=>[ur,A(" 复制JSON ")]),_:1}),g(E,{type:"primary",loading:l.loading,disabled:i.value,onClick:h[5]||(h[5]=k=>c())},{default:b(()=>[A(" 保存配置 ")]),_:1},8,["loading","disabled"])]),default:b(()=>[w("div",rr,[x(z).type==="search"?(v(),O(G,{key:0},[g(f,{"content-position":"left","border-style":"dashed"},{default:b(()=>[g(u,{type:"info"},{default:b(()=>[A("基础配置")]),_:1})]),_:1}),g(y,{model:x(z).config.search,rules:o,"label-position":"right","label-width":"180px"},{default:b(()=>[g(x(Ke),{data:x(z).config.search,list:t},{validateCode:b(()=>[w("div",cr,[g(x(ct),{value:x(z).config.search.validateCode,"onUpdate:value":h[1]||(h[1]=k=>x(z).config.search.validateCode=k),type:"search-validate"},null,8,["value"])])]),_:1},8,["data"])]),_:1},8,["model"]),g(f,{"content-position":"left","border-style":"dashed"},{default:b(()=>[g(u,{type:"info"},{default:b(()=>[A("筛选条件配置")]),_:1})]),_:1}),g(ts,{search:x(z).config.search,"edit-mode":""},null,8,["search"])],64)):R("",!0),x(z).type==="table"?(v(),I(Ha,{key:1,config:x(z).config.table},null,8,["config"])):R("",!0)]),g(ar,{show:x(z).editor.show,"onUpdate:show":h[2]||(h[2]=k=>x(z).editor.show=k),config:x(z).config},null,8,["show","config"])]),_:1},8,["show","title"])}}}),pr={name:"App",components:{ImageViewer:hi,CurdPopupConfig:fr},setup(){let n;function t(){const o=Date.now(),{origin:l,pathname:i}=location,a=`${l+i}version.json?t=${o}`;fetch(a).then(r=>r.json()).then(r=>{r.version&&r.version!==window._version?(clearTimeout(n),Ze({title:"版本更新提示",content:`
            <div class="text-[14px]">
              <p>当前页面有新版本发布, 是否更新？</p>
              <p>新版发布时间：<span class="text-amber-600">${Ye(r.version)}</span></p>
              <p>不更新则需要手动刷新页面，否则影响部分功能使用。</p>
            </div>
            `,confirmText:"更新",cancelText:"取消(关闭提醒)",confirm(){location.reload()}})):n=setTimeout(t,18e4)}).catch(r=>{console.error("检查版本出错 >>",r),clearTimeout(n)})}return je(function(){window._version&&!ht.isDev&&t()}),{zhCn:Xl}}},_n=(e,n)=>{const t=e.__vccOpts||e;for(const[o,l]of n)t[o]=l;return t};function mr(e,n,t,o,l,i){const a=S("router-view"),r=S("ImageViewer"),c=S("CurdPopupConfig"),d=S("el-config-provider");return v(),I(d,{locale:o.zhCn},{default:b(()=>[g(a),g(r),g(c)]),_:1},8,["locale"])}const hr=_n(pr,[["render",mr]]),Yt=[];function gr(e,n){let t;Yt.length>1?t=Yt.shift():(t=document.createElement("div"),t.className="ripple");const o=n.getBoundingClientRect(),l=n.getAttribute("color");let i=Math.max(o.width,o.height);i>200&&(i=200),t.style.height=t.style.width=i+"px",t.style.backgroundColor=l||"rgba(255, 255, 255, .45)",n.appendChild(t);const a=e.touches,r=a?a[0].clientY:e.clientY,c=a?a[0].clientX:e.clientX,d=r-o.top-t.offsetHeight/2,s=c-o.left-t.offsetWidth/2;t.style.top=d+"px",t.style.left=s+"px";function h(){t.removeEventListener("animationend",h),n.removeChild(t),Yt.push(t)}t.addEventListener("animationend",h)}const yr={class:"base-dialog-title f-between f-vertical"},vr={key:0,class:"base-dialog-text"},br={class:"base-dialog-body"},_r={key:0,class:"base-dialog-footer"},wr={name:"base-dialog"},kr=le({...wr,props:{title:{type:String,default:"提示"},show:{type:Boolean,default:!1},width:{type:String,default:"50%"},closeByMask:{type:Boolean,default:!1},appendToBody:{type:Boolean,default:!1},zIndex:{type:Number,default:()=>lt()}},emits:["close","update:show","closed","opened"],setup(e,{emit:n}){const t=e,o=n,l=ue(),i=ue(),a=ue(),r=ue(!1);ke(()=>t.show,function(p){p?setTimeout(()=>{r.value=!0},0):r.value=!1},{immediate:!0});function c(p){if(!t.show||r.value||l.value.contains(p.target))return;const{clientWidth:u,clientHeight:f}=l.value,y=u/2,E=f/2,k=p.clientY-E,M=`${(p.clientX-y)/u*100}vw`,K=`${k/f*100}vh`;d(M,K)}function d(p,u){const f=a.value;f&&(f.style.setProperty("--content-x",p),f.style.setProperty("--content-y",u))}function s(p){(p&&p.target===l.value&&t.closeByMask||p&&p.target===i.value)&&(o("update:show",!1),o("close"))}function h(){r.value&&d("0","0"),o("closed")}function m(){o("opened")}return je(function(){document.addEventListener("click",c)}),tt(function(){document.removeEventListener("click",c)}),(p,u)=>{const f=S("el-scrollbar");return v(),O("section",null,[(v(),I(nl,{to:"body",disabled:!t.appendToBody},[g(Je,{name:"fade"},{default:b(()=>[Ve(w("div",{ref_key:"el",ref:l,class:"base-dialog fvc",style:xe({"z-index":t.zIndex}),onClick:s},[g(Je,{name:"dialog-move",onAfterLeave:h,onAfterEnter:m},{default:b(()=>[Ve(w("div",{ref_key:"contentBox",ref:a,class:"base-dialog-content flex",style:xe({width:t.width})},[w("div",yr,[p.$slots.header?R("",!0):(v(),O("h2",vr,te(e.title),1)),Re(p.$slots,"header"),w("i",{class:"base-dialog-icon",ref_key:"closeBtn",ref:i,onClick:s},null,512)]),w("div",br,[g(f,{"max-height":"76vh"},{default:b(()=>[Re(p.$slots,"default")]),_:3})]),p.$slots.footer?(v(),O("div",_r,[Re(p.$slots,"footer")])):R("",!0)],4),[[Ge,r.value]])]),_:3})],4),[[Ge,t.show]])]),_:3})],8,["disabled"]))])}}}),xr="modulepreload",Er=function(e,n){return new URL(e,n).href},An={},be=function(n,t,o){let l=Promise.resolve();if(t&&t.length>0){const i=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),r=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));l=Promise.all(t.map(c=>{if(c=Er(c,o),c in An)return;An[c]=!0;const d=c.endsWith(".css"),s=d?'[rel="stylesheet"]':"";if(!!o)for(let p=i.length-1;p>=0;p--){const u=i[p];if(u.href===c&&(!d||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${s}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":xr,d||(m.as="script",m.crossOrigin=""),m.href=c,r&&m.setAttribute("nonce",r),document.head.appendChild(m),d)return new Promise((p,u)=>{m.addEventListener("load",p),m.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${c}`)))})}))}return l.then(()=>n()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})};/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ot=typeof document<"u";function $r(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ce=Object.assign;function Jt(e,n){const t={};for(const o in n){const l=n[o];t[o]=De(l)?l.map(e):e(l)}return t}const gt=()=>{},De=Array.isArray,Eo=/#/g,Cr=/&/g,Sr=/\//g,Dr=/=/g,Tr=/\?/g,$o=/\+/g,Fr=/%5B/g,Lr=/%5D/g,Co=/%5E/g,Or=/%60/g,So=/%7B/g,Ir=/%7C/g,Do=/%7D/g,Pr=/%20/g;function wn(e){return encodeURI(""+e).replace(Ir,"|").replace(Fr,"[").replace(Lr,"]")}function Rr(e){return wn(e).replace(So,"{").replace(Do,"}").replace(Co,"^")}function rn(e){return wn(e).replace($o,"%2B").replace(Pr,"+").replace(Eo,"%23").replace(Cr,"%26").replace(Or,"`").replace(So,"{").replace(Do,"}").replace(Co,"^")}function Br(e){return rn(e).replace(Dr,"%3D")}function Ar(e){return wn(e).replace(Eo,"%23").replace(Tr,"%3F")}function Mr(e){return e==null?"":Ar(e).replace(Sr,"%2F")}function bt(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Vr=/\/$/,Nr=e=>e.replace(Vr,"");function Gt(e,n,t="/"){let o,l={},i="",a="";const r=n.indexOf("#");let c=n.indexOf("?");return r<c&&r>=0&&(c=-1),c>-1&&(o=n.slice(0,c),i=n.slice(c+1,r>-1?r:n.length),l=e(i)),r>-1&&(o=o||n.slice(0,r),a=n.slice(r,n.length)),o=Ur(o??n,t),{fullPath:o+(i&&"?")+i+a,path:o,query:l,hash:bt(a)}}function jr(e,n){const t=n.query?e(n.query):"";return n.path+(t&&"?")+t+(n.hash||"")}function Mn(e,n){return!n||!e.toLowerCase().startsWith(n.toLowerCase())?e:e.slice(n.length)||"/"}function qr(e,n,t){const o=n.matched.length-1,l=t.matched.length-1;return o>-1&&o===l&&it(n.matched[o],t.matched[l])&&To(n.params,t.params)&&e(n.query)===e(t.query)&&n.hash===t.hash}function it(e,n){return(e.aliasOf||e)===(n.aliasOf||n)}function To(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const t in e)if(!zr(e[t],n[t]))return!1;return!0}function zr(e,n){return De(e)?Vn(e,n):De(n)?Vn(n,e):e===n}function Vn(e,n){return De(n)?e.length===n.length&&e.every((t,o)=>t===n[o]):e.length===1&&e[0]===n}function Ur(e,n){if(e.startsWith("/"))return e;if(!e)return n;const t=n.split("/"),o=e.split("/"),l=o[o.length-1];(l===".."||l===".")&&o.push("");let i=t.length-1,a,r;for(a=0;a<o.length;a++)if(r=o[a],r!==".")if(r==="..")i>1&&i--;else break;return t.slice(0,i).join("/")+"/"+o.slice(a).join("/")}var _t;(function(e){e.pop="pop",e.push="push"})(_t||(_t={}));var yt;(function(e){e.back="back",e.forward="forward",e.unknown=""})(yt||(yt={}));function Wr(e){if(!e)if(ot){const n=document.querySelector("base");e=n&&n.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Nr(e)}const Hr=/^[^#]+#/;function Yr(e,n){return e.replace(Hr,"#")+n}function Jr(e,n){const t=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:n.behavior,left:o.left-t.left-(n.left||0),top:o.top-t.top-(n.top||0)}}const It=()=>({left:window.scrollX,top:window.scrollY});function Gr(e){let n;if("el"in e){const t=e.el,o=typeof t=="string"&&t.startsWith("#"),l=typeof t=="string"?o?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!l)return;n=Jr(l,e)}else n=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.scrollX,n.top!=null?n.top:window.scrollY)}function Nn(e,n){return(history.state?history.state.position-n:-1)+e}const cn=new Map;function Kr(e,n){cn.set(e,n)}function Xr(e){const n=cn.get(e);return cn.delete(e),n}let Qr=()=>location.protocol+"//"+location.host;function Fo(e,n){const{pathname:t,search:o,hash:l}=n,i=e.indexOf("#");if(i>-1){let r=l.includes(e.slice(i))?e.slice(i).length:1,c=l.slice(r);return c[0]!=="/"&&(c="/"+c),Mn(c,"")}return Mn(t,e)+o+l}function Zr(e,n,t,o){let l=[],i=[],a=null;const r=({state:m})=>{const p=Fo(e,location),u=t.value,f=n.value;let y=0;if(m){if(t.value=p,n.value=m,a&&a===u){a=null;return}y=f?m.position-f.position:0}else o(p);l.forEach(E=>{E(t.value,u,{delta:y,type:_t.pop,direction:y?y>0?yt.forward:yt.back:yt.unknown})})};function c(){a=t.value}function d(m){l.push(m);const p=()=>{const u=l.indexOf(m);u>-1&&l.splice(u,1)};return i.push(p),p}function s(){const{history:m}=window;m.state&&m.replaceState(ce({},m.state,{scroll:It()}),"")}function h(){for(const m of i)m();i=[],window.removeEventListener("popstate",r),window.removeEventListener("beforeunload",s)}return window.addEventListener("popstate",r),window.addEventListener("beforeunload",s,{passive:!0}),{pauseListeners:c,listen:d,destroy:h}}function jn(e,n,t,o=!1,l=!1){return{back:e,current:n,forward:t,replaced:o,position:window.history.length,scroll:l?It():null}}function ec(e){const{history:n,location:t}=window,o={value:Fo(e,t)},l={value:n.state};l.value||i(o.value,{back:null,current:o.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function i(c,d,s){const h=e.indexOf("#"),m=h>-1?(t.host&&document.querySelector("base")?e:e.slice(h))+c:Qr()+e+c;try{n[s?"replaceState":"pushState"](d,"",m),l.value=d}catch(p){console.error(p),t[s?"replace":"assign"](m)}}function a(c,d){const s=ce({},n.state,jn(l.value.back,c,l.value.forward,!0),d,{position:l.value.position});i(c,s,!0),o.value=c}function r(c,d){const s=ce({},l.value,n.state,{forward:c,scroll:It()});i(s.current,s,!0);const h=ce({},jn(o.value,c,null),{position:s.position+1},d);i(c,h,!1),o.value=c}return{location:o,state:l,push:r,replace:a}}function tc(e){e=Wr(e);const n=ec(e),t=Zr(e,n.state,n.location,n.replace);function o(i,a=!0){a||t.pauseListeners(),history.go(i)}const l=ce({location:"",base:e,go:o,createHref:Yr.bind(null,e)},n,t);return Object.defineProperty(l,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(l,"state",{enumerable:!0,get:()=>n.state.value}),l}function nc(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),tc(e)}function oc(e){return typeof e=="string"||e&&typeof e=="object"}function Lo(e){return typeof e=="string"||typeof e=="symbol"}const qe={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Oo=Symbol("");var qn;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(qn||(qn={}));function st(e,n){return ce(new Error,{type:e,[Oo]:!0},n)}function Ae(e,n){return e instanceof Error&&Oo in e&&(n==null||!!(e.type&n))}const zn="[^/]+?",lc={sensitive:!1,strict:!1,start:!0,end:!0},ic=/[.+*?^${}()[\]/\\]/g;function sc(e,n){const t=ce({},lc,n),o=[];let l=t.start?"^":"";const i=[];for(const d of e){const s=d.length?[]:[90];t.strict&&!d.length&&(l+="/");for(let h=0;h<d.length;h++){const m=d[h];let p=40+(t.sensitive?.25:0);if(m.type===0)h||(l+="/"),l+=m.value.replace(ic,"\\$&"),p+=40;else if(m.type===1){const{value:u,repeatable:f,optional:y,regexp:E}=m;i.push({name:u,repeatable:f,optional:y});const k=E||zn;if(k!==zn){p+=10;try{new RegExp(`(${k})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${u}" (${k}): `+M.message)}}let $=f?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;h||($=y&&d.length<2?`(?:/${$})`:"/"+$),y&&($+="?"),l+=$,p+=20,y&&(p+=-8),f&&(p+=-20),k===".*"&&(p+=-50)}s.push(p)}o.push(s)}if(t.strict&&t.end){const d=o.length-1;o[d][o[d].length-1]+=.7000000000000001}t.strict||(l+="/?"),t.end?l+="$":t.strict&&(l+="(?:/|$)");const a=new RegExp(l,t.sensitive?"":"i");function r(d){const s=d.match(a),h={};if(!s)return null;for(let m=1;m<s.length;m++){const p=s[m]||"",u=i[m-1];h[u.name]=p&&u.repeatable?p.split("/"):p}return h}function c(d){let s="",h=!1;for(const m of e){(!h||!s.endsWith("/"))&&(s+="/"),h=!1;for(const p of m)if(p.type===0)s+=p.value;else if(p.type===1){const{value:u,repeatable:f,optional:y}=p,E=u in d?d[u]:"";if(De(E)&&!f)throw new Error(`Provided param "${u}" is an array but it is not repeatable (* or + modifiers)`);const k=De(E)?E.join("/"):E;if(!k)if(y)m.length<2&&(s.endsWith("/")?s=s.slice(0,-1):h=!0);else throw new Error(`Missing required param "${u}"`);s+=k}}return s||"/"}return{re:a,score:o,keys:i,parse:r,stringify:c}}function ac(e,n){let t=0;for(;t<e.length&&t<n.length;){const o=n[t]-e[t];if(o)return o;t++}return e.length<n.length?e.length===1&&e[0]===80?-1:1:e.length>n.length?n.length===1&&n[0]===80?1:-1:0}function rc(e,n){let t=0;const o=e.score,l=n.score;for(;t<o.length&&t<l.length;){const i=ac(o[t],l[t]);if(i)return i;t++}if(Math.abs(l.length-o.length)===1){if(Un(o))return 1;if(Un(l))return-1}return l.length-o.length}function Un(e){const n=e[e.length-1];return e.length>0&&n[n.length-1]<0}const cc={type:0,value:""},uc=/[a-zA-Z0-9_]/;function dc(e){if(!e)return[[]];if(e==="/")return[[cc]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function n(p){throw new Error(`ERR (${t})/"${d}": ${p}`)}let t=0,o=t;const l=[];let i;function a(){i&&l.push(i),i=[]}let r=0,c,d="",s="";function h(){d&&(t===0?i.push({type:0,value:d}):t===1||t===2||t===3?(i.length>1&&(c==="*"||c==="+")&&n(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:d,regexp:s,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):n("Invalid state to consume buffer"),d="")}function m(){d+=c}for(;r<e.length;){if(c=e[r++],c==="\\"&&t!==2){o=t,t=4;continue}switch(t){case 0:c==="/"?(d&&h(),a()):c===":"?(h(),t=1):m();break;case 4:m(),t=o;break;case 1:c==="("?t=2:uc.test(c)?m():(h(),t=0,c!=="*"&&c!=="?"&&c!=="+"&&r--);break;case 2:c===")"?s[s.length-1]=="\\"?s=s.slice(0,-1)+c:t=3:s+=c;break;case 3:h(),t=0,c!=="*"&&c!=="?"&&c!=="+"&&r--,s="";break;default:n("Unknown state");break}}return t===2&&n(`Unfinished custom RegExp for param "${d}"`),h(),a(),l}function fc(e,n,t){const o=sc(dc(e.path),t),l=ce(o,{record:e,parent:n,children:[],alias:[]});return n&&!l.record.aliasOf==!n.record.aliasOf&&n.children.push(l),l}function pc(e,n){const t=[],o=new Map;n=Yn({strict:!1,end:!0,sensitive:!1},n);function l(s){return o.get(s)}function i(s,h,m){const p=!m,u=mc(s);u.aliasOf=m&&m.record;const f=Yn(n,s),y=[u];if("alias"in s){const $=typeof s.alias=="string"?[s.alias]:s.alias;for(const M of $)y.push(ce({},u,{components:m?m.record.components:u.components,path:M,aliasOf:m?m.record:u}))}let E,k;for(const $ of y){const{path:M}=$;if(h&&M[0]!=="/"){const K=h.record.path,_=K[K.length-1]==="/"?"":"/";$.path=h.record.path+(M&&_+M)}if(E=fc($,h,f),m?m.alias.push(E):(k=k||E,k!==E&&k.alias.push(E),p&&s.name&&!Hn(E)&&a(s.name)),u.children){const K=u.children;for(let _=0;_<K.length;_++)i(K[_],E,m&&m.children[_])}m=m||E,(E.record.components&&Object.keys(E.record.components).length||E.record.name||E.record.redirect)&&c(E)}return k?()=>{a(k)}:gt}function a(s){if(Lo(s)){const h=o.get(s);h&&(o.delete(s),t.splice(t.indexOf(h),1),h.children.forEach(a),h.alias.forEach(a))}else{const h=t.indexOf(s);h>-1&&(t.splice(h,1),s.record.name&&o.delete(s.record.name),s.children.forEach(a),s.alias.forEach(a))}}function r(){return t}function c(s){let h=0;for(;h<t.length&&rc(s,t[h])>=0&&(s.record.path!==t[h].record.path||!Io(s,t[h]));)h++;t.splice(h,0,s),s.record.name&&!Hn(s)&&o.set(s.record.name,s)}function d(s,h){let m,p={},u,f;if("name"in s&&s.name){if(m=o.get(s.name),!m)throw st(1,{location:s});f=m.record.name,p=ce(Wn(h.params,m.keys.filter(k=>!k.optional).concat(m.parent?m.parent.keys.filter(k=>k.optional):[]).map(k=>k.name)),s.params&&Wn(s.params,m.keys.map(k=>k.name))),u=m.stringify(p)}else if(s.path!=null)u=s.path,m=t.find(k=>k.re.test(u)),m&&(p=m.parse(u),f=m.record.name);else{if(m=h.name?o.get(h.name):t.find(k=>k.re.test(h.path)),!m)throw st(1,{location:s,currentLocation:h});f=m.record.name,p=ce({},h.params,s.params),u=m.stringify(p)}const y=[];let E=m;for(;E;)y.unshift(E.record),E=E.parent;return{name:f,path:u,params:p,matched:y,meta:gc(y)}}return e.forEach(s=>i(s)),{addRoute:i,resolve:d,removeRoute:a,getRoutes:r,getRecordMatcher:l}}function Wn(e,n){const t={};for(const o of n)o in e&&(t[o]=e[o]);return t}function mc(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:hc(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function hc(e){const n={},t=e.props||!1;if("component"in e)n.default=t;else for(const o in e.components)n[o]=typeof t=="object"?t[o]:t;return n}function Hn(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function gc(e){return e.reduce((n,t)=>ce(n,t.meta),{})}function Yn(e,n){const t={};for(const o in e)t[o]=o in n?n[o]:e[o];return t}function Io(e,n){return n.children.some(t=>t===e||Io(e,t))}function yc(e){const n={};if(e===""||e==="?")return n;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let l=0;l<o.length;++l){const i=o[l].replace($o," "),a=i.indexOf("="),r=bt(a<0?i:i.slice(0,a)),c=a<0?null:bt(i.slice(a+1));if(r in n){let d=n[r];De(d)||(d=n[r]=[d]),d.push(c)}else n[r]=c}return n}function Jn(e){let n="";for(let t in e){const o=e[t];if(t=Br(t),o==null){o!==void 0&&(n+=(n.length?"&":"")+t);continue}(De(o)?o.map(i=>i&&rn(i)):[o&&rn(o)]).forEach(i=>{i!==void 0&&(n+=(n.length?"&":"")+t,i!=null&&(n+="="+i))})}return n}function vc(e){const n={};for(const t in e){const o=e[t];o!==void 0&&(n[t]=De(o)?o.map(l=>l==null?null:""+l):o==null?o:""+o)}return n}const bc=Symbol(""),Gn=Symbol(""),Pt=Symbol(""),kn=Symbol(""),un=Symbol("");function dt(){let e=[];function n(o){return e.push(o),()=>{const l=e.indexOf(o);l>-1&&e.splice(l,1)}}function t(){e=[]}return{add:n,list:()=>e.slice(),reset:t}}function ze(e,n,t,o,l,i=a=>a()){const a=o&&(o.enterCallbacks[l]=o.enterCallbacks[l]||[]);return()=>new Promise((r,c)=>{const d=m=>{m===!1?c(st(4,{from:t,to:n})):m instanceof Error?c(m):oc(m)?c(st(2,{from:n,to:m})):(a&&o.enterCallbacks[l]===a&&typeof m=="function"&&a.push(m),r())},s=i(()=>e.call(o&&o.instances[l],n,t,d));let h=Promise.resolve(s);e.length<3&&(h=h.then(d)),h.catch(m=>c(m))})}function Kt(e,n,t,o,l=i=>i()){const i=[];for(const a of e)for(const r in a.components){let c=a.components[r];if(!(n!=="beforeRouteEnter"&&!a.instances[r]))if(_c(c)){const s=(c.__vccOpts||c)[n];s&&i.push(ze(s,t,o,a,r,l))}else{let d=c();i.push(()=>d.then(s=>{if(!s)return Promise.reject(new Error(`Couldn't resolve component "${r}" at "${a.path}"`));const h=$r(s)?s.default:s;a.components[r]=h;const p=(h.__vccOpts||h)[n];return p&&ze(p,t,o,a,r,l)()}))}}return i}function _c(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Kn(e){const n=et(Pt),t=et(kn),o=ee(()=>n.resolve(x(e.to))),l=ee(()=>{const{matched:c}=o.value,{length:d}=c,s=c[d-1],h=t.matched;if(!s||!h.length)return-1;const m=h.findIndex(it.bind(null,s));if(m>-1)return m;const p=Xn(c[d-2]);return d>1&&Xn(s)===p&&h[h.length-1].path!==p?h.findIndex(it.bind(null,c[d-2])):m}),i=ee(()=>l.value>-1&&Ec(t.params,o.value.params)),a=ee(()=>l.value>-1&&l.value===t.matched.length-1&&To(t.params,o.value.params));function r(c={}){return xc(c)?n[x(e.replace)?"replace":"push"](x(e.to)).catch(gt):Promise.resolve()}return{route:o,href:ee(()=>o.value.href),isActive:i,isExactActive:a,navigate:r}}const wc=le({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Kn,setup(e,{slots:n}){const t=he(Kn(e)),{options:o}=et(Pt),l=ee(()=>({[Qn(e.activeClass,o.linkActiveClass,"router-link-active")]:t.isActive,[Qn(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const i=n.default&&n.default(t);return e.custom?i:Dt("a",{"aria-current":t.isExactActive?e.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:l.value},i)}}}),kc=wc;function xc(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const n=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return e.preventDefault&&e.preventDefault(),!0}}function Ec(e,n){for(const t in n){const o=n[t],l=e[t];if(typeof o=="string"){if(o!==l)return!1}else if(!De(l)||l.length!==o.length||o.some((i,a)=>i!==l[a]))return!1}return!0}function Xn(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Qn=(e,n,t)=>e??n??t,$c=le({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:n,slots:t}){const o=et(un),l=ee(()=>e.route||o.value),i=et(Gn,0),a=ee(()=>{let d=x(i);const{matched:s}=l.value;let h;for(;(h=s[d])&&!h.components;)d++;return d}),r=ee(()=>l.value.matched[a.value]);Vt(Gn,ee(()=>a.value+1)),Vt(bc,r),Vt(un,l);const c=ue();return ke(()=>[c.value,r.value,e.name],([d,s,h],[m,p,u])=>{s&&(s.instances[h]=d,p&&p!==s&&d&&d===m&&(s.leaveGuards.size||(s.leaveGuards=p.leaveGuards),s.updateGuards.size||(s.updateGuards=p.updateGuards))),d&&s&&(!p||!it(s,p)||!m)&&(s.enterCallbacks[h]||[]).forEach(f=>f(d))},{flush:"post"}),()=>{const d=l.value,s=e.name,h=r.value,m=h&&h.components[s];if(!m)return Zn(t.default,{Component:m,route:d});const p=h.props[s],u=p?p===!0?d.params:typeof p=="function"?p(d):p:null,y=Dt(m,ce({},u,n,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(h.instances[s]=null)},ref:c}));return Zn(t.default,{Component:y,route:d})||y}}});function Zn(e,n){if(!e)return null;const t=e(n);return t.length===1?t[0]:t}const Cc=$c;function Sc(e){const n=pc(e.routes,e),t=e.parseQuery||yc,o=e.stringifyQuery||Jn,l=e.history,i=dt(),a=dt(),r=dt(),c=yo(qe);let d=qe;ot&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const s=Jt.bind(null,F=>""+F),h=Jt.bind(null,Mr),m=Jt.bind(null,bt);function p(F,U){let j,X;return Lo(F)?(j=n.getRecordMatcher(F),X=U):X=F,n.addRoute(X,j)}function u(F){const U=n.getRecordMatcher(F);U&&n.removeRoute(U)}function f(){return n.getRoutes().map(F=>F.record)}function y(F){return!!n.getRecordMatcher(F)}function E(F,U){if(U=ce({},U||c.value),typeof F=="string"){const oe=Gt(t,F,U.path),_e=n.resolve({path:oe.path},U),ut=l.createHref(oe.fullPath);return ce(oe,_e,{params:m(_e.params),hash:bt(oe.hash),redirectedFrom:void 0,href:ut})}let j;if(F.path!=null)j=ce({},F,{path:Gt(t,F.path,U.path).path});else{const oe=ce({},F.params);for(const _e in oe)oe[_e]==null&&delete oe[_e];j=ce({},F,{params:h(oe)}),U.params=h(U.params)}const X=n.resolve(j,U),pe=F.hash||"";X.params=s(m(X.params));const ve=jr(o,ce({},F,{hash:Rr(pe),path:X.path})),se=l.createHref(ve);return ce({fullPath:ve,hash:pe,query:o===Jn?vc(F.query):F.query||{}},X,{redirectedFrom:void 0,href:se})}function k(F){return typeof F=="string"?Gt(t,F,c.value.path):ce({},F)}function $(F,U){if(d!==F)return st(8,{from:U,to:F})}function M(F){return C(F)}function K(F){return M(ce(k(F),{replace:!0}))}function _(F){const U=F.matched[F.matched.length-1];if(U&&U.redirect){const{redirect:j}=U;let X=typeof j=="function"?j(F):j;return typeof X=="string"&&(X=X.includes("?")||X.includes("#")?X=k(X):{path:X},X.params={}),ce({query:F.query,hash:F.hash,params:X.path!=null?{}:F.params},X)}}function C(F,U){const j=d=E(F),X=c.value,pe=F.state,ve=F.force,se=F.replace===!0,oe=_(j);if(oe)return C(ce(k(oe),{state:typeof oe=="object"?ce({},pe,oe.state):pe,force:ve,replace:se}),U||j);const _e=j;_e.redirectedFrom=U;let ut;return!ve&&qr(o,X,j)&&(ut=st(16,{to:_e,from:X}),J(X,X,!0,!1)),(ut?Promise.resolve(ut):H(_e,X)).catch($e=>Ae($e)?Ae($e,2)?$e:q($e):B($e,_e,X)).then($e=>{if($e){if(Ae($e,2))return C(ce({replace:se},k($e.to),{state:typeof $e.to=="object"?ce({},pe,$e.to.state):pe,force:ve}),U||_e)}else $e=Y(_e,X,!0,se,pe);return Q(_e,X,$e),$e})}function T(F,U){const j=$(F,U);return j?Promise.reject(j):Promise.resolve()}function ie(F){const U=ye.values().next().value;return U&&typeof U.runWithContext=="function"?U.runWithContext(F):F()}function H(F,U){let j;const[X,pe,ve]=Dc(F,U);j=Kt(X.reverse(),"beforeRouteLeave",F,U);for(const oe of X)oe.leaveGuards.forEach(_e=>{j.push(ze(_e,F,U))});const se=T.bind(null,F,U);return j.push(se),Se(j).then(()=>{j=[];for(const oe of i.list())j.push(ze(oe,F,U));return j.push(se),Se(j)}).then(()=>{j=Kt(pe,"beforeRouteUpdate",F,U);for(const oe of pe)oe.updateGuards.forEach(_e=>{j.push(ze(_e,F,U))});return j.push(se),Se(j)}).then(()=>{j=[];for(const oe of ve)if(oe.beforeEnter)if(De(oe.beforeEnter))for(const _e of oe.beforeEnter)j.push(ze(_e,F,U));else j.push(ze(oe.beforeEnter,F,U));return j.push(se),Se(j)}).then(()=>(F.matched.forEach(oe=>oe.enterCallbacks={}),j=Kt(ve,"beforeRouteEnter",F,U,ie),j.push(se),Se(j))).then(()=>{j=[];for(const oe of a.list())j.push(ze(oe,F,U));return j.push(se),Se(j)}).catch(oe=>Ae(oe,8)?oe:Promise.reject(oe))}function Q(F,U,j){r.list().forEach(X=>ie(()=>X(F,U,j)))}function Y(F,U,j,X,pe){const ve=$(F,U);if(ve)return ve;const se=U===qe,oe=ot?history.state:{};j&&(X||se?l.replace(F.fullPath,ce({scroll:se&&oe&&oe.scroll},pe)):l.push(F.fullPath,pe)),c.value=F,J(F,U,j,se),q()}let Z;function L(){Z||(Z=l.listen((F,U,j)=>{if(!fe.listening)return;const X=E(F),pe=_(X);if(pe){C(ce(pe,{replace:!0}),X).catch(gt);return}d=X;const ve=c.value;ot&&Kr(Nn(ve.fullPath,j.delta),It()),H(X,ve).catch(se=>Ae(se,12)?se:Ae(se,2)?(C(se.to,X).then(oe=>{Ae(oe,20)&&!j.delta&&j.type===_t.pop&&l.go(-1,!1)}).catch(gt),Promise.reject()):(j.delta&&l.go(-j.delta,!1),B(se,X,ve))).then(se=>{se=se||Y(X,ve,!1),se&&(j.delta&&!Ae(se,8)?l.go(-j.delta,!1):j.type===_t.pop&&Ae(se,20)&&l.go(-1,!1)),Q(X,ve,se)}).catch(gt)}))}let V=dt(),W=dt(),D;function B(F,U,j){q(F);const X=W.list();return X.length?X.forEach(pe=>pe(F,U,j)):console.error(F),Promise.reject(F)}function P(){return D&&c.value!==qe?Promise.resolve():new Promise((F,U)=>{V.add([F,U])})}function q(F){return D||(D=!F,L(),V.list().forEach(([U,j])=>F?j(F):U()),V.reset()),F}function J(F,U,j,X){const{scrollBehavior:pe}=e;if(!ot||!pe)return Promise.resolve();const ve=!j&&Xr(Nn(F.fullPath,0))||(X||!j)&&history.state&&history.state.scroll||null;return Ft().then(()=>pe(F,U,ve)).then(se=>se&&Gr(se)).catch(se=>B(se,F,U))}const ge=F=>l.go(F);let N;const ye=new Set,fe={currentRoute:c,listening:!0,addRoute:p,removeRoute:u,hasRoute:y,getRoutes:f,resolve:E,options:e,push:M,replace:K,go:ge,back:()=>ge(-1),forward:()=>ge(1),beforeEach:i.add,beforeResolve:a.add,afterEach:r.add,onError:W.add,isReady:P,install(F){const U=this;F.component("RouterLink",kc),F.component("RouterView",Cc),F.config.globalProperties.$router=U,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>x(c)}),ot&&!N&&c.value===qe&&(N=!0,M(l.location).catch(pe=>{}));const j={};for(const pe in qe)Object.defineProperty(j,pe,{get:()=>c.value[pe],enumerable:!0});F.provide(Pt,U),F.provide(kn,ol(j)),F.provide(un,c);const X=F.unmount;ye.add(F),F.unmount=function(){ye.delete(F),ye.size<1&&(d=qe,Z&&Z(),Z=null,c.value=qe,N=!1,D=!1),X()}}};function Se(F){return F.reduce((U,j)=>U.then(()=>ie(j)),Promise.resolve())}return fe}function Dc(e,n){const t=[],o=[],l=[],i=Math.max(n.matched.length,e.matched.length);for(let a=0;a<i;a++){const r=n.matched[a];r&&(e.matched.find(d=>it(d,r))?o.push(r):t.push(r));const c=e.matched[a];c&&(n.matched.find(d=>it(d,c))||l.push(c))}return[t,o,l]}function Tc(){return et(Pt)}function Po(){return et(kn)}var Ro={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(e,n){(function(t,o){e.exports=o()})(ll,function(){var t={};t.version="0.2.0";var o=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};t.configure=function(u){var f,y;for(f in u)y=u[f],y!==void 0&&u.hasOwnProperty(f)&&(o[f]=y);return this},t.status=null,t.set=function(u){var f=t.isStarted();u=l(u,o.minimum,1),t.status=u===1?null:u;var y=t.render(!f),E=y.querySelector(o.barSelector),k=o.speed,$=o.easing;return y.offsetWidth,r(function(M){o.positionUsing===""&&(o.positionUsing=t.getPositioningCSS()),c(E,a(u,k,$)),u===1?(c(y,{transition:"none",opacity:1}),y.offsetWidth,setTimeout(function(){c(y,{transition:"all "+k+"ms linear",opacity:0}),setTimeout(function(){t.remove(),M()},k)},k)):setTimeout(M,k)}),this},t.isStarted=function(){return typeof t.status=="number"},t.start=function(){t.status||t.set(0);var u=function(){setTimeout(function(){t.status&&(t.trickle(),u())},o.trickleSpeed)};return o.trickle&&u(),this},t.done=function(u){return!u&&!t.status?this:t.inc(.3+.5*Math.random()).set(1)},t.inc=function(u){var f=t.status;return f?(typeof u!="number"&&(u=(1-f)*l(Math.random()*f,.1,.95)),f=l(f+u,0,.994),t.set(f)):t.start()},t.trickle=function(){return t.inc(Math.random()*o.trickleRate)},function(){var u=0,f=0;t.promise=function(y){return!y||y.state()==="resolved"?this:(f===0&&t.start(),u++,f++,y.always(function(){f--,f===0?(u=0,t.done()):t.set((u-f)/u)}),this)}}(),t.render=function(u){if(t.isRendered())return document.getElementById("nprogress");s(document.documentElement,"nprogress-busy");var f=document.createElement("div");f.id="nprogress",f.innerHTML=o.template;var y=f.querySelector(o.barSelector),E=u?"-100":i(t.status||0),k=document.querySelector(o.parent),$;return c(y,{transition:"all 0 linear",transform:"translate3d("+E+"%,0,0)"}),o.showSpinner||($=f.querySelector(o.spinnerSelector),$&&p($)),k!=document.body&&s(k,"nprogress-custom-parent"),k.appendChild(f),f},t.remove=function(){h(document.documentElement,"nprogress-busy"),h(document.querySelector(o.parent),"nprogress-custom-parent");var u=document.getElementById("nprogress");u&&p(u)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var u=document.body.style,f="WebkitTransform"in u?"Webkit":"MozTransform"in u?"Moz":"msTransform"in u?"ms":"OTransform"in u?"O":"";return f+"Perspective"in u?"translate3d":f+"Transform"in u?"translate":"margin"};function l(u,f,y){return u<f?f:u>y?y:u}function i(u){return(-1+u)*100}function a(u,f,y){var E;return o.positionUsing==="translate3d"?E={transform:"translate3d("+i(u)+"%,0,0)"}:o.positionUsing==="translate"?E={transform:"translate("+i(u)+"%,0)"}:E={"margin-left":i(u)+"%"},E.transition="all "+f+"ms "+y,E}var r=function(){var u=[];function f(){var y=u.shift();y&&y(f)}return function(y){u.push(y),u.length==1&&f()}}(),c=function(){var u=["Webkit","O","Moz","ms"],f={};function y(M){return M.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(K,_){return _.toUpperCase()})}function E(M){var K=document.body.style;if(M in K)return M;for(var _=u.length,C=M.charAt(0).toUpperCase()+M.slice(1),T;_--;)if(T=u[_]+C,T in K)return T;return M}function k(M){return M=y(M),f[M]||(f[M]=E(M))}function $(M,K,_){K=k(K),M.style[K]=_}return function(M,K){var _=arguments,C,T;if(_.length==2)for(C in K)T=K[C],T!==void 0&&K.hasOwnProperty(C)&&$(M,C,T);else $(M,_[1],_[2])}}();function d(u,f){var y=typeof u=="string"?u:m(u);return y.indexOf(" "+f+" ")>=0}function s(u,f){var y=m(u),E=y+f;d(y,f)||(u.className=E.substring(1))}function h(u,f){var y=m(u),E;d(u,f)&&(E=y.replace(" "+f+" "," "),u.className=E.substring(1,E.length-1))}function m(u){return(" "+(u.className||"")+" ").replace(/\s+/gi," ")}function p(u){u&&u.parentNode&&u.parentNode.removeChild(u)}return t})})(Ro);var Fc=Ro.exports;const Xt=il(Fc),Lc={key:0,class:"separator"},Oc={key:1,href:"javascript:void(0)"},Ic={name:"BreadCrumb"},Pc=le({...Ic,setup(e){const n=Po(),t=ue([]);function o(){const l=n.matched.filter(i=>i.meta&&i.meta.title).map(i=>({path:i.path,meta:{...i.meta}}));t.value=l}return ke(()=>n.path,function(){n.path.startsWith("/redirect/")||o()}),o(),(l,i)=>{const a=S("router-link");return v(),I(Xe,{name:"breadcrumb",tag:"div",class:"layout-breadcrumb f-vertical"},{default:b(()=>[(v(!0),O(G,null,me(t.value,(r,c)=>(v(),O("span",{class:ne(["layout-breadcrumb-item",{last:c===t.value.length-1}]),key:r.path},[c>0?(v(),O("i",Lc,"/")):R("",!0),c===t.value.length-1?(v(),O("a",Oc,te(r.meta.title),1)):(v(),I(a,{key:2,to:r.path},{default:b(()=>[A(te(r.meta.title),1)]),_:2},1032,["to"]))],2))),128))]),_:1})}}}),Rc={name:"Scrollbar"},Bo=le({...Rc,props:{thumbColor:{type:String,default:"rgba(147, 147, 153, 0.45)"},thumbSize:{type:Number,default:8},maxHeight:{type:String},maxWidth:{type:String}},setup(e,{expose:n}){const t=e,o=ue(),l=ue(),i=ue(),a=ue(),r=he({x:{width:"",height:"",left:"",bottom:"",transform:"",borderRadius:"",backgroundColor:t.thumbColor},y:{width:"",height:"",top:"",right:"",transform:"",borderRadius:"",backgroundColor:t.thumbColor}}),c=ue(!1);function d(){const _=o.value.parentElement;_.style.overflow="hidden"}function s(){r.y.right=r.y.top="0px",r.y.width=t.thumbSize+"px",r.x.bottom=r.x.left="0px",r.x.height=t.thumbSize+"px",r.x.borderRadius=r.y.borderRadius=`${t.thumbSize/2}px`}function h(){const _=l.value;if(_){let C=_.clientHeight/_.scrollHeight*100;C>=100&&(C=0),r.y.height=C+"%",r.y.transform=`translate3d(0, ${_.scrollTop/_.scrollHeight*_.clientHeight}px, 0)`;let T=_.clientWidth/_.scrollWidth*100;T>=100&&(T=0),r.x.width=T+"%",r.x.transform=`translate3d(${_.scrollLeft/_.scrollWidth*_.clientWidth}px, 0, 0)`}}let m=!1,p=!1,u=0;function f(_){const C=i.value,T=a.value,ie=_.target;C.contains(ie)&&(m=!0,p=!1,u=_.clientX-C.getBoundingClientRect().left),T.contains(ie)&&(m=!0,p=!0,u=_.clientY-T.getBoundingClientRect().top)}function y(_){if(!m)return;const C=l.value;if(p){const T=C.getBoundingClientRect().top,ie=C.clientHeight;let H=_.clientY-T;C.scrollTop=(H-u)/ie*C.scrollHeight}else{const T=C.getBoundingClientRect().left,ie=C.clientWidth;let H=_.clientX-T;C.scrollLeft=(H-u)/ie*C.scrollWidth}}function E(_){m=!1,o.value.contains(_.target)||(c.value=!1)}function k(){c.value=!0,h()}function $(){m||(c.value=!1)}let M;const K=ue();return je(function(){d(),s(),document.addEventListener("mousedown",f),document.addEventListener("mousemove",y),document.addEventListener("mouseup",E),M=new ResizeObserver(function(){h()}),K.value&&M.observe(K.value)}),tt(function(){document.removeEventListener("mousedown",f),document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",E),M.disconnect()}),n({updateThumbStyle:h}),(_,C)=>(v(),O("div",{class:"the-scrollbar",ref_key:"el",ref:o,onMouseenter:C[1]||(C[1]=T=>k()),onMouseleave:C[2]||(C[2]=T=>$())},[w("div",{ref_key:"wrap",ref:l,class:"the-scrollbar-wrap",style:xe({"max-height":e.maxHeight,"max-width":e.maxWidth}),onScroll:C[0]||(C[0]=T=>h())},[w("div",{ref_key:"view",ref:K},[Re(_.$slots,"default")],512)],36),g(Je,{name:"fade"},{default:b(()=>[Ve(w("div",{class:"the-scrollbar-thumb",ref_key:"thumbY",ref:a,title:"滚动条-摁住拖拽Y轴",style:xe(r.y)},null,4),[[Ge,c.value]])]),_:1}),g(Je,{name:"fade"},{default:b(()=>[Ve(w("div",{class:"the-scrollbar-thumb",ref_key:"thumbX",ref:i,title:"滚动条-摁住拖拽X轴",style:xe(r.x)},null,4),[[Ge,c.value]])]),_:1})],544))}});function Rt(){const e=Po(),n=Tc();function t(i){return JSON.stringify(i||{})}function o(i){return i.path===e.path&&t(i.query)===t(e.query)&&t(i.params)===t(e.params)}function l(i){if(o(i))return!0;if(i.children&&i.children.length)for(let a=0;a<i.children.length;a++){const r=i.children[a];if(l(r))return!0}return!1}return{route:e,router:n,isActive:o,hasActive:l}}let eo=0;function Bc(){return eo++,`menu-${eo}`}function Ac(e=300){const n=`${e}ms height`;function t(c){c.style.transition=n,c.style.height="0px"}function o(c){c.scrollHeight!==0?c.style.height=`${c.scrollHeight}px`:c.style.height="",c.style.overflow="hidden"}function l(c){c.style.transition=c.style.height=""}function i(c){c.style.display="block",c.style.height=`${c.scrollHeight}px`,c.style.overflow="hidden"}function a(c){c.scrollHeight!==0&&(c.style.transition=n,c.style.height="0px")}function r(c){c.style.transition=c.style.height=""}return{onBeforeEnter:t,onEnter:o,onAfterEnter:l,onBeforeLeave:i,onLeave:a,onAfterLeave:r}}const Mc={class:"the-layout-tag-box"},Vc={class:"the-layout-tags"},Nc=["onClick"],jc=["onClick"],qc={name:"TagList"},zc=le({...qc,setup(e){const n=de.layout.info,{route:t,router:o,isActive:l}=Rt();function i(h){if(l(n.tagList[h])){const m=h>0?h-1:h+1,p=n.tagList[m];o.push({path:p.path,query:p.query,params:p.params})}n.tagList.splice(h,1)}ke(()=>t.path,function(){n.tagList.some(m=>l(m))||n.tagList.push({name:t.name,path:t.path,query:t.query,params:t.params,meta:t.meta})},{immediate:!0});const a=he({show:!1,left:""}),r={list:[{label:"关闭其他",id:1,click(){a.show=!1;const h=r.current;l(h)?n.tagList=[h]:o.push(h.path).then(()=>{n.tagList=[h]})},show:()=>n.tagList.length>1},{label:"在新标签打开",id:2,click(){a.show=!1;const h=location.href.split("#");window.open(`${h[0]}#${r.current.path}`,"_blank")}},{label:"复制当前信息",id:3,click(){a.show=!1;const h=r.current;gn(JSON.stringify(h,null,4),()=>Be.success("复制成功！"))}}],current:void 0},c=ue();function d(h,m){a.show=!0,r.current=m,Ft(()=>{let p=h.x;const u=parseFloat(getComputedStyle(c.value).width),f=document.body.clientWidth-u;p>f&&(p=f),a.left=`${p}px`})}function s(h){const m=h.target;a.show&&!c.value.contains(m)&&(a.show=!1)}return je(function(){document.addEventListener("click",s)}),tt(function(){document.removeEventListener("click",s)}),(h,m)=>{const p=S("router-link");return v(),O(G,null,[w("div",Mc,[g(x(Bo),null,{default:b(()=>[w("div",Vc,[(v(!0),O(G,null,me(x(n).tagList,(u,f)=>(v(),I(p,{class:ne(["the-layout-tag",{"is-active":x(l)(u)}]),key:u.path+f,to:{path:u.path,query:u.query,params:u.params},onContextmenu:Cn(y=>d(y,u),["prevent"])},{default:b(()=>[w("span",null,te(u.meta.title),1),w("i",{class:"close",onClick:Cn(y=>i(f),["prevent","stop"])},"-",8,Nc)]),_:2},1032,["class","to","onContextmenu"]))),128))])]),_:1})]),Ve(w("div",{ref_key:"tagMenuRef",ref:c,class:"the-layout-tag-menu",style:xe({left:a.left})},[(v(!0),O(G,null,me(r.list,u=>Ve((v(),O("div",{key:u.id,class:"the-layout-tag-menu-item",onClick:f=>u.click()},te(u.label),9,jc)),[[Ge,u.show?u.show():!0]])),128))],4),[[Ge,a.show]])],64)}}}),Ao=/^[a-z0-9]+(-[a-z0-9]+)*$/,Bt=(e,n,t,o="")=>{const l=e.split(":");if(e.slice(0,1)==="@"){if(l.length<2||l.length>3)return null;o=l.shift().slice(1)}if(l.length>3||!l.length)return null;if(l.length>1){const r=l.pop(),c=l.pop(),d={provider:l.length>0?l[0]:o,prefix:c,name:r};return n&&!xt(d)?null:d}const i=l[0],a=i.split("-");if(a.length>1){const r={provider:o,prefix:a.shift(),name:a.join("-")};return n&&!xt(r)?null:r}if(t&&o===""){const r={provider:o,prefix:"",name:i};return n&&!xt(r,t)?null:r}return null},xt=(e,n)=>e?!!((n&&e.prefix===""||e.prefix)&&e.name):!1,Mo=Object.freeze({left:0,top:0,width:16,height:16}),Tt=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),At=Object.freeze({...Mo,...Tt}),dn=Object.freeze({...At,body:"",hidden:!1});function Uc(e,n){const t={};!e.hFlip!=!n.hFlip&&(t.hFlip=!0),!e.vFlip!=!n.vFlip&&(t.vFlip=!0);const o=((e.rotate||0)+(n.rotate||0))%4;return o&&(t.rotate=o),t}function to(e,n){const t=Uc(e,n);for(const o in dn)o in Tt?o in e&&!(o in t)&&(t[o]=Tt[o]):o in n?t[o]=n[o]:o in e&&(t[o]=e[o]);return t}function Wc(e,n){const t=e.icons,o=e.aliases||Object.create(null),l=Object.create(null);function i(a){if(t[a])return l[a]=[];if(!(a in l)){l[a]=null;const r=o[a]&&o[a].parent,c=r&&i(r);c&&(l[a]=[r].concat(c))}return l[a]}return Object.keys(t).concat(Object.keys(o)).forEach(i),l}function Hc(e,n,t){const o=e.icons,l=e.aliases||Object.create(null);let i={};function a(r){i=to(o[r]||l[r],i)}return a(n),t.forEach(a),to(e,i)}function Vo(e,n){const t=[];if(typeof e!="object"||typeof e.icons!="object")return t;e.not_found instanceof Array&&e.not_found.forEach(l=>{n(l,null),t.push(l)});const o=Wc(e);for(const l in o){const i=o[l];i&&(n(l,Hc(e,l,i)),t.push(l))}return t}const Yc={provider:"",aliases:{},not_found:{},...Mo};function Qt(e,n){for(const t in n)if(t in e&&typeof e[t]!=typeof n[t])return!1;return!0}function No(e){if(typeof e!="object"||e===null)return null;const n=e;if(typeof n.prefix!="string"||!e.icons||typeof e.icons!="object"||!Qt(e,Yc))return null;const t=n.icons;for(const l in t){const i=t[l];if(!l||typeof i.body!="string"||!Qt(i,dn))return null}const o=n.aliases||Object.create(null);for(const l in o){const i=o[l],a=i.parent;if(!l||typeof a!="string"||!t[a]&&!o[a]||!Qt(i,dn))return null}return n}const no=Object.create(null);function Jc(e,n){return{provider:e,prefix:n,icons:Object.create(null),missing:new Set}}function at(e,n){const t=no[e]||(no[e]=Object.create(null));return t[n]||(t[n]=Jc(e,n))}function jo(e,n){return No(n)?Vo(n,(t,o)=>{o?e.icons[t]=o:e.missing.add(t)}):[]}function Gc(e,n,t){try{if(typeof t.body=="string")return e.icons[n]={...t},!0}catch{}return!1}let wt=!1;function qo(e){return typeof e=="boolean"&&(wt=e),wt}function Kc(e){const n=typeof e=="string"?Bt(e,!0,wt):e;if(n){const t=at(n.provider,n.prefix),o=n.name;return t.icons[o]||(t.missing.has(o)?null:void 0)}}function Xc(e,n){const t=Bt(e,!0,wt);if(!t)return!1;const o=at(t.provider,t.prefix);return n?Gc(o,t.name,n):(o.missing.add(t.name),!0)}function Qc(e,n){if(typeof e!="object")return!1;if(typeof n!="string"&&(n=e.provider||""),wt&&!n&&!e.prefix){let l=!1;return No(e)&&(e.prefix="",Vo(e,(i,a)=>{Xc(i,a)&&(l=!0)})),l}const t=e.prefix;if(!xt({prefix:t,name:"a"}))return!1;const o=at(n,t);return!!jo(o,e)}const zo=Object.freeze({width:null,height:null}),Uo=Object.freeze({...zo,...Tt}),Zc=/(-?[0-9.]*[0-9]+[0-9.]*)/g,eu=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function oo(e,n,t){if(n===1)return e;if(t=t||100,typeof e=="number")return Math.ceil(e*n*t)/t;if(typeof e!="string")return e;const o=e.split(Zc);if(o===null||!o.length)return e;const l=[];let i=o.shift(),a=eu.test(i);for(;;){if(a){const r=parseFloat(i);isNaN(r)?l.push(i):l.push(Math.ceil(r*n*t)/t)}else l.push(i);if(i=o.shift(),i===void 0)return l.join("");a=!a}}function tu(e,n="defs"){let t="";const o=e.indexOf("<"+n);for(;o>=0;){const l=e.indexOf(">",o),i=e.indexOf("</"+n);if(l===-1||i===-1)break;const a=e.indexOf(">",i);if(a===-1)break;t+=e.slice(l+1,i).trim(),e=e.slice(0,o).trim()+e.slice(a+1)}return{defs:t,content:e}}function nu(e,n){return e?"<defs>"+e+"</defs>"+n:n}function ou(e,n,t){const o=tu(e);return nu(o.defs,n+o.content+t)}const lu=e=>e==="unset"||e==="undefined"||e==="none";function iu(e,n){const t={...At,...e},o={...Uo,...n},l={left:t.left,top:t.top,width:t.width,height:t.height};let i=t.body;[t,o].forEach(f=>{const y=[],E=f.hFlip,k=f.vFlip;let $=f.rotate;E?k?$+=2:(y.push("translate("+(l.width+l.left).toString()+" "+(0-l.top).toString()+")"),y.push("scale(-1 1)"),l.top=l.left=0):k&&(y.push("translate("+(0-l.left).toString()+" "+(l.height+l.top).toString()+")"),y.push("scale(1 -1)"),l.top=l.left=0);let M;switch($<0&&($-=Math.floor($/4)*4),$=$%4,$){case 1:M=l.height/2+l.top,y.unshift("rotate(90 "+M.toString()+" "+M.toString()+")");break;case 2:y.unshift("rotate(180 "+(l.width/2+l.left).toString()+" "+(l.height/2+l.top).toString()+")");break;case 3:M=l.width/2+l.left,y.unshift("rotate(-90 "+M.toString()+" "+M.toString()+")");break}$%2===1&&(l.left!==l.top&&(M=l.left,l.left=l.top,l.top=M),l.width!==l.height&&(M=l.width,l.width=l.height,l.height=M)),y.length&&(i=ou(i,'<g transform="'+y.join(" ")+'">',"</g>"))});const a=o.width,r=o.height,c=l.width,d=l.height;let s,h;a===null?(h=r===null?"1em":r==="auto"?d:r,s=oo(h,c/d)):(s=a==="auto"?c:a,h=r===null?oo(s,d/c):r==="auto"?d:r);const m={},p=(f,y)=>{lu(y)||(m[f]=y.toString())};p("width",s),p("height",h);const u=[l.left,l.top,c,d];return m.viewBox=u.join(" "),{attributes:m,viewBox:u,body:i}}const su=/\sid="(\S+)"/g,au="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let ru=0;function cu(e,n=au){const t=[];let o;for(;o=su.exec(e);)t.push(o[1]);if(!t.length)return e;const l="suffix"+(Math.random()*16777216|Date.now()).toString(16);return t.forEach(i=>{const a=typeof n=="function"?n(i):n+(ru++).toString(),r=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+r+')([")]|\\.[a-z])',"g"),"$1"+a+l+"$3")}),e=e.replace(new RegExp(l,"g"),""),e}const fn=Object.create(null);function uu(e,n){fn[e]=n}function pn(e){return fn[e]||fn[""]}function xn(e){let n;if(typeof e.resources=="string")n=[e.resources];else if(n=e.resources,!(n instanceof Array)||!n.length)return null;return{resources:n,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const En=Object.create(null),ft=["https://api.simplesvg.com","https://api.unisvg.com"],Et=[];for(;ft.length>0;)ft.length===1||Math.random()>.5?Et.push(ft.shift()):Et.push(ft.pop());En[""]=xn({resources:["https://api.iconify.design"].concat(Et)});function du(e,n){const t=xn(n);return t===null?!1:(En[e]=t,!0)}function $n(e){return En[e]}const fu=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let lo=fu();function pu(e,n){const t=$n(e);if(!t)return 0;let o;if(!t.maxURL)o=0;else{let l=0;t.resources.forEach(a=>{l=Math.max(l,a.length)});const i=n+".json?icons=";o=t.maxURL-l-t.path.length-i.length}return o}function mu(e){return e===404}const hu=(e,n,t)=>{const o=[],l=pu(e,n),i="icons";let a={type:i,provider:e,prefix:n,icons:[]},r=0;return t.forEach((c,d)=>{r+=c.length+1,r>=l&&d>0&&(o.push(a),a={type:i,provider:e,prefix:n,icons:[]},r=c.length),a.icons.push(c)}),o.push(a),o};function gu(e){if(typeof e=="string"){const n=$n(e);if(n)return n.path}return"/"}const yu=(e,n,t)=>{if(!lo){t("abort",424);return}let o=gu(n.provider);switch(n.type){case"icons":{const i=n.prefix,r=n.icons.join(","),c=new URLSearchParams({icons:r});o+=i+".json?"+c.toString();break}case"custom":{const i=n.uri;o+=i.slice(0,1)==="/"?i.slice(1):i;break}default:t("abort",400);return}let l=503;lo(e+o).then(i=>{const a=i.status;if(a!==200){setTimeout(()=>{t(mu(a)?"abort":"next",a)});return}return l=501,i.json()}).then(i=>{if(typeof i!="object"||i===null){setTimeout(()=>{i===404?t("abort",i):t("next",l)});return}setTimeout(()=>{t("success",i)})}).catch(()=>{t("next",l)})},vu={prepare:hu,send:yu};function bu(e){const n={loaded:[],missing:[],pending:[]},t=Object.create(null);e.sort((l,i)=>l.provider!==i.provider?l.provider.localeCompare(i.provider):l.prefix!==i.prefix?l.prefix.localeCompare(i.prefix):l.name.localeCompare(i.name));let o={provider:"",prefix:"",name:""};return e.forEach(l=>{if(o.name===l.name&&o.prefix===l.prefix&&o.provider===l.provider)return;o=l;const i=l.provider,a=l.prefix,r=l.name,c=t[i]||(t[i]=Object.create(null)),d=c[a]||(c[a]=at(i,a));let s;r in d.icons?s=n.loaded:a===""||d.missing.has(r)?s=n.missing:s=n.pending;const h={provider:i,prefix:a,name:r};s.push(h)}),n}function Wo(e,n){e.forEach(t=>{const o=t.loaderCallbacks;o&&(t.loaderCallbacks=o.filter(l=>l.id!==n))})}function _u(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const n=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!n.length)return;let t=!1;const o=e.provider,l=e.prefix;n.forEach(i=>{const a=i.icons,r=a.pending.length;a.pending=a.pending.filter(c=>{if(c.prefix!==l)return!0;const d=c.name;if(e.icons[d])a.loaded.push({provider:o,prefix:l,name:d});else if(e.missing.has(d))a.missing.push({provider:o,prefix:l,name:d});else return t=!0,!0;return!1}),a.pending.length!==r&&(t||Wo([e],i.id),i.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),i.abort))})}))}let wu=0;function ku(e,n,t){const o=wu++,l=Wo.bind(null,t,o);if(!n.pending.length)return l;const i={id:o,icons:n,callback:e,abort:l};return t.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(i)}),l}function xu(e,n=!0,t=!1){const o=[];return e.forEach(l=>{const i=typeof l=="string"?Bt(l,n,t):l;i&&o.push(i)}),o}var Eu={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function $u(e,n,t,o){const l=e.resources.length,i=e.random?Math.floor(Math.random()*l):e.index;let a;if(e.random){let _=e.resources.slice(0);for(a=[];_.length>1;){const C=Math.floor(Math.random()*_.length);a.push(_[C]),_=_.slice(0,C).concat(_.slice(C+1))}a=a.concat(_)}else a=e.resources.slice(i).concat(e.resources.slice(0,i));const r=Date.now();let c="pending",d=0,s,h=null,m=[],p=[];typeof o=="function"&&p.push(o);function u(){h&&(clearTimeout(h),h=null)}function f(){c==="pending"&&(c="aborted"),u(),m.forEach(_=>{_.status==="pending"&&(_.status="aborted")}),m=[]}function y(_,C){C&&(p=[]),typeof _=="function"&&p.push(_)}function E(){return{startTime:r,payload:n,status:c,queriesSent:d,queriesPending:m.length,subscribe:y,abort:f}}function k(){c="failed",p.forEach(_=>{_(void 0,s)})}function $(){m.forEach(_=>{_.status==="pending"&&(_.status="aborted")}),m=[]}function M(_,C,T){const ie=C!=="success";switch(m=m.filter(H=>H!==_),c){case"pending":break;case"failed":if(ie||!e.dataAfterTimeout)return;break;default:return}if(C==="abort"){s=T,k();return}if(ie){s=T,m.length||(a.length?K():k());return}if(u(),$(),!e.random){const H=e.resources.indexOf(_.resource);H!==-1&&H!==e.index&&(e.index=H)}c="completed",p.forEach(H=>{H(T)})}function K(){if(c!=="pending")return;u();const _=a.shift();if(_===void 0){if(m.length){h=setTimeout(()=>{u(),c==="pending"&&($(),k())},e.timeout);return}k();return}const C={status:"pending",resource:_,callback:(T,ie)=>{M(C,T,ie)}};m.push(C),d++,h=setTimeout(K,e.rotate),t(_,n,C.callback)}return setTimeout(K),E}function Ho(e){const n={...Eu,...e};let t=[];function o(){t=t.filter(r=>r().status==="pending")}function l(r,c,d){const s=$u(n,r,c,(h,m)=>{o(),d&&d(h,m)});return t.push(s),s}function i(r){return t.find(c=>r(c))||null}return{query:l,find:i,setIndex:r=>{n.index=r},getIndex:()=>n.index,cleanup:o}}function io(){}const Zt=Object.create(null);function Cu(e){if(!Zt[e]){const n=$n(e);if(!n)return;const t=Ho(n),o={config:n,redundancy:t};Zt[e]=o}return Zt[e]}function Su(e,n,t){let o,l;if(typeof e=="string"){const i=pn(e);if(!i)return t(void 0,424),io;l=i.send;const a=Cu(e);a&&(o=a.redundancy)}else{const i=xn(e);if(i){o=Ho(i);const a=e.resources?e.resources[0]:"",r=pn(a);r&&(l=r.send)}}return!o||!l?(t(void 0,424),io):o.query(n,l,t)().abort}function so(){}function Du(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,_u(e)}))}function Tu(e){const n=[],t=[];return e.forEach(o=>{(o.match(Ao)?n:t).push(o)}),{valid:n,invalid:t}}function pt(e,n,t){function o(){const l=e.pendingIcons;n.forEach(i=>{l&&l.delete(i),e.icons[i]||e.missing.add(i)})}if(t&&typeof t=="object")try{if(!jo(e,t).length){o();return}}catch(l){console.error(l)}o(),Du(e)}function ao(e,n){e instanceof Promise?e.then(t=>{n(t)}).catch(()=>{n(null)}):n(e)}function Fu(e,n){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(n).sort():e.iconsToLoad=n,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:t,prefix:o}=e,l=e.iconsToLoad;if(delete e.iconsToLoad,!l||!l.length)return;const i=e.loadIcon;if(e.loadIcons&&(l.length>1||!i)){ao(e.loadIcons(l,o,t),s=>{pt(e,l,s)});return}if(i){l.forEach(s=>{const h=i(s,o,t);ao(h,m=>{const p=m?{prefix:o,icons:{[s]:m}}:null;pt(e,[s],p)})});return}const{valid:a,invalid:r}=Tu(l);if(r.length&&pt(e,r,null),!a.length)return;const c=o.match(Ao)?pn(t):null;if(!c){pt(e,a,null);return}c.prepare(t,o,a).forEach(s=>{Su(t,s,h=>{pt(e,s.icons,h)})})}))}const Lu=(e,n)=>{const t=xu(e,!0,qo()),o=bu(t);if(!o.pending.length){let c=!0;return n&&setTimeout(()=>{c&&n(o.loaded,o.missing,o.pending,so)}),()=>{c=!1}}const l=Object.create(null),i=[];let a,r;return o.pending.forEach(c=>{const{provider:d,prefix:s}=c;if(s===r&&d===a)return;a=d,r=s,i.push(at(d,s));const h=l[d]||(l[d]=Object.create(null));h[s]||(h[s]=[])}),o.pending.forEach(c=>{const{provider:d,prefix:s,name:h}=c,m=at(d,s),p=m.pendingIcons||(m.pendingIcons=new Set);p.has(h)||(p.add(h),l[d][s].push(h))}),i.forEach(c=>{const d=l[c.provider][c.prefix];d.length&&Fu(c,d)}),n?ku(n,o,i):so};function Ou(e,n){const t={...e};for(const o in n){const l=n[o],i=typeof l;o in zo?(l===null||l&&(i==="string"||i==="number"))&&(t[o]=l):i===typeof t[o]&&(t[o]=o==="rotate"?l%4:l)}return t}const Iu=/[\s,]+/;function Pu(e,n){n.split(Iu).forEach(t=>{switch(t.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function Ru(e,n=0){const t=e.replace(/^-?[0-9.]*/,"");function o(l){for(;l<0;)l+=4;return l%4}if(t===""){const l=parseInt(e);return isNaN(l)?0:o(l)}else if(t!==e){let l=0;switch(t){case"%":l=25;break;case"deg":l=90}if(l){let i=parseFloat(e.slice(0,e.length-t.length));return isNaN(i)?0:(i=i/l,i%1===0?o(i):0)}}return n}function Bu(e,n){let t=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const o in n)t+=" "+o+'="'+n[o]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+t+">"+e+"</svg>"}function Au(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Mu(e){return"data:image/svg+xml,"+Au(e)}function Vu(e){return'url("'+Mu(e)+'")'}const ro={...Uo,inline:!1},Nu={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},ju={display:"inline-block"},mn={backgroundColor:"currentColor"},Yo={backgroundColor:"transparent"},co={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},uo={webkitMask:mn,mask:mn,background:Yo};for(const e in uo){const n=uo[e];for(const t in co)n[e+t]=co[t]}const $t={};["horizontal","vertical"].forEach(e=>{const n=e.slice(0,1)+"Flip";$t[e+"-flip"]=n,$t[e.slice(0,1)+"-flip"]=n,$t[e+"Flip"]=n});function fo(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const po=(e,n)=>{const t=Ou(ro,n),o={...Nu},l=n.mode||"svg",i={},a=n.style,r=typeof a=="object"&&!(a instanceof Array)?a:{};for(let f in n){const y=n[f];if(y!==void 0)switch(f){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":t[f]=y===!0||y==="true"||y===1;break;case"flip":typeof y=="string"&&Pu(t,y);break;case"color":i.color=y;break;case"rotate":typeof y=="string"?t[f]=Ru(y):typeof y=="number"&&(t[f]=y);break;case"ariaHidden":case"aria-hidden":y!==!0&&y!=="true"&&delete o["aria-hidden"];break;default:{const E=$t[f];E?(y===!0||y==="true"||y===1)&&(t[E]=!0):ro[f]===void 0&&(o[f]=y)}}}const c=iu(e,t),d=c.attributes;if(t.inline&&(i.verticalAlign="-0.125em"),l==="svg"){o.style={...i,...r},Object.assign(o,d);let f=0,y=n.id;return typeof y=="string"&&(y=y.replace(/-/g,"_")),o.innerHTML=cu(c.body,y?()=>y+"ID"+f++:"iconifyVue"),Dt("svg",o)}const{body:s,width:h,height:m}=e,p=l==="mask"||(l==="bg"?!1:s.indexOf("currentColor")!==-1),u=Bu(s,{...d,width:h+"",height:m+""});return o.style={...i,"--svg":Vu(u),width:fo(d.width),height:fo(d.height),...ju,...p?mn:Yo,...r},Dt("span",o)};qo(!0);uu("",vu);if(typeof document<"u"&&typeof window<"u"){const e=window;if(e.IconifyPreload!==void 0){const n=e.IconifyPreload,t="Invalid IconifyPreload syntax.";typeof n=="object"&&n!==null&&(n instanceof Array?n:[n]).forEach(o=>{try{(typeof o!="object"||o===null||o instanceof Array||typeof o.icons!="object"||typeof o.prefix!="string"||!Qc(o))&&console.error(t)}catch{console.error(t)}})}if(e.IconifyProviders!==void 0){const n=e.IconifyProviders;if(typeof n=="object"&&n!==null)for(let t in n){const o="IconifyProviders["+t+"] is invalid.";try{const l=n[t];if(typeof l!="object"||!l||l.resources===void 0)continue;du(t,l)||console.error(o)}catch{console.error(o)}}}}const qu={...At,body:""},zu=le((e,{emit:n})=>{const t=ue(null);function o(){var d,s;t.value&&((s=(d=t.value).abort)==null||s.call(d),t.value=null)}const l=ue(!!e.ssr),i=ue(""),a=yo(null);function r(){const d=e.icon;if(typeof d=="object"&&d!==null&&typeof d.body=="string")return i.value="",{data:d};let s;if(typeof d!="string"||(s=Bt(d,!1,!0))===null)return null;let h=Kc(s);if(!h){const u=t.value;return(!u||u.name!==d)&&(h===null?t.value={name:d}:t.value={name:d,abort:Lu([s],c)}),null}o(),i.value!==d&&(i.value=d,Ft(()=>{n("load",d)}));const m=e.customise;if(m){h=Object.assign({},h);const u=m(h.body,s.name,s.prefix,s.provider);typeof u=="string"&&(h.body=u)}const p=["iconify"];return s.prefix!==""&&p.push("iconify--"+s.prefix),s.provider!==""&&p.push("iconify--"+s.provider),{data:h,classes:p}}function c(){var s;const d=r();d?d.data!==((s=a.value)==null?void 0:s.data)&&(a.value=d):a.value=null}return l.value?c():je(()=>{l.value=!0,c()}),ke(()=>e.icon,c),tt(o),()=>{const d=a.value;if(!d)return po(qu,e);let s=e;return d.classes&&(s={...e,class:d.classes.join(" ")}),po({...At,...d.data},s)}},{props:["icon","mode","ssr","width","height","style","color","inline","rotate","hFlip","horizontalFlip","vFlip","verticalFlip","flip","id","ariaHidden","customise","title"],emits:["load"]}),Uu={name:"Icon"},Pe=le({...Uu,props:{name:{type:String,required:!0},size:{type:[String,Number],default:void 0},color:{type:String,default:void 0}},setup(e){const n=e,t=ee(()=>{const o=n.size;return{fontSize:typeof o=="number"?`${o}px`:o,color:n.color}});return(o,l)=>(v(),I(x(zu),{icon:n.name,style:xe(t.value),class:"the-icon"},null,8,["icon","style"]))}}),Wu={class:"the-layout-header"},Hu={class:"the-layout-navbar flex"},Yu={class:"user-info-box f-vertical"},Ju=["src"],Gu={class:"the-tag green mr-[10px]"},Ku=w("span",null,"退出登录",-1),Xu={name:"HeaderBar"},Qu=le({...Xu,setup(e){const n=de.layout.info,t=de.user.info,{router:o}=Rt();function l(){n.showSidebar=!n.showSidebar}const i="https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif";function a(){de.user.reset(),o.push("/login").then(()=>{n.tagList=[],Ud()})}return(r,c)=>(v(),O("div",Wu,[w("div",Hu,[w("div",{class:ne(["fvc menu-fold",{"menu-fold-actived":x(n).showSidebar}]),onClick:c[0]||(c[0]=d=>l())},[g(x(Pe),{name:"tdesign:menu-fold",size:"24px",color:"#555"})],2),g(Pc,{class:"f1"}),w("div",Yu,[w("img",{class:"avatar",src:x(t).avatar||i},null,8,Ju),w("span",Gu,te(x(t).name||x(t).account||"用户未设置昵称"),1),w("button",{class:"logout f-vertical",onClick:c[1]||(c[1]=d=>a())},[g(x(Pe),{name:"tdesign:logout",class:"mr-[4px]"}),Ku])])]),x(n).showTagList?(v(),I(zc,{key:0})):R("",!0)]))}}),Zu={class:"f1"},ed=w("i",{class:"the-layout-menu-arrow"},null,-1),td=["href"],nd={class:"f1"},od={class:"f1"},ld=["href"],id={name:"MenuItem"},sd=le({...id,props:{menu:{type:Object,required:!0},level:{type:Number,default:0}},setup(e){const n=e,{onBeforeEnter:t,onEnter:o,onAfterEnter:l,onBeforeLeave:i,onLeave:a,onAfterLeave:r}=Ac(),{isActive:c,hasActive:d}=Rt(),s=ee(function(){const f=c(n.menu);return{"the-layout-menu-title":!0,"is-current":d(n.menu)&&!f,"is-open":n.menu.isOpen,"is-active":f}}),h=ee(function(){return{"the-layout-menu-list":!0,"is-open":n.menu.isOpen}});function m(f){return{"the-layout-menu-link":!0,"is-active":c(f)}}function p(f){return!!(f.children&&f.children.length>0)}function u(){const f=n.menu;f.isOpen=!f.isOpen}return(f,y)=>{const E=S("router-link"),k=S("MenuItem",!0);return v(),O("section",{class:"the-layout-menu",style:xe({"--level":n.level})},[p(n.menu)?(v(),O("div",{key:0,class:ne(s.value),onClick:y[0]||(y[0]=$=>u())},[n.menu.icon?(v(),I(x(Pe),{key:0,name:n.menu.icon,class:"menu-icon"},null,8,["name"])):R("",!0),w("span",Zu,te(n.menu.title),1),ed],2)):(v(),O(G,{key:1},[n.menu.link?(v(),O("a",{key:0,href:n.menu.link,class:ne(s.value),target:"_blank"},[n.menu.icon?(v(),I(x(Pe),{key:0,name:n.menu.icon,class:"menu-icon"},null,8,["name"])):R("",!0),w("span",nd,te(n.menu.title),1)],10,td)):(v(),I(E,{key:1,to:n.menu.path,class:ne(s.value)},{default:b(()=>[n.menu.icon?(v(),I(x(Pe),{key:0,name:n.menu.icon,class:"menu-icon"},null,8,["name"])):R("",!0),w("span",od,te(n.menu.title),1)]),_:1},8,["to","class"]))],64)),p(n.menu)?(v(),I(Je,{key:2,onBeforeEnter:x(t),onEnter:x(o),onAfterEnter:x(l),onBeforeLeave:x(i),onLeave:x(a),onAfterLeave:x(r)},{default:b(()=>[Ve(w("div",{class:ne(h.value)},[(v(!0),O(G,null,me(n.menu.children,$=>(v(),O(G,{key:$.menuId},[p($)?(v(),I(k,{key:0,menu:$,level:n.level+1},null,8,["menu","level"])):(v(),O(G,{key:1},[$.link?(v(),O("a",{key:0,href:$.link,class:ne(m($)),target:"_blank"},[$.icon?(v(),I(x(Pe),{key:0,name:$.icon,class:"menu-icon"},null,8,["name"])):R("",!0),w("span",null,te($.title),1)],10,ld)):(v(),I(E,{key:1,to:$.path,class:ne(m($))},{default:b(()=>[$.icon?(v(),I(x(Pe),{key:0,name:$.icon,class:"menu-icon"},null,8,["name"])):R("",!0),w("span",null,te($.title),1)]),_:2},1032,["to","class"]))],64))],64))),128))],2),[[Ge,n.menu.isOpen]])]),_:1},8,["onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])):R("",!0)],4)}}}),ad={name:"Empty",props:{text:{type:String,default:"暂无数据"},size:{type:Number}}},rd="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20width='64'%20height='41'%20viewBox='0%200%2064%2041'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20transform='translate(0%201)'%20fill='none'%20fill-rule='evenodd'%3e%3cellipse%20fill='%23f5f5f5'%20cx='32'%20cy='33'%20rx='32'%20ry='7'%3e%3c/ellipse%3e%3cg%20fill-rule='nonzero'%20stroke='%23d9d9d9'%3e%3cpath%20d='M55%2012.76L44.854%201.258C44.367.474%2043.656%200%2042.907%200H21.093c-.749%200-1.46.474-1.947%201.257L9%2012.761V22h46v-9.24z'%3e%3c/path%3e%3cpath%20d='M41.613%2015.931c0-1.605.994-2.93%202.227-2.931H55v18.137C55%2033.26%2053.68%2035%2052.05%2035h-40.1C10.32%2035%209%2033.259%209%2031.137V13h11.16c1.233%200%202.227%201.323%202.227%202.928v.022c0%201.605%201.005%202.901%202.237%202.901h14.752c1.232%200%202.237-1.308%202.237-2.913v-.007z'%20fill='%23fafafa'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/svg%3e",cd={class:"empty"},ud={class:"text"};function dd(e,n,t,o,l,i){return v(),O("div",cd,[w("img",{class:"icon",style:xe({width:t.size?`${t.size}px`:void 0}),src:rd,alt:""},null,4),w("span",ud,te(t.text),1)])}const fd=_n(ad,[["render",dd],["__scopeId","data-v-a5ec6d3f"]]),pd={name:"Menu"},md=le({...pd,props:{mergeOnlyOneChild:{type:Number,default:0}},setup(e){const n=e,t=de.layout.info;function o(m){const p=[];for(let u=0;u<m.length;u++){const f=m[u];if(f.meta&&f.meta.hidden)continue;const y={menuId:Bc(),path:f.path,isOpen:!1,title:f.meta.title,icon:f.meta.icon,link:f.meta.link};f.children&&f.children.length&&(y.children=o(f.children)),p.push(y)}return p}function l(m,p=1){const u=[],f=p<n.mergeOnlyOneChild,y=p+1;for(let E=0;E<m.length;E++){const k=m[E],$=k.children;$&&$.length>0?$.length===1?(u.push($[0]),$[0].children&&$[0].children.length>0&&f&&($[0].children=l($[0].children,y))):(u.push(k),f&&(k.children=l($,y))):u.push(k)}return u}function i(m){const p=t.keyword;return m.filter(u=>u.children&&(u.children=i(u.children),u.children.length>0)?(u.isOpen=!0,!0):!!u.title.includes(p))}let a=o(de.layout.completeRouters);n.mergeOnlyOneChild&&(a=l(a));const r=ue(a),{route:c,isActive:d}=Rt();function s(m){const p=[];function u(f,y){for(let E=0;E<f.length;E++){const k=f[E];if(d(k))return p.push(...y),!0;if(k.children&&k.children.length&&u(k.children,[...y,k]))return!0}return!1}return u(m,[]),p}function h(){s(r.value).forEach(p=>{p.isOpen=!0})}return ke(()=>t.keyword,function(m){const p=JSON.parse(JSON.stringify(a));if(m){const u=i(p);r.value=u}else r.value=p,h()}),ke(()=>c.path,function(){h()},{immediate:!0}),(m,p)=>(v(),O(G,null,[(v(!0),O(G,null,me(r.value,(u,f)=>(v(),I(sd,{menu:u,key:u.menuId,style:xe(f?void 0:{"margin-top":"0"})},null,8,["menu","style"]))),128)),r.value.length?R("",!0):(v(),I(x(fd),{key:0,style:{height:"140px"},text:"没有匹配到任何菜单"}))],64))}}),hd={class:"the-layout-sidebar"},gd={class:"the-layout-sidebar-content"},yd={key:0,class:"the-logo-box"},vd=["src"],bd=["title"],_d={key:1,style:{height:"var(--page-padding)"}},wd={class:"the-layout-search-box"},kd={class:"f1"},xd={class:"the-layout-sidebar-content padding-full"},Ed={name:"Sidebar"},$d=le({...Ed,setup(e){const n=de.layout.info,t=de.projectInfo;function o(){n.keyword=""}return(l,i)=>{const a=S("router-link");return v(),O("div",hd,[w("section",gd,[g(Je,{name:"fade",mode:"out-in"},{default:b(()=>[x(n).showSidebarLogo?(v(),O("div",yd,[g(a,{class:"the-logo-link f-vertical",to:"/"},{default:b(()=>[w("img",{class:"the-logo",src:x(t).logo},null,8,vd),w("h1",{class:"the-logo-title ellipsis",title:x(t).title},te(x(t).title),9,bd)]),_:1})])):(v(),O("div",_d))]),_:1}),w("div",wd,[Ve(w("input",{"onUpdate:modelValue":i[0]||(i[0]=r=>x(n).keyword=r),type:"text",placeholder:"请输入关键字检索菜单"},null,512),[[sl,x(n).keyword]]),x(n).keyword?(v(),I(x(Pe),{key:0,class:"the-layout-search-icon",name:"tdesign:close-circle",onClick:i[1]||(i[1]=r=>o())})):(v(),I(x(Pe),{key:1,class:"the-layout-search-icon",name:"tdesign:search"}))])]),w("section",kd,[g(x(Bo),null,{default:b(()=>[w("div",xd,[g(md,{mergeOnlyOneChild:1})])]),_:1})])])}}}),Cd={name:"Layout"},en=le({...Cd,setup(e){const n=de.layout.info;function t(d){let s=[];for(let h=0;h<d.length;h++){const m=d[h],p=m.children;p&&p.length>0&&(s=s.concat(t(p))),m.meta.keepAlive&&m.name&&s.push(m.name)}return s.filter(h=>h)}const o=t(de.layout.completeRouters),l=ue(),i=ue(!1);let a;function r(){a.scrollTo({top:0,left:0,behavior:"smooth"})}function c(){i.value=a.scrollTop>document.documentElement.clientHeight}return je(function(){a=l.value,a.addEventListener("scroll",c),c()}),(d,s)=>{const h=S("router-view");return v(),O("div",{class:ne(["the-layout",x(n).layoutMode,{"has-tag-list":x(n).showTagList},{"collapsed-sidebar":!x(n).showSidebar}])},[g(Qu),g($d),w("div",{class:"the-layout-content",ref_key:"contentBox",ref:l},[g(h,{class:"the-layout-page"},{default:b(({Component:m,route:p})=>[g(Je,{name:"page-y",mode:"out-in"},{default:b(()=>[(v(),I(al,{include:x(o)},[(v(),I(ho(m),{key:p.fullPath}))],1032,["include"]))]),_:2},1024)]),_:1})],512),w("button",{class:ne(["the-layout-to-top fvc",{hidden:!i.value}]),title:"返回顶部",onClick:s[0]||(s[0]=m=>r())},[g(x(Pe),{name:"tdesign:align-top",size:20})],2)],2)}}}),Sd={name:"page-404",data(){return{project:de.projectInfo}}},Mt=e=>(cl("data-v-9091b7be"),e=e(),ul(),e),Dd={class:"page-404 fvc"},Td=rl('<div class="from-top-box f-vertical" data-v-9091b7be><div class="mr-[30px]" data-v-9091b7be><div class="point-icon mb-[50px]" data-v-9091b7be></div><div class="point-icon" data-v-9091b7be></div></div><div class="radius-icon" data-v-9091b7be></div><div class="code-value" data-v-9091b7be>404</div></div>',1),Fd={class:"from-right-box mb-[40px]"},Ld=Mt(()=>w("p",{class:"text"},"你访问的页面不存在，请确认页面路径是否正确。",-1)),Od=Mt(()=>w("p",{class:"text"},"我们只收集某些错误信息，然后需要你重新点击返回首页或返回上一页。",-1)),Id={class:"pt-[40px]"},Pd={class:"from-bottom-box flex"},Rd=Mt(()=>w("img",{class:"qrcode-box",src:"https://travis-hjs.github.io/images/reward-code.jpg",alt:"谢谢打赏！"},null,-1)),Bd={class:"pt-[20px]"},Ad=Mt(()=>w("p",{class:"desc"},"如需技术支持，请扫码联系作者。",-1)),Md={class:"desc"},Vd={class:"desc"};function Nd(e,n,t,o,l,i){const a=S("router-link");return v(),O("div",Dd,[w("section",null,[Td,w("div",Fd,[Ld,Od,w("div",Id,[g(a,{class:"go-back fvc",to:"/"},{default:b(()=>[A("返回首页")]),_:1})])]),w("div",Pd,[Rd,w("div",Bd,[Ad,w("p",Md,"邮箱地址："+te(l.project.email),1),w("p",Vd,"项目地址："+te(l.project.link),1)])])])])}const Ct=_n(Sd,[["render",Nd],["__scopeId","data-v-9091b7be"]]),jd=[{path:"/",name:"index",redirect:"/home",component:en,meta:{title:"首页",icon:"tdesign:home"},children:[{path:"/home",meta:{title:"首页展示",icon:"tdesign:bookmark-double"},component:()=>be(()=>import("./home-DS8w9Lr4.js"),__vite__mapDeps([0,1,2]),import.meta.url)},{path:"/nested",name:"nested",redirect:"/nested/menu-1",meta:{title:"多级菜单嵌套",icon:"tdesign:tree-square-dot"},component:()=>be(()=>import("./nested-CTzLIfze.js"),__vite__mapDeps([3,1,4]),import.meta.url),children:[{path:"/nested/menu-1",name:"nested/menu-1",meta:{title:"el-plus 表格"},component:()=>be(()=>import("./menu-1-DlMFyE1u.js"),__vite__mapDeps([5,6,1,7,8,9]),import.meta.url)},{path:"/nested/menu-2",name:"nested/menu-2",meta:{title:"el-plus 表单验证"},component:()=>be(()=>import("./menu-2-fLF1PGjZ.js"),__vite__mapDeps([10,1,11]),import.meta.url)},{path:"/nested/three-level",name:"nested/three-level",meta:{title:"三级菜单"},redirect:"/nested/three-level/menu-1",component:()=>be(()=>import("./nested-CTzLIfze.js"),__vite__mapDeps([3,1,4]),import.meta.url),children:[{path:"/nested/three-level/menu-1",name:"/nested/three-level/menu-1",meta:{title:"菜单 3-1"},component:()=>be(()=>import("./menu-1-DlMFyE1u.js"),__vite__mapDeps([5,6,1,7,8,9]),import.meta.url)},{path:"/nested/three-level/menu-2",name:"/nested/three-level/menu-2",meta:{title:"菜单 3-2"},component:()=>be(()=>import("./menu-2-fLF1PGjZ.js"),__vite__mapDeps([10,1,11]),import.meta.url)}]},{path:"/nested/four-level",name:"nested/four-level",meta:{title:"三级菜单-2"},redirect:"/nested/four-level/menu-1",component:()=>be(()=>import("./nested-CTzLIfze.js"),__vite__mapDeps([3,1,4]),import.meta.url),children:[{path:"/nested/four-level/menu-1",name:"/nested/four-level/menu-1",meta:{title:"菜单 3-2-1"},component:()=>be(()=>import("./menu-1-DlMFyE1u.js"),__vite__mapDeps([5,6,1,7,8,9]),import.meta.url)}]},{path:"/nested/menu-3",name:"nested/menu-3",meta:{title:"菜单 2-3"},component:()=>be(()=>import("./menu-3-QqxpjCxR.js"),__vite__mapDeps([12,1,13]),import.meta.url)}]},{path:"/link-baidu",name:"link-baidu",component:Ct,meta:{title:"百度一下",icon:"tdesign:system-search-filled",link:"https://www.baidu.com"}},{path:"/menu-4",name:"menu-4",meta:{title:"换行菜单标题换行菜单标题",icon:"tdesign:component-layout"},component:()=>be(()=>import("./menu-4-Dtpuo_U0.js"),__vite__mapDeps([14,1,15]),import.meta.url)}]},{path:"/example",name:"example",component:en,meta:{title:"示例页栏目",icon:"tdesign:play-demo"},redirect:"/example/request",children:[{path:"/example/request",name:"example-request",meta:{title:"http-请求示例",keepAlive:!0},component:()=>be(()=>import("./request-CdIMnGYM.js"),__vite__mapDeps([16,1,17]),import.meta.url)},{path:"/example/components",name:"example-components",meta:{title:"自定义组件"},component:()=>be(()=>import("./the-components-PZ1O4m-k.js"),__vite__mapDeps([18,1,19]),import.meta.url)},{path:"/example/tsx",name:"example-tsx",meta:{title:"tsx-示例"},component:()=>be(()=>import("./example-hU75-o1d.js"),__vite__mapDeps([7,1,8]),import.meta.url)},{path:"/example/no-found",name:"no-found",meta:{title:"404 页面",link:`${location.origin+location.pathname}#/is-error-path`},component:Ct},{path:"/example/curd",name:"example-curd",meta:{title:"curd 低代码"},component:()=>be(()=>import("./curd-page-ClSh5mjD.js"),__vite__mapDeps([20,21,1,6]),import.meta.url)},{path:"/example/curd-config",name:"example-curd-config",meta:{title:"curd 低代码配置"},component:()=>be(()=>import("./curd-config-DgStjn3d.js"),__vite__mapDeps([22,21,1,6]),import.meta.url)},{path:"/example/table-page",name:"example-table-page",meta:{title:"通用表格页"},component:()=>be(()=>import("./table-page-CsHWeAKq.js"),__vite__mapDeps([23,1,6]),import.meta.url)}]},{path:"/"+de.projectInfo.link,name:"GitHub-Travis",component:Ct,meta:{title:"项目地址",icon:"tdesign:logo-github-filled",link:de.projectInfo.link,auth:[0]}},{path:"/menu",name:"menu",meta:{title:"菜单管理"},component:en,redirect:"/menu/list",children:[{path:"/menu/list",name:"menu-list",component:()=>be(()=>import("./index-Cx8-sQcv.js"),__vite__mapDeps([24,1,25]),import.meta.url),meta:{title:"菜单管理",icon:"tdesign:app"}}]}],rt={path:"/",query:{}},hn="redirect404";let Oe;function Jo(e){const n=[],t=de.user.info.type;for(let o=0;o<e.length;o++){const l=e[o],i=l.meta?l.meta.auth:void 0;(!i||i&&i.includes(t))&&(l.children&&l.children.length>0&&(l.children=Jo(l.children)),n.push(l))}return n}async function qd(){return Jo(jd)}function zd(e,n){Oe=e,Oe.beforeEach(async function(t,o,l){if(Xt.start(),de.user.info.token)if(de.layout.addRouters.length>0)l();else{de.layout.addRouters=await qd();for(let i=0;i<de.layout.addRouters.length;i++){const a=de.layout.addRouters[i];Oe.addRoute(a)}Oe.hasRoute(hn)||Oe.addRoute({...n[1],path:"/:catchAll(.*)",name:hn}),de.layout.completeRouters=n.concat(de.layout.addRouters),l({...t,replace:!0})}else t.path==="/login"?l():(rt.path=t.path,rt.query=t.query,l({path:"/login"}),Xt.done())}),Oe.afterEach(t=>{Xt.done(),t.meta&&t.meta.title&&(document.title=t.meta.title)})}function pf(){Oe.replace({path:rt.path,query:rt.query})}function Ud(){const e=de.layout.addRouters;for(let n=e.length-1;n>-1;n--){const t=e[n];t.name&&Oe.hasRoute(t.name)&&Oe.removeRoute(t.name)}rt.path="/",rt.query={},Oe.removeRoute(hn),de.layout.addRouters=de.layout.completeRouters=[]}const Go=[{path:"/login",name:"login",component:()=>be(()=>import("./login-CR-HeRR-.js"),__vite__mapDeps([26,1,27]),import.meta.url),meta:{hidden:!0,title:"请登录"}},{path:"/404",name:"page-404",component:Ct,meta:{hidden:!0,title:"不存在该页面"}},{path:"/401",name:"page-401",component:()=>be(()=>import("./page-401-Bmgqwie8.js"),__vite__mapDeps([28,1,29]),import.meta.url),meta:{hidden:!0,title:"暂无权限访问"}}],Ko=Sc({history:nc(),routes:Go});zd(Ko,Go);function Wd(e){e.directive("copy",{mounted(t,o){t.addEventListener("click",function(){gn(o.value,()=>Be.success("复制成功"),l=>Be.success(l))})}}),e.directive("ripple",{mounted(t){const o=ti()?"touchstart":"mousedown";t.setAttribute("ripple",""),t.addEventListener(o,function(l){gr(l,t)})}}),e.component("base-dialog",kr),[dl,fl,pl,ml,hl,gl,go,yl,vl,bl,_l,wl,kl,xl,El,$l,Cl,Sl,Dl,Tl,Fl,Ll,Ol,Il,Pl,Rl,Bl,Al,Ml,Vl,Nl,jl,ql,zl,Ul,Wl,Hl,Yl,Jl].forEach(t=>{e.use(t)}),e.directive("loading",Gl),e.use(Ko)}const Xo=Kl(hr);Wd(Xo);Xo.mount("#app");export{fs as $,Bo as A,Po as B,Fe as C,on as D,We as E,nn as F,df as G,uf as H,Qe as I,ff as J,Ni as K,zt as L,of as M,ae as N,vt as O,is as P,Ot as Q,Kd as R,Vi as S,Xd as T,lf as U,ts as V,os as W,zi as X,Lt as Y,sf as Z,_n as _,Be as a,Zd as a0,Qd as a1,ms as a2,Jd as a3,yi as a4,Mi as a5,nf as a6,ki as a7,Di as a8,Gd as a9,lt as aa,re as ab,Pe as ac,tf as ad,Ze as b,gn as c,kr as d,ef as e,Ye as f,we as g,ni as h,Sn as i,yn as j,gi as k,cf as l,He as m,tn as n,pf as o,Ke as p,kt as q,Wd as r,de as s,Ee as t,Ac as u,ko as v,Ue as w,rf as x,pi as y,af as z};
