import{k as g,n as w,l as y,f as d}from"./index-CEK233na.js";import{I as Y,a as D,L as x}from"./element-plus-x0cfZ0jw.js";const b="the-curd-state",F=()=>Y(b),S="action-right",I="action-edit",k={input:"输入框",textarea:"文本域","input-between":"输入框-串联",select:"下拉框-单选","select-multiple":"下拉框-多选",checkbox:"多选复选框",radio:"单选选择框",switch:"开关切换",date:"日期选择器",cascader:"级联选择器"};let m=0;function h(){return m++,m}function L(e){if(e.type=="date"){const t=e.shortcutIndex,a="the-date-shortcut-selected",n=document.querySelector(`.${a}`);if(n&&n.classList.remove(a),g(t,"number"))if(t===-1)e.value=e.shortcutDate;else{const s=T[e.dateType][t].value();e.value=s;const l=`.${e.id} .el-picker-panel__sidebar`,o=document.querySelector(l);o&&x(()=>o.children[t].classList.add(a))}else e.value=["daterange","datetimerange"].includes(e.dateType)?[]:""}else["object","array"].includes(w(e.defaultValue))?e.value=y(e.defaultValue):e.value=e.defaultValue}function j(e,t="",a){const n=h(),s=Date.now(),l="请输入",o="请选择",u=`field-${e}-${n}-${s}`,i={input:{key:t,id:u,type:"input",value:"",defaultValue:"",placeholder:l,valueType:"string"},textarea:{id:u,value:"",defaultValue:"",type:"textarea",placeholder:l,key:t,valueType:"string"},"input-between":{key:t,id:u,value:["",""],defaultValue:["",""],type:"input-between",placeholder:["请输入范围一","请输入范围二"],separator:"-",valueType:"array"},select:{key:t,id:u,value:"",defaultValue:"",type:"select",placeholder:o,options:[],optionSetting:{label:"",value:""},valueType:"string",joinShow:!1},"select-multiple":{key:t,id:u,value:[],defaultValue:[],type:"select-multiple",placeholder:o,options:[],optionSetting:{label:"",value:""},valueType:"array",joinShow:!1},checkbox:{key:t,id:u,value:[],defaultValue:[],type:"checkbox",placeholder:o,options:[],optionSetting:{label:"",value:""},valueType:"array"},radio:{key:t,id:u,value:"",defaultValue:"",type:"radio",placeholder:o,options:[],optionSetting:{label:"",value:""},valueType:"string"},switch:{key:t,id:u,value:!1,defaultValue:!1,type:"switch",placeholder:"",valueType:"boolean"},date:{key:t,id:u,value:"",type:"date",placeholder:o,dateType:"date",formatShow:"YYYY-MM-DD",format:"Y-M-D",valueType:"string",shortcutIndex:""},cascader:{key:t,id:u,value:[],defaultValue:[],type:"cascader",placeholder:o,options:[],optionSetting:{label:"",value:"",children:""},multiple:!1,checkStrictly:!1,valueType:"array"}}[e];return i.label="",i.required=!1,i}function N(e,t){return{title:t,prop:e,width:void 0,minWidth:void 0,tooltip:e!==S,cellType:"text",sort:!1,fixed:!1,iconTips:"",imageWidth:void 0,imageHeight:void 0,jsCode:"",visible:!0}}function C(){return{width:500,labelWidth:120,labelPosition:"left",fields:[]}}function H(){return{key:`action-${h()}-${Date.now()}`,text:"",icon:"",click:"",type:"primary"}}function O(e){const t={value:e.value,result:!0};if(e.type==="date"){if(!t.value)return t.result=e.placeholder,t;if(["datetimerange","daterange"].includes(e.dateType)){const l=e.value;return l.length<2?(t.result=e.placeholder,t):(t.value=l.map(o=>d(o,e.format)),t)}return t.value=d(e.value,e.format),t}const a=[null,void 0,""];if(e.type==="input-between"){const l=e.value;if(a.includes(l[0]))return t.result=e.placeholder[0],t;if(a.includes(l[1]))return t.result=e.placeholder[1],t;t.value=JSON.parse(JSON.stringify(l))}if(["input","textarea","radio","select"].includes(e.type)&&a.includes(e.value))return t.result=e.placeholder,t;if(["checkbox","select-multiple"].includes(e.type)){const l=e.value;if(!l.length)return t.result=e.placeholder,t;t.value=JSON.parse(JSON.stringify(l))}return t}function P(e){if(e)return e=parseInt(e.toString()),e=Math.abs(e),`${e}px`}const W=[{label:"选择年份",value:"year",formatShow:"YYYY",format:"Y"},{label:"选择年份-月份",value:"month",formatShow:"YYYY-MM",format:"Y-M"},{label:"选择年份-周",value:"week",formatShow:"YYYY年 第ww周",format:"Y-M-D"},{label:"选择年份-月份-日",value:"date",formatShow:"YYYY-MM-DD",format:"Y-M-D"},{label:"选择年份-月份-日 时:分:秒",value:"datetime",formatShow:"YYYY-MM-DD HH:mm:ss",format:"Y-M-D h:m:s"},{label:"选择日期范围",value:"daterange",formatShow:"YYYY-MM-DD",format:"Y-M-D"},{label:"选择日期-时间范围",value:"datetimerange",formatShow:"YYYY-MM-DD HH:mm:ss",format:"Y-M-D h:m:s"}],f=3600*1e3*24;function r(e=0){const t=new Date;return t.setMonth(new Date().getMonth()-e),t}function c(e=0){const t=new Date,a=f*7*e;return t.setTime(t.getTime()-a),t}const p=[{text:"今天",value:()=>new Date},{text:"昨天",value(){const e=new Date;return e.setTime(e.getTime()-f),e}},{text:"一周前",value:()=>c(1)},{text:"一个月前",value:()=>r(1)},{text:"三个月前",value:()=>r(3)},{text:"半年前",value:()=>r(6)},{text:"一年前",value:()=>r(12)}],v=p.map((e,t)=>{const a=t===0,n=new Date().toLocaleDateString(),s=[new Date(`${n} 00:00:00`),new Date(`${n} 23:59:59`)];return{text:a?"今天内":`${e.text}至今`,value:()=>a?s:[e.value(),new Date]}}),T={year:[{text:"今年",value:()=>new Date},{text:"去年",value:()=>new Date(new Date().setFullYear(new Date().getFullYear()-1))},{text:"前年",value:()=>new Date(new Date().setFullYear(new Date().getFullYear()-2))}],month:[{text:"当月",value:()=>new Date},{text:"上月",value:()=>r(1)},{text:"前3个月",value:()=>r(3)},{text:"前6个月",value:()=>r(6)},{text:"前12个月",value:()=>r(12)}],week:[{text:"本周",value:()=>new Date},{text:"上周",value:()=>c(1)},{text:"上2周",value:()=>c(2)},{text:"上3周",value:()=>c(3)},{text:"上4周",value:()=>c(4)}],date:p,datetime:p,daterange:v,datetimerange:v};function J(e){const t=window;for(const a in e){const n=`_${a}`;t[n]=e[a]}D(function(){for(const a in e){const n=`_${a}`;t[n]=null}})}function _(e){return`<b style="color: var(--yellow)"> ${e} </b>`}export{I as a,N as b,S as c,P as d,C as e,k as f,j as g,O as h,L as i,_ as j,H as k,W as l,J as m,b as p,T as s,F as u};
