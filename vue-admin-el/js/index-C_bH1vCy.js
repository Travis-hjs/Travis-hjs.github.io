function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./home-DDLnMNp1.js","./element-plus-q5-fTtZa.js","../css/home-pmM6Hd5d.css","./nested-Dqpc-8yB.js","../css/nested-DBbt7j1J.css","./menu-1-BGt6gxnp.js","./Table.vue_vue_type_script_setup_true_lang-uURJbbk7.js","./example-RYib6QJW.js","../css/example-DFXcbB_t.css","../css/menu-1-PIQFC6DV.css","./menu-2-BJQ5GIUT.js","../css/menu-2-DwSbhe9C.css","./menu-3-CshUdLXT.js","../css/menu-3-BasJ6sch.css","./menu-4-CHVpPKcC.js","../css/menu-4-B_QkhR3M.css","./request-9sq21Wcr.js","../css/request-BjYaB_Vm.css","./the-components-BrunbZTc.js","../css/the-components-C334p1wH.css","./curd-page-BlomWl9b.js","./index.vue_vue_type_script_setup_true_lang-CMilWEg_.js","./curd-config-CVWEzL-e.js","./table-page-BfnIhQJ3.js","./index-CvQSC4qR.js","../css/index-CXvTFKej.css","./login-V2_sWEF5.js","../css/login-DXKFvFQf.css","./page-401-DTf55CZy.js","../css/page-401-hNHv4Vr6.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var pl=Object.defineProperty;var ml=(e,n,t)=>n in e?pl(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var Fe=(e,n,t)=>(ml(e,typeof n!="symbol"?n+"":n,t),t);import{r as me,w as Ee,o as He,a as at,c as v,b as R,d as q,F as Y,e as hl,f as le,g as K,h as I,i as y,j as N,k as P,l as pe,m as b,n as Q,t as ee,p as w,u as _,q as Me,s as Ae,T as ot,v as Lt,x as de,y as Co,z as $e,A as Rt,B as $o,E as Do,C as zt,D as Ze,G as ze,H as et,I as gl,J as st,K as So,L as yl,M as Ot,N as Wt,O as vl,P as bl,Q as On,R as wl,S as xl,U as kl,V as _l,W as El,X as Cl,Y as $l,Z as Dl,_ as Sl,$ as Tl,a0 as Al,a1 as Il,a2 as Rl,a3 as Ol,a4 as Fl,a5 as Ll,a6 as Pl,a7 as Bl,a8 as Nl,a9 as Vl,aa as Ml,ab as jl,ac as ql,ad as Ul,ae as zl,af as Wl,ag as Hl,ah as Gl,ai as Yl,aj as Jl,ak as Kl,al as Xl,am as Ql,an as Zl,ao as ei,ap as ti,aq as ni,ar as oi,as as li,at as ii,au as si,av as ai,aw as ri}from"./element-plus-q5-fTtZa.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function t(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(l){if(l.ep)return;l.ep=!0;const i=t(l);fetch(l.href,i)}})();var ui={name:"zh-cn",el:{breadcrumb:{label:"面包屑"},colorpicker:{confirm:"确定",clear:"清空",defaultLabel:"颜色选择器",description:"当前颜色 {color}，按 Enter 键选择新颜色",alphaLabel:"选择透明度的值"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",dateTablePrompt:"使用方向键与 Enter 键可选择日期",monthTablePrompt:"使用方向键与 Enter 键可选择月份",yearTablePrompt:"使用方向键与 Enter 键可选择年份",selectedDate:"已选日期",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},weeksFull:{sun:"星期日",mon:"星期一",tue:"星期二",wed:"星期三",thu:"星期四",fri:"星期五",sat:"星期六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},inputNumber:{decrease:"减少数值",increase:"增加数值"},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},dropdown:{toggleDropdown:"切换下拉选项"},mention:{loading:"加载中"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页",page:"页",prev:"上一页",next:"下一页",currentPage:"第 {pager} 页",prevPages:"向前 {pager} 页",nextPages:"向后 {pager} 页",deprecationWarning:"你使用了一些已被废弃的用法，请参考 el-pagination 的官方文档"},dialog:{close:"关闭此对话框"},drawer:{close:"关闭此对话框"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!",close:"关闭此对话框"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},slider:{defaultLabel:"滑块介于 {min} 至 {max}",defaultRangeStartLabel:"选择起始值",defaultRangeEndLabel:"选择结束值"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tour:{next:"下一步",previous:"上一步",finish:"结束导览"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},carousel:{leftArrow:"上一张幻灯片",rightArrow:"下一张幻灯片",indicator:"幻灯片切换至索引 {index}"}}};function ci(e={}){const n=document,t=`__${Math.random().toString(36).slice(2,7)}`,o={box:`msg-box${t}`,hide:`hide${t}`,text:`msg-text${t}`,icon:`msg-icon${t}`},l=n.createElement("style");l.textContent=`
  .${o.box}, .${o.icon}, .${o.text} {
    padding: 0;
    margin: 0;
    box-sizing: border-box;
  }
  .${o.box} {
    position: fixed;
    top: 0;
    left: 50%;
    display: flex;
    padding: 12px 16px;
    border-radius: 2px;
    background-color: #fff;
    box-shadow: 0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);
    white-space: nowrap;
    animation: ${o.box}-move .4s;
    transition: .4s all;
    transform: translate3d(-50%, 0%, 0);
    opacity: 1;
    overflow: hidden;
  }
  .${o.box}::after {
    content: "";
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    width: 4px;
  }
  @keyframes ${o.box}-move {
    0% {
      opacity: 0;
      transform: translate3d(-50%, -100%, 0);
    }
    100% {
      opacity: 1;
      transform: translate3d(-50%, 0%, 0);
    }
  }
  .${o.box}.${o.hide} {
    opacity: 0;
    /* transform: translate3d(-50%, -100%, 0); */
    transform: translate3d(-50%, -100%, 0) scale(0);
  }
  .${o.icon} {
    display: inline-block;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    overflow: hidden;
    margin-right: 6px;
    position: relative;
  }
  .${o.text} {
    font-size: 14px;
    line-height: 18px;
    color: #555;
  }
  .${o.icon}::after,
  .${o.icon}::before {
    position: absolute;
    content: "";
    background-color: #fff;
  }
  .${o.box}.info .${o.icon}, .${o.box}.info::after {
    background-color: #1890ff;
  }
  .${o.box}.success .${o.icon}, .${o.box}.success::after {
    background-color: #52c41a;
  }
  .${o.box}.warning .${o.icon}, .${o.box}.warning::after {
    background-color: #faad14;
  }
  .${o.box}.error .${o.icon}, .${o.box}.error::after {
    background-color: #ff4d4f;
  }
  .${o.box}.info .${o.icon}::after,
  .${o.box}.warning .${o.icon}::after {
    top: 15%;
    left: 50%;
    margin-left: -1px;
    width: 2px;
    height: 2px;
    border-radius: 50%;
  }
  .${o.box}.info .${o.icon}::before,
  .${o.box}.warning .${o.icon}::before {
    top: calc(15% + 4px);
    left: 50%;
    margin-left: -1px;
    width: 2px;
    height: 40%;
  }
  .${o.box}.error .${o.icon}::after, 
  .${o.box}.error .${o.icon}::before {
    top: 20%;
    left: 50%;
    width: 2px;
    height: 60%;
    margin-left: -1px;
    border-radius: 1px;
  }
  .${o.box}.error .${o.icon}::after {
    transform: rotate(-45deg);
  }
  .${o.box}.error .${o.icon}::before {
    transform: rotate(45deg);
  }
  .${o.box}.success .${o.icon}::after {
    box-sizing: content-box;
    background-color: transparent;
    border: 2px solid #fff;
    border-left: 0;
    border-top: 0;
    height: 50%;
    left: 35%;
    top: 13%;
    transform: rotate(45deg);
    width: 20%;
    transform-origin: center;
  }
  `.replace(/(\n|\t|\s)*/ig,"$1").replace(/\n|\t|\s(\{|\}|\,|\:|\;)/ig,"$1").replace(/(\{|\}|\,|\:|\;)\s/ig,"$1"),n.head.appendChild(l);const i=[];function s(f){let h=10;for(let m=0;m<i.length;m++){const u=i[m];if(f&&f===u)break;h+=u.clientHeight+20}return h}function r(f){for(let h=0;h<i.length;h++)if(i[h]===f){i.splice(h,1);break}f.classList.add(o.hide),i.forEach(function(h){h.style.top=`${s(h)}px`})}function a(f,h="info",m){const u=n.createElement("div");u.className=`${o.box} ${h}`,u.style.top=`${s()}px`,u.style.zIndex=To.message,u.innerHTML=`
    <span class="${o.icon}"></span>
    <span class="${o.text}">${f}</span>
    `,i.push(u),n.body.appendChild(u);function p(){u.removeEventListener("animationend",p),setTimeout(r,m||e.duration||3e3,u)}u.addEventListener("animationend",p);function d(){getComputedStyle(u).opacity==="0"&&(u.removeEventListener("transitionend",d),u.remove())}u.addEventListener("transitionend",d)}return{show:a,info(f){a(f,"info")},success(f){a(f,"success")},warning(f){a(f,"warning")},error(f){a(f,"error")}}}function di(){const e=document,n=`__${Math.random().toString(36).slice(2,7)}`,t={mask:`dialog-mask${n}`,popup:`dialog-popup${n}`,title:`dialog-title${n}`,content:`dialog-content${n}`,footer:`dialog-footer${n}`,confirm:`confirm${n}`,cancel:`cancel${n}`,fade:`fade${n}`,show:`show${n}`,hide:`hide${n}`},o=`
  .${t.mask} {
    --time: .3s;
    --transition: .3s all;
    --black: #333;
    --text-color: #555;
    --confirm-bg: #2ec1cb;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.45);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: var(--transition);
    animation: ${t.fade} var(--time);
  }
  .${t.mask} * {
    box-sizing: border-box;
  }
  .${t.popup} {
    width: 74%;
    max-width: 375px;
    border-radius: var(--border-radius);
    box-shadow: 0px 1px 5px 0px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 3px 1px -2px rgba(0, 0, 0, 0.12);
    background-color: #fff;
    transition: var(--transition);
    animation: ${t.show} var(--time);
  }
  .${t.title} {
    font-size: 18px;
    padding: 12px 15px;
    border-bottom: solid 1px #eee;
    font-weight: normal;
    color: var(--black);
    text-align: left;
  }
  .${t.content} {
    padding: 16px 15px;
    font-size: 15px;
    color: var(--text-color);
    text-align: left;
  }
  .${t.footer} {
    width: 100%;
    text-align: right;
    border-top: solid 1px #eee;
    padding: 12px 15px;
    font-size: 0;
  }
  .${t.footer} button {
    padding: 8px 15px;
  }
  @keyframes ${t.fade} {
    0% { opacity: 0; }
    100% { opacity: 1; }
  }
  @keyframes ${t.show} {
    0% { transform: translate3d(var(--x), var(--y), 0) scale(0); }
    100% { transform: translate3d(0, 0, 0) scale(1); }
  }
  .${t.mask}.${t.hide} {
    opacity: 0;
  }
  .${t.mask}.${t.hide} .${t.popup} {
    transform: translate3d(var(--x), var(--y), 0) scale(0);
  }
  `,l=e.createElement("style");l.textContent=o.replace(/(\n|\t|\s)*/ig,"$1").replace(/\n|\t|\s(\{|\}|\,|\:|\;)/ig,"$1").replace(/(\{|\}|\,|\:|\;)\s/ig,"$1"),e.head.appendChild(l);const i={x:"0vw",y:"0vh"};e.addEventListener("click",function(r){const{innerWidth:a,innerHeight:f}=window,h=a/2,m=f/2,u=r.clientY-m,p=r.clientX-h;i.x=`${p/a*100}vw`,i.y=`${u/f*100}vh`},!0);function s(r){const a=e.createElement("section");a.className=t.mask,a.style.zIndex=To.dialog,a.style.setProperty("--x",i.x),a.style.setProperty("--y",i.y),i.x="0vw",i.y="0vh";const f=r.cancelText?`<button class="el-button ${t.cancel}">${r.cancelText}</button>`:"",h=r.width?` style="width: ${r.width}; max-width: 100%"`:"";a.innerHTML=`
    <div class="${t.popup}"${h}>
      <h2 class="${t.title}">${typeof r.title=="string"?r.title:"提示"}</h2>
      <div class="${t.content}">${r.content}</div>
      <div class="${t.footer}">
        ${f}
        <button class="el-button el-button--primary ${t.confirm}">${r.confirmText||"确认"}</button>
      </div>
    </div>
    `,e.body.appendChild(a),a.addEventListener("transitionend",function(D){D.target===a&&a.classList.contains(t.hide)&&a.remove()});const m=a.querySelector(`.${t.confirm}`),u=a.querySelector(`.${t.cancel}`);let p=!1;function d(){a.classList.add(t.hide)}function c(){p=!0;const D='<i class="el-icon-loading el-icon--left"></i>';m.innerHTML=D+m.innerHTML,m.classList.add("is-loading"),u&&u.classList.add("is-disabled")}function g(){var D;p=!1,(D=m.querySelector(".el-icon-loading"))==null||D.remove(),m.classList.remove("is-loading"),u&&u.classList.remove("is-disabled")}async function x(D){if(!p){if(!D)return d();if(ie(D,"asyncfunction")){c();const A=await D();g(),ie(A,"boolean")?A&&d():d();return}if(D.length){c(),D(A=>{g(),A&&d()});return}D(),d()}}r.cancelText&&(u.onclick=function(){x(r.cancel)}),m.onclick=function(){x(r.confirm)}}return{show:s}}const To={get message(){return(ct()+20).toString()},get dialog(){return(ct()+10).toString()}},Te=ci({duration:3600}),fi=di(),Ke=fi.show;function We(e){return Object.prototype.toString.call(e).match(/\[object (\S*)\]/)[1].toLocaleLowerCase()}function ie(e,n){return We(e)===n}function Xe(e,n){for(const t in n)if(Object.prototype.hasOwnProperty.call(e,t)){const o=n[t],l=e[t];ie(l,"object")?Xe(l,o):e[t]=o}}function Qe(e=Date.now(),n="Y-M-D h:m:s"){if(["null",null,"undefined",void 0,""].includes(e))return"";typeof e=="string"&&new Date(e).toString()==="Invalid Date"&&(e=e.replace(/-/g,"/"));const t=s=>`0${s}`.slice(-2),o=new Date(e),l=["Y","M","D","h","m","s"],i=[o.getFullYear().toString(),t(o.getMonth()+1),t(o.getDate()),t(o.getHours()),t(o.getMinutes()),t(o.getSeconds())];for(let s=0;s<i.length;s++)n=n.replace(l[s],i[s]);return n}function Pt(e,n,t){if(e=e.toString().replace(/(^\s*)|(\s*$)/g,""),!e){t&&t("复制的内容不能为空！");return}const o="the-clipboard";let l=document.getElementById(o);l||(l=document.createElement("textarea"),l.id=o,l.readOnly=!0,l.style.cssText="font-size: 15px; position: fixed; top: -1000%; left: -1000%;",document.body.appendChild(l)),l.value=e,l.select(),l.setSelectionRange(0,l.value.length),document.execCommand("copy")?n?n():Te.success("复制成功"):t&&t("复制失败")}function Fn(e,n,t){let o=e.toString().trim();if(o.length===0)return"";const l=t&&o[0]=="-"?"-":"";if(n){o=o.replace(/[^0-9.]+/ig,"");let i=o.split(".");i.length>1&&(o=i[0]+"."+i[1])}else o=o.replace(/[^0-9]+/ig,"");return l+o}function ce(e,n){if(n)return JSON.parse(JSON.stringify(e));const t=new Map;function o(l){if(!l||typeof l!="object")return l;if(l instanceof Date)return new Date(l);if(l instanceof RegExp)return new RegExp(l);if(l instanceof Map)return new Map(Array.from(l,([s,r])=>[o(s),o(r)]));if(l instanceof Set)return new Set(Array.from(l,s=>o(s)));if(t.has(l))return t.get(l);const i=Array.isArray(l)?[]:{};t.set(l,i);for(const s in l)i[s]=o(l[s]);return i}return o(e)}function ad(e){let n="";for(const t in e)n+=`&${t}=${e[t]}`;return n.slice(1)}function En(e,n={}){let t=n;if(ie(e,"string"))try{t=JSON.parse(e)}catch(o){console.warn("JSON格式化对象错误 >>",o)}return t}function pi(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|OperaMini/i.test(navigator.userAgent)}function Je(e,n){return Math.round(Math.random()*(n-e)+e)}function mi(e,n){const t=parseInt((Math.random()*n).toString())+e,o=2e4,l=1e3;let i="",s=0;for(;s<t;){s++;const r=parseInt((Math.random()*l).toString());i+=String.fromCharCode(o+r)}return i}function rd(e,n){return e.filter((t,o,l)=>l.findIndex(i=>n(i,t))===o)}function ud(e){const n={};for(const t in e){const o=e[t],l=t.split(".");l.reduce((i,s,r)=>(r===l.length-1?i[s]=o:i[s]=i[s]||{},i[s]),n)}return n}function cd(e,n){return n.includes(".")?n.split(".").reduce((t,o)=>t&&t[o],e):e[n]}function dd(e,n){const t=URL.createObjectURL(e),o=document.createElement("a");o.href=t,o.download=n,document.body.append(o),o.click(),o.remove(),URL.revokeObjectURL(t)}function fd(e,n=2){function t(h){if(Array.isArray(h))return h.map(m=>t(m));if(typeof h=="object"&&h!==null){const m={};for(const u in h)m[u]=t(h[u]);return m}else{if(typeof h=="number")return`<code style='color: var(--orange)'>${h}</code>`;if(typeof h=="string")return`<code style='color: var(--green)'>${h}</code>`;if(h==null)return`<code style='color: var(--empty)'>${h}</code>`}return h}function o(h){return h.match(/^\s*/)[0].length}const l=t(JSON.parse(e)),s=JSON.stringify(l,null,4).split(`
`),r=n*2||4;let a="";return s.forEach(h=>{const m=o(h);let u=h.trim();u.includes("color: var(--orange)")&&(u=u.replace('"<code',"<code").replace('</code>"',"</code>")),a+=`<p style="text-indent: ${m*r}px;">${u}</p>`}),`<section style="--black: #555; --orange: orange; --green: green; --empty: #ff4949; padding: 10px; background-color: #f8f8f8; word-wrap: break-word;">${a}</section>`}function hi(e){const t=`; ${document.cookie}`.split(`; ${e}=`);return t.length>=2?t.pop().split(";").shift():""}function gi(e,n,t){let o=`${e}=${n}; path=/`;t&&(t.expires&&(o+=`; expires=${t.expires.toUTCString()}`),t.domain&&(o+=`; domain=${t.domain}`)),document.cookie=o}function yi(e,n){const t="expires=Thu, 01 Jan 1970 00:00:00 GMT";document.cookie=`${e}=; path=/; ${t}`}const Ht="ModuleUser";function Ln(){return{id:"",name:"",type:"",token:"",avatar:"",account:"",password:""}}const vi=3,bi=24*60*60*1e3;class wi{constructor(){Fe(this,"info",me(Ln()));this.init()}init(){const n=hi(Ht);if(n){const t=En(n);Xe(this.info,t)}}update(n){Xe(this.info,n),gi(Ht,JSON.stringify(this.info),{expires:new Date(Date.now()+vi*bi)})}reset(){Xe(this.info,Ln()),yi(Ht)}}const xi=""+new URL("../image/logo-CPmPqqKk.png",import.meta.url).href,Pn="ModuleLayout";class ki{constructor(){Fe(this,"addRouters",[]);Fe(this,"completeRouters",[]);Fe(this,"info",me({showTagList:!0,showSidebar:!0,showSidebarLogo:!0,tagList:[],layoutMode:"",keyword:""}));const n=sessionStorage.getItem(Pn);try{n&&Xe(this.info,JSON.parse(n))}catch(t){console.log("ModuleLayout init fail >>",t)}Ee(this.info,()=>{sessionStorage.setItem(Pn,JSON.stringify(this.info))})}}const Gt="ModuleGoods";function Bn(){return{id:0,name:"",price:0,specs:{size:"xs",width:"",height:""}}}class _i{constructor(){Fe(this,"info",me(Bn()));const n=sessionStorage.getItem(Gt);if(n){const t=En(n);Xe(this.info,t)}}update(n){Xe(this.info,n),sessionStorage.setItem(Gt,JSON.stringify(this.info))}reset(){Xe(this.info,Bn()),sessionStorage.removeItem(Gt)}}class Ei{constructor(){Fe(this,"projectInfo",{title:"Vue Typescript Admin",name:"XXX后台管理平台",logo:xi,link:"https://github.com/Travis-hjs/vue-admin",email:"1141752341@qq.com"});Fe(this,"layout",new ki);Fe(this,"user",new wi);Fe(this,"_goods");console.log("%c ModuleStore init","color: #409EFF")}get goods(){return this._goods||(this._goods=new _i),this._goods}}const fe=new Ei;let Nn=1e3;function ct(){const e=Nn;return Nn++,e}let Vn=0;function ht(e){return Vn++,e=e?`${e}-`:"",`${e}${Math.random().toString(36).slice(2)}-${Date.now()}-${Vn}`}function pd(e=10){return{pageSize:e,currentPage:1,total:0}}function md(e){let n,t=0;function o(){n&&e.callback({width:n.clientWidth,height:n.clientHeight})}const l=fe.layout;Ee(()=>l.info.showSidebar,function(){t&&clearTimeout(t),t=setTimeout(o,300)}),He(function(){n=ie(e.el,"string")?document.querySelector(e.el):e.el,window.addEventListener("resize",o),o()}),at(function(){t&&clearTimeout(t),window.removeEventListener("resize",o)})}function rt(e){const n=e.findLevel||3,t=e.dataKey||"key",o={index:-1},l={key:""};function i(h,m=1){const u=h.dataset[t];if(u)return u;if(m<n&&h.parentElement)return i(h.parentElement,m+1)}function s(h){const m={};return h.forEach((u,p)=>m[u]=p),m}function r(h){o.index=h}function a(){o.index=-1}function f(h,m){if(h.preventDefault(),o.index<0)return;const u=i(h.target);if(!u||u===l.key)return;l.key=u;const p=e.list(),d=p.map(D=>D[e.key]),c=JSON.stringify(d),g=JSON.parse(c);if([g[o.index],g[m]]=[g[m],g[o.index]],c===JSON.stringify(g))return;const x=s(g);p.sort((D,A)=>{const O=e.key,E=x[D[O]],S=x[A[O]];return E-S}),o.index=m}return{onDragStart:r,onDragMove:f,onDropEnd:a}}function _e(e,n=!0){return{required:n,message:e,trigger:"blur"}}function un(e,n=!0){return{required:n,message:e,trigger:"change"}}const Ue=me({urls:[],zIndex:0,index:0,show:!1});function Ci(e){if(!e.urls)return Te.warning("当前没有可以预览的图片~");Ue.urls=e.urls,Ue.index=e.index||0,Ue.zIndex=e.zIndex||ct(),Ue.show=!0}function $i(){Ue.show=!1}function Di(){return Ue.show?v(R("el-image-viewer"),{"url-list":Ue.urls,"z-index":Ue.zIndex,"initial-index":Ue.index,onClose:$i},null):null}var tt;(e=>{(n=>{n.FormSubmit="form-submit",n.BatchSubmit="batch-submit",n.TableCell="table-cell",n.ActionSubmit="action-submit",n.OperationSubmit="operation-submit",n.SearchValidate="search-validate"})(e.Map||(e.Map={}))})(tt||(tt={}));var ve=(e=>(e.ActionEdit="action-edit",e.Add="add",e.Edit="edit",e.Batch="batch",e.Operation="operation",e.OpenForm="open-form",e))(ve||{});const Ao="--label-width";function Si(e,{slots:n}){return v("section",{class:`the-filter-wrap flex${e.labelRight?" label-right":""}`,style:{[Ao]:e.labelWidth||"96px"}},[n.left?v("div",{class:"the-filter-side"},[n.left()]):null,n.content?n.content():v("div",{class:"the-filter-content f1"},[n.default&&n.default()]),n.right?v("div",{class:"the-filter-side"},[n.right()]):null])}function cn(e,{slots:n}){function t(){const o=e.tooltipWidth;if(o)return typeof o=="number"?`${o}px`:o}return v("div",{class:`the-filter-item flex${e.required?" is-required":""}`},[n.prefix?n.prefix():null,n.label||e.label?v("span",{class:`the-filter-label f-vertical${e.tooltip?" the-tooltip":""}${e.tooltipWidth?" wrap":""}`,style:{[Ao]:e.labelWidth,"--tip-width":t()},"data-tooltip":e.tooltip},[n.label?n.label():e.label]):null,n.default&&n.default()])}function Ti(e){const n=e.onSearch||(()=>{});return v(Y,null,[e.noReset?null:v(R("el-button"),{disabled:e.disabled||e.loading,onClick:()=>n(!0)},{default:()=>[v("i",{class:`el-icon-${e.loading?"loading":"refresh"} el-icon--left`},null),q("重置")]}),v(R("el-button"),{type:"primary",disabled:e.disabled||e.loading,onClick:()=>n(!1)},{default:()=>[v("i",{class:`el-icon-${e.loading?"loading":"search"} el-icon--left`},null),q("搜索")]})])}function hd(){const e=me({height:void 0,id:ht("table")});let n;function t(){if(!n)return;let i=n.clientHeight;i&&(e.height=i)}let o=!1,l;return hl(function(){o&&t()}),He(function(){n=document.getElementById(e.id),n&&n.classList.contains("f1")&&(n.style.overflow="hidden",t(),l=new ResizeObserver(function(){t()}),l.observe(n),setTimeout(()=>{o=!0},100))}),at(function(){l&&l.disconnect()}),{update:t,adaptive:e}}var qe=(e=>(e.Right="action-right",e))(qe||{});const Ai={key:0},Ii={key:0,class:"el-icon-loading"},Ri={name:"ActionCell"},Oi=le({...Ri,props:{max:{type:[Number,String],default:3},row:{type:Object,default:()=>({})},index:{type:Number,default:-1},actions:{type:Array,default:[]},clickStop:{type:Boolean,default:!1},pageId:{type:String}},setup(e){const n=e,t=K(()=>{const r=["boolean","function","string"],a=n.actions.filter(h=>r.includes(We(h.show))?l(h,"show"):!0),f=Number(n.max);return{btn:a.length>f?a.filter((h,m)=>m<f-1):a,dropdown:a.length>f?a.filter((h,m)=>m>=f-1):[]}});function o(r,a){const f=r[a];if(ie(f,"function"))return f(n.row);if(ie(f,"string")){let h=f;if(f.includes("return"))try{h=new Function("sandbox",f)({row:n.row,pageId:n.pageId})}catch(m){console.warn("解析按钮文字代码错误 >>",m)}return h}}function l(r,a){const f=r[a];if(ie(f,"function"))return f(n.row);if(ie(f,"string")){let h=a==="show";if(f.includes("return"))try{h=new Function("sandbox",f)({row:n.row,pageId:n.pageId})}catch(m){console.warn(`解析 ${a} 字段代码错误 >>`,m)}return h}return!1}function i(r){const a=r.click;if(!a)return;const{row:f,index:h}=n;if(ie(a,"function"))a(f,h);else if(ie(a,"string"))try{new Function("sandbox",a)({row:f,index:h,pageId:n.pageId})}catch(m){console.warn("解析按钮点击代码错误 >>",m)}}function s(r){n.clickStop&&(r.stopPropagation(),r.preventDefault())}return(r,a)=>{const f=R("el-button"),h=R("el-dropdown-item"),m=R("el-dropdown-menu"),u=R("el-dropdown");return y(),I("div",{class:"the-table-action-cell fvc",onClick:s},[t.value.btn.length?N("",!0):(y(),I("span",Ai,"-")),(y(!0),I(Y,null,pe(t.value.btn,(p,d)=>(y(),P(f,{text:"",type:p.type||"primary",key:"btn-"+d,loading:l(p,"loading"),disabled:l(p,"disabled"),onClick:c=>i(p)},{default:b(()=>[p.icon&&!l(p,"loading")?(y(),I("i",{key:0,class:Q(["the-table-action-cell-icon",o(p,"icon")])},null,2)):N("",!0),q(" "+ee(o(p,"text")),1)]),_:2},1032,["type","loading","disabled","onClick"]))),128)),t.value.dropdown.length?(y(),P(u,{key:1,trigger:"click"},{dropdown:b(()=>[v(m,null,{default:b(()=>[(y(!0),I(Y,null,pe(t.value.dropdown,(p,d)=>(y(),P(h,{key:"drop-"+d,disabled:l(p,"disabled")||l(p,"loading"),onClick:c=>i(p)},{default:b(()=>[l(p,"loading")?(y(),I("i",Ii)):p.icon&&!l(p,"loading")?(y(),I("i",{key:1,class:Q(["the-table-action-cell-icon",o(p,"icon")])},null,2)):N("",!0),q(" "+ee(o(p,"text")),1)]),_:2},1032,["disabled","onClick"]))),128))]),_:1})]),default:b(()=>[v(f,{text:"",type:"primary"},{default:b(()=>[...a[0]||(a[0]=[q("更多",-1),w("i",{class:"el-icon-arrow-down el-icon--right"},null,-1)])]),_:1})]),_:1})):N("",!0)])}}});function Yt(e){const n=e.text,t=n.split("\\n");return t.length>1?v(Y,null,[t.map(o=>v("p",null,[o]))]):v(Y,null,[n])}const Fi={key:1,class:"f-vertical w-full"},Li={class:"f1 cursor-help leading-none text-[#448000]"},Pi={key:1,class:"f1 leading-none"},Bi={key:2,class:"pl-[6px]"},Ni={name:"TableHeader"},Vi=le({...Ni,props:{column:{type:Object,required:!0},disabled:{type:Boolean,default:void 0}},emits:["sort"],setup(e,{emit:n}){const t=e,o=n,l=K(()=>!t.column.sort&&!t.column.titleTips);function i(s){if(t.disabled)return;const r=t.column;t.column.sort===s&&(s=!0),o("sort",r.prop,s)}return(s,r)=>{const a=R("el-tooltip");return l.value?(y(),P(_(Yt),{key:0,text:t.column.title},null,8,["text"])):(y(),I("div",Fi,[t.column.titleTips?(y(),P(a,{key:0,effect:"dark",content:t.column.titleTips,placement:"top"},{default:b(()=>[w("div",Li,[v(_(Yt),{text:t.column.title},null,8,["text"])])]),_:1},8,["content"])):(y(),I("div",Pi,[v(_(Yt),{text:t.column.title},null,8,["text"])])),t.column.sort?(y(),I("div",Bi,[w("div",{class:Q(["the-sort-icon top",[{"is-select":t.column.sort==="asc"},{"is-disabled":t.disabled}]]),onClick:r[0]||(r[0]=f=>i("asc"))},null,2),w("div",{class:Q(["the-sort-icon bottom",[{"is-select":t.column.sort==="desc"},{"is-disabled":t.disabled}]]),onClick:r[1]||(r[1]=f=>i("desc"))},null,2)])):N("",!0)]))}}}),Mi={class:"the-table-operation-bar f-vertical"},ji={class:"f-vertical mb-[10px]"},qi={key:0,class:"el-icon--left el-icon-rank"},Ui={class:"f1"},zi={name:"OperationBar"},Wi=le({...zi,props:{operations:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},notWatch:{type:Boolean,default:!1},hideSetting:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:columns"],setup(e,{emit:n}){const t=e,o=n,{onDragStart:l,onDragMove:i,onDropEnd:s}=rt({list:()=>t.columns,key:"prop"});function r(u,p){const d=u.prop===qe.Right,c=u.prop;return{"data-key":c,key:c,draggable:d?void 0:!0,title:d?"操作栏不可排序，只能显示隐藏操作":void 0,onDragstart:d?void 0:()=>l(p),onDragover:d?void 0:g=>i(g,p),onDrop:d?void 0:s}}function a(u,p){const d=u[p];if(typeof d=="string")return d;if(typeof d=="function")return d()}function f(u,p,d=!1){const c=u[p];return typeof c=="boolean"?c:typeof c=="function"?c():d}let h=[];function m(){o("update:columns",h)}return t.notWatch||Ee(()=>t.columns,u=>{t.notWatch||(u.forEach(p=>{typeof p.visible!="boolean"&&(p.visible=!0)}),h=ce(u))},{immediate:!0}),(u,p)=>{const d=R("el-button"),c=R("el-switch"),g=R("el-empty"),x=R("el-popover");return y(),I("div",Mi,[Me(u.$slots,"left"),p[4]||(p[4]=w("div",{class:"f1"},null,-1)),Me(u.$slots,"right"),(y(!0),I(Y,null,pe(t.operations,(D,A)=>(y(),I(Y,{key:D.key||`btn-${A}`},[f(D,"show",!0)?(y(),P(d,{key:0,type:D.type||"primary",loading:f(D,"loading"),disabled:t.disabled||f(D,"disabled"),class:Q([{"the-tooltip":!!D.tooltip}]),"data-tooltip":a(D,"tooltip"),size:"small",onClick:D.click},{default:b(()=>[D.icon&&!f(D,"loading")?(y(),I("i",{key:0,class:Q([D.icon?`el-icon--left ${D.icon}`:null])},null,2)):N("",!0),q(" "+ee(a(D,"text")),1)]),_:2},1032,["type","loading","disabled","class","data-tooltip","onClick"])):N("",!0)],64))),128)),!e.hideSetting&&t.columns.length>0?(y(),P(x,{key:0,placement:"bottom-start",width:300,transition:"el-zoom-in-top",trigger:"click","popper-class":"the-table-operation-bar-popper"},{reference:b(()=>[v(d,{type:"primary",link:"",disabled:t.disabled},{default:b(()=>[...p[1]||(p[1]=[w("i",{class:"el-icon--left el-icon-setting"},null,-1),q(" 表格列设置 ",-1)])]),_:1},8,["disabled"])]),default:b(()=>[w("div",ji,[p[3]||(p[3]=w("div",{class:"f1"},null,-1)),v(d,{type:"primary",link:"",onClick:p[0]||(p[0]=D=>m())},{default:b(()=>[...p[2]||(p[2]=[w("i",{class:"el-icon--left el-icon-refresh-left"},null,-1),q(" 重置 ",-1)])]),_:1})]),v(ot,{name:"the-group",tag:"div",class:"the-setting-list"},{default:b(()=>[(y(!0),I(Y,null,pe(t.columns,(D,A)=>(y(),I("div",Ae({class:"the-setting-item f-vertical"},{ref_for:!0},r(D,A)),[D.prop!==_(qe).Right?(y(),I("i",qi)):N("",!0),w("span",Ui,ee(D.title),1),v(c,{modelValue:D.visible,"onUpdate:modelValue":O=>D.visible=O,"inline-prompt":"","active-text":"显示","inactive-text":"隐藏"},null,8,["modelValue","onUpdate:modelValue"])],16))),256)),t.columns.length?N("",!0):(y(),P(g,{key:"empty","image-size":120,description:"暂无可以设置的表格列"}))]),_:1})]),_:1})):N("",!0)])}}}),Ne={input:"输入框",textarea:"文本域","input-between":"输入框-串联",select:"下拉选择框",checkbox:"多选复选框",radio:"单选选择框",switch:"开关切换",date:"日期选择器",cascader:"级联选择器"};function Hi(e){if(e.type=="date"){const n=e.shortcutIndex,t="the-date-shortcut-selected",o=document.querySelector(`.${t}`);if(o&&o.classList.remove(t),ie(n,"number"))if(n===-1)e.value=e.shortcutDate;else{const l=Cn[e.dateType][n].value();e.value=l;const i=`.${e.id} .el-picker-panel__sidebar`,s=document.querySelector(i);s&&Lt(()=>s.children[n].classList.add(t))}else e.value=fn.includes(e.dateType)?[]:""}else["object","array"].includes(We(e.defaultValue))?e.value=ce(e.defaultValue):e.value=e.defaultValue}function Le(e,n="",t){const o="请输入",l="请选择",i=ht(`field-${e}`),r={input:{key:n,id:i,type:"input",value:"",defaultValue:"",placeholder:o,valueType:"string"},textarea:{id:i,value:"",defaultValue:"",type:"textarea",placeholder:o,key:n,valueType:"string"},"input-between":{key:n,id:i,value:["",""],defaultValue:["",""],type:"input-between",placeholder:["请输入范围一","请输入范围二"],separator:"-",valueType:"array"},select:{key:n,id:i,value:"",defaultValue:"",type:"select",placeholder:l,options:[],optionSetting:{label:"",value:""},valueType:"string",joinShow:!1},checkbox:{key:n,id:i,value:[],defaultValue:[],type:"checkbox",placeholder:l,options:[],optionSetting:{label:"",value:""},valueType:"array"},radio:{key:n,id:i,value:"",defaultValue:"",type:"radio",placeholder:l,options:[],optionSetting:{label:"",value:""},valueType:"string"},switch:{key:n,id:i,value:!1,defaultValue:!1,type:"switch",placeholder:"",valueType:"boolean"},date:{key:n,id:i,value:"",type:"date",placeholder:l,dateType:"date",formatShow:"YYYY-MM-DD",format:"Y-M-D",valueType:"string",shortcutIndex:""},cascader:{key:n,id:i,value:[],defaultValue:[],type:"cascader",placeholder:l,options:[],optionSetting:{label:"",value:"",children:""},multiple:!1,checkStrictly:!1,valueType:"array"}}[e];return r.label="",r.required=!1,r}function dn(e,n){return{title:n,prop:e,width:void 0,minWidth:void 0,tooltip:e!==qe.Right,cellType:"text",sort:!1,fixed:!1,titleTips:"",imageWidth:void 0,imageHeight:void 0,jsCode:"",visible:!0}}function Jt(){return{width:500,labelWidth:120,labelPosition:"left",fields:[]}}function Kt(){return{key:ht("action"),text:"",icon:"",click:"",type:"primary"}}function Xt(){return{key:ht("operation"),text:"",icon:"",click:"",type:"primary"}}function gd(e){const n={value:e.value,result:!0};if(e.type==="date"){if(!n.value)return n.result=e.placeholder,n;if(["datetimerange","daterange"].includes(e.dateType)){const l=e.value;return l.length<2?(n.result=e.placeholder,n):(n.value=l.map(i=>Qe(i,e.format)),n)}return n.value=Qe(e.value,e.format),n}const t=[null,void 0,""];if(e.type==="input-between"){const l=e.value;if(t.includes(l[0]))return n.result=e.placeholder[0],n;if(t.includes(l[1]))return n.result=e.placeholder[1],n;n.value=ce(l,!0)}if(["input","textarea","radio","select"].includes(e.type)&&t.includes(e.value))return n.result=e.placeholder,n;if(e.type==="checkbox"||e.type==="select"&&e.multiple){const l=e.value;if(!l.length)return n.result=e.placeholder,n;n.value=ce(l,!0)}return n}function Et(e){if(e)return e=parseInt(e.toString()),e=Math.abs(e),`${e}px`}const fn=["daterange","datetimerange","monthrange"],Mn=[{label:"选择年份",value:"year",formatShow:"YYYY",format:"Y"},{label:"选择年份-月份",value:"month",formatShow:"YYYY-MM",format:"Y-M"},{label:"选择年份-周",value:"week",formatShow:"YYYY年 第ww周",format:"Y-M-D"},{label:"选择年份-月份-日",value:"date",formatShow:"YYYY-MM-DD",format:"Y-M-D"},{label:"选择年份-月份-日 时:分:秒",value:"datetime",formatShow:"YYYY-MM-DD HH:mm:ss",format:"Y-M-D h:m:s"},{label:"选择日期范围",value:"daterange",formatShow:"YYYY-MM-DD",format:"Y-M-D"},{label:"选择月份范围",value:"monthrange",formatShow:"YYYY-MM",format:"Y-M"},{label:"选择日期+时间范围",value:"datetimerange",formatShow:"YYYY-MM-DD HH:mm:ss",format:"Y-M-D h:m:s"}],Io=3600*1e3*24;function Pe(e=0){const n=new Date;return n.setMonth(new Date().getMonth()-e),n}function xt(e=0){const n=new Date,t=Io*7*e;return n.setTime(n.getTime()-t),n}const pn=[{text:"今天",value:()=>new Date},{text:"昨天",value(){const e=new Date;return e.setTime(e.getTime()-Io),e}},{text:"一周前",value:()=>xt(1)},{text:"一个月前",value:()=>Pe(1)},{text:"三个月前",value:()=>Pe(3)},{text:"半年前",value:()=>Pe(6)},{text:"一年前",value:()=>Pe(12)}],jn=pn.map((e,n)=>{const t=n===0,o=new Date().toLocaleDateString(),l=[new Date(`${o} 00:00:00`),new Date(`${o} 23:59:59`)];return{text:t?"今天内":`${e.text}至今`,value:()=>t?l:[e.value(),new Date]}}),Cn={year:[{text:"今年",value:()=>new Date},{text:"去年",value:()=>new Date(new Date().setFullYear(new Date().getFullYear()-1))},{text:"前年",value:()=>new Date(new Date().setFullYear(new Date().getFullYear()-2))}],month:[{text:"当月",value:()=>new Date},{text:"上月",value:()=>Pe(1)},{text:"前3个月",value:()=>Pe(3)},{text:"前6个月",value:()=>Pe(6)},{text:"前12个月",value:()=>Pe(12)}],week:[{text:"本周",value:()=>new Date},{text:"上周",value:()=>xt(1)},{text:"上2周",value:()=>xt(2)},{text:"上3周",value:()=>xt(3)},{text:"上4周",value:()=>xt(4)}],date:pn,datetime:pn,daterange:jn,datetimerange:jn,monthrange:[{text:"本月",value:()=>[new Date,new Date]},{text:"本年",value(){const e=new Date;return[new Date(new Date().getFullYear(),0),e]}},{text:"过去3个月",value:()=>[new Date,Pe(3)]},{text:"过去6个月",value:()=>[new Date,Pe(6)]}]};function oe(e){return`<b style="color: var(--yellow)"> ${e} </b>`}function Gi(){return{search:{labelRight:!1,labelWidth:void 0,list:[]},table:{columns:[],actions:[],selectKey:void 0,formAdd:void 0,formEdit:void 0}}}function mn(){return{show:!1,showForm:!1,form:void 0,action:"add",index:-1}}const qn=["el-icon-platform-eleme","el-icon-eleme","el-icon-delete-solid","el-icon-delete","el-icon-s-tools","el-icon-setting","el-icon-user-solid","el-icon-user","el-icon-phone","el-icon-phone-outline","el-icon-more","el-icon-more-outline","el-icon-star-on","el-icon-star-off","el-icon-s-goods","el-icon-goods","el-icon-warning","el-icon-warning-outline","el-icon-question","el-icon-info","el-icon-remove","el-icon-circle-plus","el-icon-success","el-icon-error","el-icon-zoom-in","el-icon-zoom-out","el-icon-remove-outline","el-icon-circle-plus-outline","el-icon-circle-check","el-icon-circle-close","el-icon-s-help","el-icon-help","el-icon-minus","el-icon-plus","el-icon-check","el-icon-close","el-icon-picture","el-icon-picture-outline","el-icon-picture-outline-round","el-icon-upload","el-icon-upload2","el-icon-download","el-icon-camera-solid","el-icon-camera","el-icon-video-camera-solid","el-icon-video-camera","el-icon-message-solid","el-icon-bell","el-icon-s-cooperation","el-icon-s-order","el-icon-s-platform","el-icon-s-fold","el-icon-s-unfold","el-icon-s-operation","el-icon-s-promotion","el-icon-s-home","el-icon-s-release","el-icon-s-ticket","el-icon-s-management","el-icon-s-open","el-icon-s-shop","el-icon-s-marketing","el-icon-s-flag","el-icon-s-comment","el-icon-s-finance","el-icon-s-claim","el-icon-s-custom","el-icon-s-opportunity","el-icon-s-data","el-icon-s-check","el-icon-s-grid","el-icon-menu","el-icon-share","el-icon-d-caret","el-icon-caret-left","el-icon-caret-right","el-icon-caret-bottom","el-icon-caret-top","el-icon-bottom-left","el-icon-bottom-right","el-icon-back","el-icon-right","el-icon-bottom","el-icon-top","el-icon-top-left","el-icon-top-right","el-icon-arrow-left","el-icon-arrow-right","el-icon-arrow-down","el-icon-arrow-up","el-icon-d-arrow-left","el-icon-d-arrow-right","el-icon-video-pause","el-icon-video-play","el-icon-refresh","el-icon-refresh-right","el-icon-refresh-left","el-icon-finished","el-icon-sort","el-icon-sort-up","el-icon-sort-down","el-icon-rank","el-icon-loading","el-icon-view","el-icon-c-scale-to-original","el-icon-date","el-icon-edit","el-icon-edit-outline","el-icon-folder","el-icon-folder-opened","el-icon-folder-add","el-icon-folder-remove","el-icon-folder-delete","el-icon-folder-checked","el-icon-tickets","el-icon-document-remove","el-icon-document-delete","el-icon-document-copy","el-icon-document-checked","el-icon-document","el-icon-document-add","el-icon-printer","el-icon-paperclip","el-icon-takeaway-box","el-icon-search","el-icon-monitor","el-icon-attract","el-icon-mobile","el-icon-scissors","el-icon-umbrella","el-icon-headset","el-icon-brush","el-icon-mouse","el-icon-coordinate","el-icon-magic-stick","el-icon-reading","el-icon-data-line","el-icon-data-board","el-icon-pie-chart","el-icon-data-analysis","el-icon-collection-tag","el-icon-film","el-icon-suitcase","el-icon-suitcase-1","el-icon-receiving","el-icon-collection","el-icon-files","el-icon-notebook-1","el-icon-notebook-2","el-icon-toilet-paper","el-icon-office-building","el-icon-school","el-icon-table-lamp","el-icon-house","el-icon-no-smoking","el-icon-smoking","el-icon-shopping-cart-full","el-icon-shopping-cart-1","el-icon-shopping-cart-2","el-icon-shopping-bag-1","el-icon-shopping-bag-2","el-icon-sold-out","el-icon-sell","el-icon-present","el-icon-box","el-icon-bank-card","el-icon-money","el-icon-coin","el-icon-wallet","el-icon-discount","el-icon-price-tag","el-icon-news","el-icon-guide","el-icon-male","el-icon-female","el-icon-thumb","el-icon-cpu","el-icon-link","el-icon-connection","el-icon-open","el-icon-turn-off","el-icon-set-up","el-icon-chat-round","el-icon-chat-line-round","el-icon-chat-square","el-icon-chat-dot-round","el-icon-chat-dot-square","el-icon-chat-line-square","el-icon-message","el-icon-postcard","el-icon-position","el-icon-turn-off-microphone","el-icon-microphone","el-icon-close-notification","el-icon-bangzhu","el-icon-time","el-icon-odometer","el-icon-crop","el-icon-aim","el-icon-switch-button","el-icon-full-screen","el-icon-copy-document","el-icon-mic","el-icon-stopwatch","el-icon-medal-1","el-icon-medal","el-icon-trophy","el-icon-trophy-1","el-icon-first-aid-kit","el-icon-discover","el-icon-place","el-icon-location","el-icon-location-outline","el-icon-location-information","el-icon-add-location","el-icon-delete-location","el-icon-map-location","el-icon-alarm-clock","el-icon-timer","el-icon-watch-1","el-icon-watch","el-icon-lock","el-icon-unlock","el-icon-key","el-icon-service","el-icon-mobile-phone","el-icon-bicycle","el-icon-truck","el-icon-ship","el-icon-basketball","el-icon-football","el-icon-soccer","el-icon-baseball","el-icon-wind-power","el-icon-light-rain","el-icon-lightning","el-icon-heavy-rain","el-icon-sunrise","el-icon-sunrise-1","el-icon-sunset","el-icon-sunny","el-icon-cloudy","el-icon-partly-cloudy","el-icon-cloudy-and-sunny","el-icon-moon","el-icon-moon-night","el-icon-dish","el-icon-dish-1","el-icon-food","el-icon-chicken","el-icon-fork-spoon","el-icon-knife-fork","el-icon-burger","el-icon-tableware","el-icon-sugar","el-icon-dessert","el-icon-ice-cream","el-icon-hot-water","el-icon-water-cup","el-icon-coffee-cup","el-icon-cold-drink","el-icon-goblet","el-icon-goblet-full","el-icon-goblet-square","el-icon-goblet-square-full","el-icon-refrigerator","el-icon-grape","el-icon-watermelon","el-icon-cherry","el-icon-apple","el-icon-pear","el-icon-orange","el-icon-coffee","el-icon-ice-tea","el-icon-ice-drink","el-icon-milk-tea","el-icon-potato-strips","el-icon-lollipop","el-icon-ice-cream-square","el-icon-ice-cream-round"],W=me({show:!1,pageId:"",title:"",type:"search",config:{},callback:()=>{},editor:mn()});function yd(e){W.show=!0,W.pageId=e.pageId||"",W.title=e.title||"低代码配置",W.type=e.type||"search",W.config=e.config?ce(e.config):Gi(),W.callback=e.callback||(()=>{}),e.pageId||console.error("openCurdConfig 缺少页面唯一标识 pageId")}function vd(e){const n=window;for(const t in e){const o=`_${t}`;n[o]=e[t]}at(function(){for(const t in e){const o=`_${t}`;n[o]=null}})}function Ro(e){const n=ht("copy-json"),t="请粘贴/填写JSON数据";Ke({width:"60vw",title:"回填JSON数据",content:`<div class="el-textarea w-full">
    <textarea
      class="el-textarea__inner"
      placeholder="${t}"
      rows="20"
      id="${n}"
    ></textarea>
    </div>`,cancelText:"取消",confirmText:"设置回填数据",confirm(o){const i=document.getElementById(n).value;if(!i)return Te.warning(t),o(!1);try{const s=JSON.parse(i);e(s)}catch(s){return console.warn(s),Te.error(`输入的JSON有误：${s}`),o(!1)}o(!0)}})}const Yi={"form-submit":[{id:1,name:"表单提交（完整数据）",code:`
const { pageId, formData, current } = sandbox;
console.log("表单提交 >>", formData, current);
// 请求路径
const path = \`/save/xxx\`;
// 接口传参
const params = { ...formData, ...current };
// 请求域名，不设置则使用默认
const domain = "";
// 当前页面功能对象
const page = window[\`_\${pageId}\`];
// 设置加载状态
page.setFormLoading(true);
// 开始发起请求
_request("POST", path, params, { domain }).then(res => {
  // code为 1 时表示成功，其他的直接跳出停止后面的操作
  if (res.code !== 1) return;
  // 成功后的提示
  _message.success("提交成功！");
  // 成功后重新获取表格数据，如果不想回到第一页那么可以用 page.getData(); 保留当前操作状态
  page.onSearch();
  // 并关闭弹框
  page.closeForm();
}).finally(() => {
  // 结束之后关闭加载状态
  page.setFormLoading(false);
});`},{id:12,name:"表单提交（当前展示表单项数据）",code:`
const { pageId, formData, current } = sandbox;
console.log("表单提交 >>", formData, current);
// 请求路径
const path = \`/save/xxx\`;
// 接口传参
const params = current;
if (formData.id) {
  params.id = formData.id;
}
// 请求域名，不设置则使用默认
const domain = "";
// 当前页面功能对象
const page = window[\`_\${pageId}\`];
// 设置加载状态
page.setFormLoading(true);
// 开始发起请求
_request("POST", path, params, { domain }).then(res => {
  // code为 1 时表示成功，其他的直接跳出停止后面的操作
  if (res.code !== 1) return;
  // 成功后的提示
  _message.success("提交成功！");
  // 成功后重新获取表格数据，如果不想回到第一页那么可以用 page.getData(); 保留当前操作状态
  page.onSearch();
  // 并关闭弹框
  page.closeForm();
}).finally(() => {
  // 结束之后关闭加载状态
  page.setFormLoading(false);
});`}],"batch-submit":[{id:100,name:"批量提交请求",code:`
const { pageId, list, selectList } = sandbox;
console.log("批量操作 >>", list, selectList);
// 操作文案
const text = "批量xxx";
// 请求路径
const path = "/batch/xxx";
// 接口传参
const params = list;
// 请求域名，不设置使用默认
const domain = "";
// 当前页面功能对象
const page = window[\`_\${pageId}\`];

// 弹出提示，确认后进行请求操作
_messageBox({
  title: "操作提示",
  content: \`是否\${text}选中的 \${list.length} 条数据？\`,
  cancelText: "取消",
  async confirm() {
    // 发起请求操作
    const res = await _request("POST", path, params, { domain });
    // code为 1 时表示成功，其他的直接跳出停止后面的操作
    if (res.code !== 1) return false;
    // 成功后的提示
    _message.success(text + "成功！");
    // 成功后重新获取表格数据
    page.onSearch();
    return true;
  }
});`}],"table-cell":[{id:200,name:"颜色枚举值展示",code:`
const { pageId, cellValue, row } = sandbox;
const text = {
  0: "蓝色",
  1: "绿色",
  2: "橙色",
  3: "灰色",
  4: "红色",
}

const color = {
  0: "blue",
  1: "green",
  2: "orange",
  3: "gray",
  4: "red",
}

return text[cellValue] ? \`<span class="the-tag \${color[cellValue]}">\${text[cellValue]}</span>\` : "-";`},{id:201,name:"预览JSON",code:`
const { pageId, cellValue, row } = sandbox;
// 当前页面功能对象
const page = window[\`_\${pageId}\`];
// 设置表格行唯一值，key一定要是唯一值
const key = _getCountId("json");
if (cellValue) {
  if (typeof cellValue === "string") {
    try {
      cellValue = JSON.parse(cellValue);
    } catch (error) {
      console.log("表格列解析JSON字符串出错！");
      return "-";
    }
  }
  const text = JSON.stringify(cellValue);
  const json = encodeURIComponent(text);

  function onCell() {
    // console.log("表格点击 >>", row);
    _messageBox({
      title: "预览JSON",
      width: "500px",
      content: _jsonToHtml(JSON.stringify(JSON.parse(decodeURIComponent(json)))),
      confirmText: "关闭",
      cancelText: "复制JSON",
      cancel() {
        _copyText(text);
      }
    });
  }
  page.cellFn[key] = onCell;
  return \`<span class="the-blue-text" onclick="window['_\${pageId}'].cellFn['\${key}']()">\${text}</span>\`;
}
return "-";`}],"action-submit":[{id:300,name:"通用确认提交",code:`
const { pageId, cellValue, row } = sandbox;
/** 请求方法，全大写 */
const method = "POST";
/** 接口请求路径 */
const path = "/action/xxx";
/** 接口传参对象 */
const params = {
  id: row.id,
};
/** 接口请求域名，不填则使用默认 */
const domain = "";
// 当前页面功能对象
const page = window[\`_\${pageId}\`];
// 发起弹框提示
_messageBox({
  title: "操作提示",
  content: "是否xxx当前操作？",
  cancelText: "取消",
  async confirm() {
    const res = await _request(method, path, params, { domain });
    if (res.code !== 1) return false;
    _message.success("xxx成功！");
    page.getData();
    return true;
  }
});`}],"operation-submit":[{id:400,name:"导入文件(Excel)",code:`
const { pageId } = sandbox;
// 当前页面功能对象
const page = window[\`_\${pageId}\`];
// 导入请求路径
const path = "/upload/file";
// 导入请求域名，不传则使用默认域名
const domain = "";

_onUploadFile({
  // 弹框标题
  title: "导入文件",
  // 指定上传文件类型，逗号分割多种
  accept: ".xls,.xlsx",
  /**
   * 上传文件最大体积
   * - 单位\`M\`,
   * - 0 为不限制大小
   */
  maxSize: 0,
  /** 是否多个文件 */
  multiple: false,
  /**
   * @param {File | Array<File>} file 当个文件或列表，由\`multiple\`指定
   * @param callback 关闭回调
   */
  async change(file) {
    // 声明一个表单对象
    const formData = new FormData();
    // 处理单个文件
    formData.append("file", file);
    // 发起请求
    page.setLoading(true);
    const res = await _request("POST", path, formData, { domain });
    page.setLoading(false);
    if (res.code === 1) {
      _message.success("导入成功！");
      page.getData();
    }
  }
});`},{id:401,name:"导出数据(Excel)",code:`
const { pageId } = sandbox;
// 当前页面功能对象
const page = window[\`_\${pageId}\`];
// 请求域名，不传则使用默认域名
const domain = "";
const method = "GET";
const path = "/export/xxx";
const params = page.getSearchParams();
page.setLoading(true);
_request(method, path, params,
  {
    responseType: "blob",
    timeout: 5 * 1000 * 60,
    domain: domain,
  }
).then(res => {
  if (res.code !== 1) return;
  _downloadFile(res.data, res.msg);
  _message.success("导出成功!");
}).finally(() => {
  page.setLoading(false);
});`}],"search-validate":[{id:500,name:"校验查询参数",code:`
const { pageId, params } = sandbox;
if (!params.userId && !params.userName) {
  _message.warning("用户ID、用户名称 必须填一个！");
  return false;
}

return true;`}]};function Oo(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Co(e)}function Bt(e){const n=e.onClose||(()=>{}),t=e.onSubmit||(()=>{});return v(Y,null,[v(R("el-button"),{onClick:n},{default:()=>[q("取 消")]}),v(R("el-button"),{type:"primary",loading:e.loading,disabled:e.disabledSubmit,onClick:t},{default:()=>[q("确 认")]})])}function Ji(e){const n={};return e.imageWidth&&(n.width=`${e.imageWidth}px`),e.imageHeight&&(n.height=`${e.imageHeight}px`),n}function Ki(e){function n(){Ci({urls:e.previewList?e.previewList:[e.src]})}return e.column.cellType==="image"?v(R("el-image"),{class:"the-table-image",style:Ji(e.column),src:e.src,onClick:n,fit:"cover"},null):null}const $n=le({props:{value:{type:[String,Function],default:""}},emits:{"update:value":e=>!0},setup(e,{emit:n}){const t=K({get(){return typeof e.value=="function"?"":e.value},set(r){n("update:value",r)}}),o=de(""),l=K(()=>o?qn.filter(r=>r.includes(o.value)):qn),i=de();function s(r){o.value="",t.value=r,i.value.hide()}return()=>v("div",{class:"f-vertical w-full"},[v(R("el-input"),{modelValue:t.value,"onUpdate:modelValue":r=>t.value=r,placeholder:"请输入图标 class",class:"mr-[6px]"},{suffix:()=>v("i",{class:t.value},null)}),v(R("el-popover"),{ref:i,placement:"top-start",width:"400",trigger:"click"},{default:()=>[v(R("el-input"),{class:"mb-[10px]",modelValue:o.value,"onUpdate:modelValue":r=>o.value=r,placeholder:"请输入关键字检索图标",clearable:!0},{prefix:()=>v("i",{class:"el-icon-search"},null)}),v("ul",{class:"grid max-h-[50vh] grid-cols-3 gap-[10px] overflow-auto"},[l.value.map(r=>v("li",{class:"fvc h-[100px] cursor-pointer flex-col border border-dashed border-[#ccc] px-[4px] text-center hover:border-[var(--blue)]",onClick:()=>s(r)},[v("i",{class:"mb-[10px] text-[#606266] "+r,style:"font-size: 24px"},null),v("span",{class:"text-[12px] text-[#99a9bf]"},[r])]))]),l.value.length<=0?v(R("el-empty"),{description:"未检索到对应图标"},null):null],reference:()=>v(R("el-button"),{type:"primary",link:!0},{default:()=>[q("选择图标")]})})])}}),Xi=le({props:{config:{type:Object,required:!0},disabled:{type:Boolean}},emits:{change:()=>!0},setup(e,{emit:n}){let t=[];const o="the-date-shortcut-selected";function l(){const s=document.querySelector(`.${o}`);s&&s.classList.remove(o);const r=e.config;if(["daterange","datetimerange"].includes(r.dateType)){const a=r.value;a&&new Date(a[0]).getTime()===new Date(a[1]).getTime()&&(r.value[1]=new Date(Qe(a[1],"Y-M-D 23:59:59")))}n("change")}function i(s){s.classList.add(o)}return He(function(){const s=e.config;if(s.type==="date"){const r=`.${s.id} .el-picker-panel__sidebar`,a=document.querySelector(r);if(!a)return console.warn("找不到日期快捷面板节点！");t=Array.from(a.children),t.forEach(h=>{h.addEventListener("click",()=>i(h))});const f=s.shortcutIndex;ie(f,"number")&&f>=0&&i(t[f])}}),()=>v(Y,null,[v(R("el-date-picker"),{modelValue:e.config.value,"onUpdate:modelValue":s=>e.config.value=s,placeholder:e.config.placeholder,type:e.config.dateType,format:e.config.formatShow,shortcuts:Cn[e.config.dateType],disabled:e.disabled,"popper-class":e.config.id.toString(),"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",class:"the-curd-field",onChange:l},null)])}}),Qi=le({props:{config:{type:Object,required:!0},setting:{type:Object,required:!0},disabled:{type:Boolean}},emits:{change:e=>!0},setup(e,{emit:n}){const t=K({get(){return e.config.value},set(r){e.config.value=r,n("change",r)}}),o=de(""),l=K(()=>{const r=e.config.options||[],a=e.config.joinShow,f=o.value;return f?r.filter(h=>{var p,d;const m=((p=h[e.setting.label])==null?void 0:p.toString())||"",u=((d=h[e.setting.value])==null?void 0:d.toString())||"";return a?m.includes(f)||u.includes(f):m.includes(f)}):r});function i(){const r=e.config;return{placeholder:r.placeholder,disabled:e.disabled,multiple:r.multiple,clearable:!0,filterable:!0,collapseTags:!0,maxCollapseTags:r.max,class:`field-item${r.multiple?" is-multiple-select":""}`,filterMethod(a){o.value=a}}}function s(r){const a=e.config,f=e.setting;return a.joinShow?`${r[f.label]}-${r[f.value]}`:`${r[f.label]}`}return()=>{let r;return v(Y,null,[e.config.options.length>36?v(R("el-select-v2"),Ae({modelValue:t.value,"onUpdate:modelValue":a=>t.value=a,options:l.value,props:e.setting},i()),{default:({item:a})=>v("span",{title:s(a)},[s(a)])}):v(R("el-select"),Ae({modelValue:t.value,"onUpdate:modelValue":a=>t.value=a},i()),Oo(r=l.value.map(a=>v(R("el-option"),{key:a[e.setting.value],value:a[e.setting.value],label:s(a)},null)))?r:{default:()=>[r]})])}}}),gt=le({props:{type:{type:String,required:!0},value:{type:[String,Function],default:""}},emits:{"update:value":e=>!0,blur:()=>!0},setup(e,{emit:n}){const t=K({get(){return e.value},set(r){n("update:value",r)}}),o=me({loading:!1,options:[],selected:void 0});function l(){o.selected=void 0}function i(){const r=o.options.find(f=>f.id===o.selected);if(!r)return;const{pageId:a}=W;t.value=r.code.replace("_pageId",a)}async function s(){o.options=Yi[e.type]}return Ee(()=>e.type,()=>{s(),l()},{immediate:!0}),()=>{let r;return v(Y,null,[v(R("el-input"),{modelValue:t.value,"onUpdate:modelValue":a=>t.value=a,rows:6,type:"textarea",placeholder:"请输入代码片段",class:"mb-[10px]",onInput:l,onBlur:()=>n("blur")},null),v("div",{class:"f-vertical w-full"},[v(R("el-text"),{type:"primary",class:"min-w-[86px]"},{default:()=>[v("i",{class:"el-icon--left el-icon-position"},null),q("预设代码")]}),v(R("el-select"),{modelValue:o.selected,"onUpdate:modelValue":a=>o.selected=a,placeholder:"请选择示例代码",onChange:i},Oo(r=o.options.map(a=>v(R("el-option"),{key:a.id,label:a.name,value:a.id},null)))?r:{default:()=>[r]})])])}}}),Zi={name:"Field"},Nt=le({...Zi,props:{fieldData:{type:Object,required:!0},editMode:Boolean,readonly:Boolean,disabled:Boolean},emits:["change"],setup(e,{emit:n}){const t=e,o=n;Hi(t.fieldData);function l(d){let c=d||t.fieldData.value;ie(c,"array")&&(c=ce(c)),o("change",c)}const i=K(()=>t.fieldData),s=K(()=>{const d=t.fieldData.optionSetting||{};return{value:d.value||"value",label:d.label||"label"}}),r=K(()=>{const d=t.fieldData,c=d.optionSetting;return{multiple:d.multiple,checkStrictly:d.checkStrictly,value:c.value||"value",label:c.label||"label",children:c.children||"children"}});function a(d){const c=i.value.placeholder;return{disabled:t.disabled,readonly:t.readonly,clearable:!0,placeholder:ie(d,"number")?c[d]:c}}function f(d){const c=t.fieldData;c.valueType==="number"?(c.value=Fn(d,!0,!0),l(Number(c.value))):(c.value=d,l())}function h(d,c){const g=t.fieldData;g.valueType==="array<number>"?(g.value[c]=Fn(d,!0,!0),l(g.value.map(x=>Number(x)))):(g.value[c]=d,l())}const m=["-",".","",null,void 0];function u(){const d=t.fieldData;d.valueType==="number"&&(m.includes(d.value)?d.value="":d.value=Number(d.value))}function p(d){const c=t.fieldData;if(c.valueType==="array<number>"){const g=c.value[d];m.includes(g)?c.value[d]="":c.value[d]=Number(g)}}return(d,c)=>{const g=R("el-input"),x=R("el-text"),D=R("el-checkbox"),A=R("el-checkbox-group"),O=R("el-radio"),E=R("el-radio-group"),S=R("el-switch"),M=R("el-cascader");return y(),I("div",{class:"the-curd-form-field f-vertical short-value",style:$e({width:_(Et)(i.value.valueWidth)})},[i.value.type==="input"?(y(),P(g,Ae({key:0,"model-value":i.value.value},a(),{class:"the-curd-field",onInput:f,onBlur:u}),null,16,["model-value"])):N("",!0),i.value.type==="textarea"?(y(),P(g,{key:1,modelValue:i.value.value,"onUpdate:modelValue":c[0]||(c[0]=k=>i.value.value=k),readonly:t.readonly,disabled:t.disabled,placeholder:i.value.placeholder,type:"textarea",class:"the-curd-field",onInput:c[1]||(c[1]=k=>l())},null,8,["modelValue","readonly","disabled","placeholder"])):N("",!0),i.value.type==="input-between"?(y(),I(Y,{key:2},[v(g,Ae({"model-value":i.value.value[0]},a(0),{class:"f1",onInput:c[2]||(c[2]=k=>h(k,0)),onBlur:c[3]||(c[3]=k=>p(0))}),null,16,["model-value"]),v(x,{style:{padding:"0 6px"}},{default:b(()=>[q(ee(i.value.separator),1)]),_:1}),v(g,Ae({"model-value":i.value.value[1]},a(1),{class:"f1",onInput:c[4]||(c[4]=k=>h(k,1)),onBlur:c[5]||(c[5]=k=>p(1))}),null,16,["model-value"])],64)):N("",!0),i.value.type==="select"?(y(),P(_(Qi),{key:3,config:i.value,setting:s.value,disabled:t.disabled,onChange:c[6]||(c[6]=k=>l())},null,8,["config","setting","disabled"])):N("",!0),i.value.type==="checkbox"?(y(),I(Y,{key:4},[v(A,{modelValue:i.value.value,"onUpdate:modelValue":c[7]||(c[7]=k=>i.value.value=k),disabled:t.disabled,onChange:c[8]||(c[8]=k=>l())},{default:b(()=>[(y(!0),I(Y,null,pe(i.value.options,k=>(y(),P(D,{key:k[s.value.value],value:k[s.value.value]},{default:b(()=>[q(ee(k[s.value.label]),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","disabled"]),t.editMode&&!i.value.options.length?(y(),P(x,{key:0,type:"primary"},{default:b(()=>[q(ee(_(Ne).checkbox)+"（空数据） ",1)]),_:1})):N("",!0)],64)):N("",!0),i.value.type==="radio"?(y(),I(Y,{key:5},[v(E,{modelValue:i.value.value,"onUpdate:modelValue":c[9]||(c[9]=k=>i.value.value=k),disabled:t.disabled,onChange:c[10]||(c[10]=k=>l())},{default:b(()=>[(y(!0),I(Y,null,pe(i.value.options,k=>(y(),P(O,{key:k[s.value.value],value:k[s.value.value]},{default:b(()=>[q(ee(k[s.value.label]),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","disabled"]),t.editMode&&!i.value.options.length?(y(),P(x,{key:0,type:"primary"},{default:b(()=>[q(ee(_(Ne).radio)+"（空数据） ",1)]),_:1})):N("",!0)],64)):N("",!0),i.value.type==="switch"?(y(),P(S,{key:6,modelValue:i.value.value,"onUpdate:modelValue":c[11]||(c[11]=k=>i.value.value=k),"inline-prompt":"","active-text":"是","inactive-text":"否",onChange:c[12]||(c[12]=k=>l())},null,8,["modelValue"])):N("",!0),i.value.type==="cascader"?(y(),P(M,{key:7,modelValue:i.value.value,"onUpdate:modelValue":c[13]||(c[13]=k=>i.value.value=k),options:i.value.options,props:r.value,placeholder:i.value.placeholder,disabled:t.disabled,clearable:"","collapse-tags":"","collapse-tags-tooltip":"",filterable:"",class:"the-curd-field",onChange:c[14]||(c[14]=k=>l())},null,8,["modelValue","options","props","placeholder","disabled"])):N("",!0),t.fieldData.type==="date"?(y(),P(_(Xi),{key:8,config:t.fieldData,disabled:t.disabled,onChange:c[15]||(c[15]=k=>l())},null,8,["config","disabled"])):N("",!0)],4)}}}),es={style:{"line-height":"1"}},ts={key:0,class:"the-curd-edit-mask f-vertical f-right"},ns={name:"Search"},os=le({...ns,props:{search:{type:Object,required:!0},loading:{type:Boolean,default:!1},editMode:{type:Boolean,default:!1}},emits:["search"],setup(e,{emit:n}){const t=e,o=n;function l(m){const u=t.search.list[m].label||t.search.list[m].key;Ke({title:"操作提示",content:`是否删除【${u}】？`,cancelText:"取消",confirm(){t.search.list.splice(m,1)}})}function i(m,u="edit"){W.editor.index=m,W.editor.action=u,W.editor.show=!0}function s(m){return W.editor.index===m&&W.editor.show}function r(){W.editor.index=-1,W.editor.action="add",W.editor.show=!0}const{onDragStart:a,onDragMove:f,onDropEnd:h}=rt({list:()=>t.search.list,key:"id",findLevel:5});return(m,u)=>{const p=R("el-button"),d=R("el-text");return y(),P(_(Si),{class:"the-curd-search",labelRight:t.search.labelRight,labelWidth:_(Et)(t.search.labelWidth)||"auto"},Rt({content:b(()=>[v(ot,{name:"the-group",tag:"div",class:"the-filter-content f1"},{default:b(()=>[(y(!0),I(Y,null,pe(t.search.list,(c,g)=>(y(),P(_(cn),{key:c.id,"data-key":c.id,class:Q([{"the-curd-selected":s(g)},c.id]),label:c.label,labelWidth:_(Et)(c.labelWidth),required:c.required,draggable:t.editMode,tooltip:c.tooltip,onDragstart:x=>_(a)(g),onDragover:x=>_(f)(x,g),onDrop:u[0]||(u[0]=x=>_(h)())},Rt({default:b(()=>[v(Nt,{"field-data":c,disabled:t.loading},null,8,["field-data","disabled"]),t.editMode?(y(),I("div",ts,[v(p,{link:"",type:"danger",onClick:x=>l(g)},{default:b(()=>[...u[4]||(u[4]=[w("i",{class:"el-icon-delete el-icon--left"},null,-1),q(" 删除 ",-1)])]),_:1},8,["onClick"]),v(p,{link:"",type:"primary",onClick:x=>i(g,"copy")},{default:b(()=>[...u[5]||(u[5]=[w("i",{class:"el-icon-document-copy el-icon--left"},null,-1),q(" 复制 ",-1)])]),_:1},8,["onClick"]),v(p,{link:"",type:"success",onClick:x=>i(g)},{default:b(()=>[...u[6]||(u[6]=[w("i",{class:"el-icon-edit el-icon--left"},null,-1),q(" 编辑 ",-1)])]),_:1},8,["onClick"])])):N("",!0)]),_:2},[t.editMode?{name:"label",fn:b(()=>[u[3]||(u[3]=w("i",{class:"el-icon-rank el-icon--left"},null,-1)),w("span",es,ee(c.label),1)]),key:"0"}:void 0]),1032,["data-key","class","label","labelWidth","required","draggable","tooltip","onDragstart","onDragover"]))),128)),t.editMode?(y(),P(_(cn),{key:0},{default:b(()=>[t.search.list.length?N("",!0):(y(),P(d,{key:0,type:"info",style:{"margin-right":"12px"}},{default:b(()=>[...u[7]||(u[7]=[q(" 请添加筛选条件~ ",-1)])]),_:1})),v(p,{type:"primary",circle:"",onClick:u[1]||(u[1]=c=>r())},{default:b(()=>[...u[8]||(u[8]=[w("i",{class:"el-icon-plus"},null,-1)])]),_:1})]),_:1})):N("",!0)]),_:1})]),_:2},[t.editMode?void 0:{name:"right",fn:b(()=>[v(_(Ti),{loading:t.loading,onSearch:u[2]||(u[2]=c=>o("search",c))},null,8,["loading"])]),key:"0"}]),1032,["labelRight","labelWidth"])}}}),ls={name:"TableOperation"},is=le({...ls,props:{config:{type:Object,required:!0},editMode:{type:Boolean},disabled:{type:Boolean},pageId:{type:String,required:!0}},emits:["action"],setup(e,{emit:n}){const t=e,o=n;function l(u,p){o("action",u,p)}const i={on:"el-icon-success",off:"el-icon-remove-outline"},s=K(()=>{const u=t.config;return{add:!!u.formAdd&&u.formAdd.fields.length>0,edit:!!u.formEdit&&u.formEdit.fields.length>0,batch:!!u.selectKey,operation:t.config.operations?t.config.operations.length>0:!1}}),r=K(()=>{const u=s.value.batch,p=s.value.add,d=s.value.edit,c=s.value.operation;return[{type:ve.Add,text:p?"修改新增表单":"配置新增表单",icon:p?i.on:i.off,style:p?"primary":"info"},{type:ve.Edit,text:d?"修改编辑表单":"配置编辑表单",icon:d?i.on:i.off,style:d?"primary":"info"},{type:ve.Batch,text:`${u?"修改":"配置"}批量按钮操作`,icon:u?i.on:i.off,style:u?"primary":"info"},{type:ve.Operation,text:`${c?"修改":"配置"}自定义按钮操作`,icon:c?i.on:i.off,style:c?"primary":"info"}]}),a=K(()=>(t.config.operations||[]).filter(p=>{if(!p.show)return!0;if(ie(p.show,"function"))return p.show();try{return new Function("sandbox",p.show)({pageId:t.pageId})}catch(d){return console.warn("解析 operation.show 代码错误 >>",d),!1}})),f=K(()=>{var d;const u=t.config;function p(c){if(c)try{return new Function("sandbox",c)({row:{},pageId:t.pageId})}catch(g){return console.warn("解析【表单按钮展示】代码错误 >>",g),!0}return!0}return{add:p((d=u.formAdd)==null?void 0:d.showCode)}});function h(u){u.formConfig?l(ve.Batch,u.formConfig):l(ve.Batch,u.click)}function m(u){if(ie(u.formConfig,"object")&&l(ve.OpenForm,u.formConfig),!!u.click)if(ie(u.click,"string"))try{new Function("sandbox",u.click)({pageId:t.pageId})}catch(p){console.warn("解析 operation.click 代码错误 >>",p)}else u.click()}return(u,p)=>{const d=R("el-button");return y(),P(_(Wi),{columns:t.config.columns,"onUpdate:columns":p[1]||(p[1]=c=>t.config.columns=c),"not-watch":t.editMode,disabled:t.disabled,"hide-setting":t.editMode},Rt({_:2},[t.editMode?{name:"left",fn:b(()=>[(y(!0),I(Y,null,pe(r.value,c=>(y(),P(d,{key:c.type,type:c.style,link:"",onClick:g=>l(c.type)},{default:b(()=>[w("i",{class:Q(["el-icon--left",c.icon])},null,2),q(" "+ee(c.text),1)]),_:2},1032,["type","onClick"]))),128))]),key:"0"}:{name:"right",fn:b(()=>[s.value.batch&&t.config.batchs?(y(!0),I(Y,{key:0},pe(t.config.batchs,c=>(y(),P(d,{key:c.key,type:c.type,disabled:t.disabled,link:!c.solid,size:c.solid?"small":void 0,class:Q([{"the-tooltip":!!c.tooltip}]),"data-tooltip":c.tooltip,onClick:g=>h(c)},{default:b(()=>[c.icon?(y(),I("i",{key:0,class:Q(["el-icon--left",c.icon])},null,2)):N("",!0),q(" "+ee(c.text),1)]),_:2},1032,["type","disabled","link","size","class","data-tooltip","onClick"]))),128)):N("",!0),(y(!0),I(Y,null,pe(a.value,c=>(y(),P(d,{key:c.key,type:c.type,link:!c.solid,size:c.solid?"small":void 0,disabled:t.disabled,class:Q([{"the-tooltip":!!c.tooltip}]),"data-tooltip":c.tooltip,onClick:g=>m(c)},{default:b(()=>[c.icon?(y(),I("i",{key:0,class:Q(["el-icon--left",c.icon])},null,2)):N("",!0),q(" "+ee(c.text),1)]),_:2},1032,["type","link","size","disabled","class","data-tooltip","onClick"]))),128)),s.value.add&&f.value.add?(y(),P(d,{key:1,type:"primary",link:"",disabled:t.disabled,onClick:p[0]||(p[0]=c=>l(_(ve).Add))},{default:b(()=>[...p[2]||(p[2]=[w("i",{class:"el-icon--left el-icon-plus"},null,-1),q(" 新增 ",-1)])]),_:1},8,["disabled"])):N("",!0)]),key:"1"}]),1032,["columns","not-watch","disabled","hide-setting"])}}});function ss(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Co(e)}function as(e){return v(Y,null,[e.label,v(R("el-tooltip"),{effect:"dark",content:e.tips,"raw-content":!0,placement:"top-start"},{default:()=>[v(R("el-button"),{type:"info",link:!0,style:"height: 32px;"},{default:()=>[v("i",{class:"el-icon-question"},null)]})]})])}const rs=le({props:{field:{type:Object,required:!0},getValueByKey:{type:Function,required:!0}},emits:{change:e=>!0},setup(e,{emit:n}){const t=K({get(){const o=e.getValueByKey,l=e.field.bind,i=l[0]?o(l[0]):void 0,s=l[1]?o(l[1]):void 0;if(e.field.dateType.includes("range")){const r=[];return i&&r.push(new Date(i)),s&&r.push(new Date(s)),r}return i?new Date(i):void 0},set(o){const l=o;e.field.dateType.includes("range")&&l&&new Date(l[0]).getTime()===new Date(l[1]).getTime()&&(l[1]=new Date(Qe(l[1],"Y-M-D 23:59:59"))),n("change",l)}});return()=>v(R("el-date-picker"),{"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",class:e.field.class,placeholder:e.field.placeholder,disabled:typeof e.field.disabled=="function"?e.field.disabled():e.field.disabled,clearable:!e.field.noClear,type:e.field.dateType,format:e.field.formatShow,"disabled-date":e.field.disabledDate,modelValue:t.value,"onUpdate:modelValue":o=>t.value=o},null)}}),us=le({props:{attrs:{type:Object,required:!0},field:{type:Object,required:!0}},emits:{change:e=>!0},setup(e,{emit:n}){const t=K({get(){return e.attrs.modelValue},set(i){n("change",i)}}),o=K(()=>{const i=e.field.optionSetting||{};return{value:i.value||"value",label:i.label||"label"}});function l(i){const s=o.value;return`${i[s.label]||i[s.value]}`}return()=>{let i;return e.field.options.length>36?v(R("el-select-v2"),Ae(e.attrs,{options:e.field.options,props:o.value,modelValue:t.value,"onUpdate:modelValue":s=>t.value=s}),{default:({item:s})=>v("span",{title:l(s)},[l(s)])}):v(R("el-select"),Ae(e.attrs,{modelValue:t.value,"onUpdate:modelValue":s=>t.value=s}),ss(i=e.field.options.map(s=>v(R("el-option"),{key:s[o.value.value],label:l(s),value:s[o.value.value]},null)))?i:{default:()=>[i]})}}}),cs={key:10,class:"tips-box"},ds={class:"the-tag blue"},fs={name:"Fields"},nt=le({...fs,props:{type:{type:String,default:"form"},data:{type:Object,required:!0},list:{type:Array,required:!0}},emits:["change","enter"],setup(e,{emit:n}){const t=e,o=n,l=K(()=>t.list.filter(c=>ie(c.show,"boolean")?c.show:ie(c.show,"function")?c.show():!0));function i(c,g){const x=g||c.prop,D=t.data;if(x.includes(".")){const A=[null,void 0],O=x.split(".");let E=D;for(const S of O){if(A.includes(E[S]))return;E=E[S]}return E}return D[x]}function s(c,g,x){const D=x||c.prop,A=t.data;if(D.includes(".")){const O=D.split(".");let E=A;for(let S=0;S<O.length-1;S++){const M=O[S];E[M]||(E[M]={}),E=E[M]}E[O[O.length-1]]=g}else A[D]=g}function r(c,g){const x=c.prop,D=g;c.type!=="date"&&s(c,D),c.onChange&&c.onChange(D),o("change",x,D)}function a(c,g){return typeof c[g]=="function"?c[g]():c[g]}function f(c){return a(c,"class")||(t.type==="form"?"w-full":"short-value")}function h(c){const g=ie(c.disabled,"function")?c.disabled():c.disabled;return{placeholder:a(c,"placeholder"),disabled:g,class:f(c),clearable:c.type==="textarea"?void 0:!c.noClear,modelValue:i(c)}}function m(c){const g=ie(c.disabled,"function")?c.disabled():c.disabled;return{placeholder:a(c,"placeholder"),disabled:g,multiple:c.multiple,clearable:!c.noClear,filterable:!0,collapseTags:!0,maxCollapseTags:c.max,class:f(c),modelValue:i(c)}}function u(c){const g=["",null,void 0],x=i(c);return(g.includes(x)?a(c,"placeholder"):x)||"-"}function p(c,g){const x=c.bind;c.dateType.includes("range")?g?(s(c,Qe(g[0],c.format),x[0]),s(c,Qe(g[1],c.format),x[1])):(s(c,void 0,x[0]),s(c,void 0,x[1])):s(c,g?Qe(g,c.format):void 0,x[0]),r(c,g)}function d(c){const g=c.prop,x=t.data[g];c.onEnter&&c.onEnter(x),o("enter",g,x)}return(c,g)=>{const x=R("el-input"),D=R("el-input-number"),A=R("el-radio-button"),O=R("el-radio-group"),E=R("el-switch"),S=R("el-input-tag"),M=R("el-text");return y(!0),I(Y,null,pe(l.value,(k,L)=>(y(),P($o(t.type==="form"?_(Do):_(cn)),{key:k.key||`${k.prop}-${L}`,label:a(k,"label"),labelWidth:a(k,"labelWidth"),prop:k.prop,tooltip:t.type==="search"?a(k,"tooltip"):void 0,class:"the-fields-item"},Rt({default:b(()=>[k.type==="input"?(y(),P(x,Ae({key:0,ref_for:!0},h(k),{onInput:V=>r(k,V),onKeydown:zt(V=>d(k),["enter"])}),null,16,["onInput","onKeydown"])):N("",!0),k.type==="textarea"?(y(),P(x,Ae({key:1,ref_for:!0},h(k),{rows:k.rows,"show-word-limit":"",type:"textarea",onInput:V=>r(k,V),onKeydown:zt(V=>d(k),["enter"])}),null,16,["rows","onInput","onKeydown"])):N("",!0),k.type==="number"?(y(),P(D,Ae({key:2,ref_for:!0},h(k),{min:k.min,max:k.max,"controls-position":"right",onInput:V=>r(k,V),onKeydown:zt(V=>d(k),["enter"])}),null,16,["min","max","onInput","onKeydown"])):N("",!0),k.type==="select"?(y(),P(_(us),{key:3,attrs:m(k),field:k,onChange:V=>r(k,V)},null,8,["attrs","field","onChange"])):N("",!0),k.type==="date"?(y(),P(_(rs),{key:4,getValueByKey:V=>i(k,V),field:k,onChange:V=>p(k,V)},null,8,["getValueByKey","field","onChange"])):N("",!0),k.type==="radio"?(y(),P(O,{key:5,"model-value":i(k),onChange:V=>r(k,V)},{default:b(()=>[(y(!0),I(Y,null,pe(k.options,V=>{var U,X,Z;return y(),P(A,{key:V[((U=k.optionSetting)==null?void 0:U.value)||"value"],label:V[((X=k.optionSetting)==null?void 0:X.label)||"label"],value:V[((Z=k.optionSetting)==null?void 0:Z.value)||"value"]},null,8,["label","value"])}),128))]),_:2},1032,["model-value","onChange"])):N("",!0),k.type==="switch"?(y(),P(E,{key:6,"model-value":i(k),"inline-prompt":"","active-text":k.activeText||"是","inactive-text":k.inactiveText||"否","active-value":k.activeValue,"inactive-value":k.inactiveValue,onChange:V=>r(k,V)},null,8,["model-value","active-text","inactive-text","active-value","inactive-value","onChange"])):N("",!0),k.type==="input-tag"?(y(),P(S,Ae({key:7,ref_for:!0},h(k),{"tag-type":"primary",trigger:k.trigger,max:k.max,delimiter:k.delimiter,onChange:V=>r(k,V)}),null,16,["trigger","max","delimiter","onChange"])):N("",!0),k.type==="text"?(y(),I("div",{key:8,class:Q(["text-box",a(k,"class")||"w-full"])},[v(M,null,{default:b(()=>[q(ee(u(k)),1)]),_:2},1024)],2)):N("",!0),k.type==="slot"&&k.slotName?Me(c.$slots,k.slotName,Ae({key:9,ref_for:!0},k)):N("",!0),k.tips?(y(),I("div",cs,[w("span",ds,[g[0]||(g[0]=w("i",{class:"el-icon--left el-icon-info"},null,-1)),q(" "+ee(a(k,"tips")),1)])])):N("",!0)]),_:2},[t.type==="form"&&k.tooltip?{name:"label",fn:b(()=>[v(_(as),{label:a(k,"label"),tips:a(k,"tooltip")},null,8,["label","tips"])]),key:"0"}:void 0]),1032,["label","labelWidth","prop","tooltip"]))),128)}}});function ps(e){if(!e)return;e.classList.add("apply-shake");function n(){e.removeEventListener("animationend",n),e.removeEventListener("click",n),e.classList.remove("apply-shake")}e.addEventListener("animationend",n),e.addEventListener("click",n)}function Fo(e,n){n||setTimeout(function(){const t=document.querySelector(`${e} .is-error`);if(!t)return;t.scrollIntoView&&t.scrollIntoView({behavior:"smooth"});const o=[".el-input",".el-textarea",".el-select",".el-date-editor"];let l=null;for(let i=0;i<o.length&&(l=t.querySelector(o[i]),!l);i++);ps(l)},1e3/60)}const kt=function(){let e=location.origin,n="dev",t="";return location.hostname==="test.com"&&(n="test",t="https://api.test.com",e="https://test.com"),location.hostname==="travis-hjs.github.io"&&(n="prod",t="https://api.prod.com",e="https://prod.com"),{get requestTimeout(){return 8e3},get apiUrl(){return t},get isDev(){return n==="dev"},get webUrl(){return e}}}();function ms(e){const n=new XMLHttpRequest,t=e.method,o=e.timeout||0;let l=e.url,i="",s="";const r=We(e.data);if(t==="GET"){if(r==="object")for(const a in e.data)s+="&"+a+"="+e.data[a];else console.warn("ajax 传参处理 GET 传参有误，需要的请求参数应为 object 类型");s&&(s="?"+s.slice(1),l+=s)}else i=["object","array"].includes(r)?JSON.stringify(e.data):e.data;if(n.onreadystatechange=function(){n.readyState===4&&(n.status===200||n.status===304?e.success&&e.success(n.response,n):e.fail&&e.fail(n))},e.onProgress&&n.upload.addEventListener("progress",e.onProgress),n.responseType=e.responseType,n.open(t,l,!0),e.method!=="GET")switch(r){case"object":case"array":n.setRequestHeader("Content-Type","application/json");break;case"string":n.setRequestHeader("Content-Type","application/x-www-form-urlencoded");break}if(e.headers)for(const a in e.headers){const f=e.headers[a];f&&n.setRequestHeader(a,f)}o>0&&(n.timeout=o,n.ontimeout=function(){n.abort(),e.onTimeout&&e.onTimeout(n)}),n.send(i)}function Qt(e,n){const t={code:e.statusCode,msg:"网络出错了",data:null};switch(e.statusCode){case kt.requestTimeout:t.msg="网络超时了";break;case 200:n==="blob"?(t.code=1,t.data=e.data,t.msg="ok"):(We(e.data)!=="object"&&(e.data={}),t.code=We(e.data.code)==="number"?e.data.code:1,t.data=e.data,t.msg=e.data.message||"ok");break;case 400:t.msg="接口传参不正确";break;case 401:t.msg="登录已过期";break;case 404:t.msg="接口不存在";break}return e.statusCode>=500&&(t.msg="服务器闹脾气了"),t}function hs(e,n,t,o={}){const{headers:l={},responseType:i="json",timeout:s,onProgress:r,domain:a}=o;return new Promise(function(f){ms({url:(a||kt.apiUrl)+n,method:e,headers:{authorization:fe.user.info.token,...l},responseType:i,data:t||{},timeout:s||kt.requestTimeout,success(h,m){const u=Qt({statusCode:m.status,data:h},i);f(u)},fail(h){const m=We(h.response)==="string"?En(h.response):h.response,u=Qt({statusCode:h.status,data:m});u.code!==1&&Te.error(u.msg),f(u)},onTimeout(){console.warn("XMLHttpRequest 请求超时 !!!");const h=Qt({statusCode:kt.requestTimeout,data:{}});Te.warning(h.msg),f(h)},onProgress:r})})}function gs(e){let n="";return window.URL?n=window.URL.createObjectURL(e):window.webkitURL&&(n=window.webkitURL.createObjectURL(e)),n}function bd(e){const n=e.get("file");return new Promise(function(t){setTimeout(function(){t({code:1,data:{url:gs(n)},msg:"上传成功"})},500)})}function wd(e){return hs("GET","/free/day",{appid:"56761788",appsecret:"ti3hP8y9",city:encodeURIComponent(e)},{headers:{authorization:""}})}async function xd(e){return new Promise(function(n){const t={id:Math.random().toString(36).substr(10),type:"",name:"",avatar:"",token:Math.random().toString(36).substr(2),account:e.account,password:e.password};setTimeout(()=>{switch(e.account){case"admin":t.type=0,t.name="超级管理员",t.avatar="https://p3-passport.byteacctimg.com/img/user-avatar/6332ece850859ade07f7e6a1394f7c34~300x300.image",fe.user.update(t),n({code:1,msg:"ok",data:t});break;case"normal":t.type=1,t.name="普通成员",fe.user.update(t),n({code:1,msg:"ok",data:t});break;default:n({code:-1,msg:"账户不存在",data:null});break}},600)})}const Un=Array.from({length:32}).map((e,n)=>{const t=n+1,o=Je(1,2)===1?"/skin/big_0d45ca44-f198-492b-a1ac-7bb23476ace5.jpg":"/skinloading/107000.jpg";return{id:t,gameName:mi(2,30),gameType:Je(1,2),gamePrice:Je(19,1999),date:new Date().toLocaleString(),banner:`https://game.gtimg.cn/images/lol/act/img${o}`,report:Je(1,2),num:Je(1e4,99999)}});function kd(e){const n=e.currentPage,t=e.pageSize,o={code:1,data:{total:Un.length,list:[],pageSize:t,currentPage:n},msg:"static data"};return new Promise(function(l){setTimeout(()=>{o.data.list=Un.slice((n-1)*t,n*t),l(o)},Je(100,500))})}function _d(e){const n={code:1,data:e,msg:"模拟表单保存"};return new Promise(function(t){setTimeout(()=>{t(n)},Je(100,3e3))})}function Ed(e){const n={code:1,data:e===1?2:1,msg:"模拟修改状态"};return new Promise(function(t){setTimeout(()=>{t(n)},Je(100,3e3))})}function Re(e){return e?e=`${e}, pageId`:e="pageId",`<p>获取函数参数：${oe(`const { ${e} } = sandbox;`)}</p>`}const zn={formatTips:`<p>参考 src/utils/index.ts 中的${oe("formatDate")}函数。</p>`,showTips:`
<p>动态表单项的条件显示逻辑函数；</p>
${Re("formData")}
<p>参数：${oe("formData")}为当前表单的数据值；</p>
<p>返回${oe("false")}则不展示对应项；</p>
<p>以${oe("return")}为函数代码片段标记；</p>
<p>例如：${oe("return formData.type !== 2;")}</p>
`},ys=`<p>查询数据函数代码片段：</p>
${Re("params")}
<p>参数：${oe("params")}为当前查询参数对象；</p>
<p>返回${oe("true")}则可以查询，返回${oe("false")}则终止查询。</p>`,Dt={textTips:`
<p>可以输入代码片段；</p>
${Re("row")}
<p>参数：${oe("row")}是表格对象值；</p>
<p>以${oe("return")}关键字为函数标记；</p>
<p>例如：${oe('return row.status === 1 ? "下架" : "上架";')}</p>
`,fnTips:`
<p>函数代码片段，点击的时候运行；</p>
${Re("row, index")}
<p>参数：${oe("row")}是表格对象值；</p>
<p>参数：${oe("index")}是当前索引；</p>
<p>例如：${oe("console.log(row, index);")}</p>
`,booleanTips:`
<p>可以输入代码片段；</p>
${Re("row")}
<p>参数：${oe("row")}是表格对象值；</p>
<p>以${oe("return")}关键字为函数标记；</p>
<p>例：${oe("return row.status === 1;")}返回布尔值进行判断。</p>
`},Wn={tips:'[{ id: 1, name: "名称", status: 2 }]',fnTips:`
<p>函数代码片段，点击的时候运行；</p>
${Re("list, selectList")}
<p>参数：${oe("list")}是当前选中键值列表；</p>
<p>参数：${oe("selectList")}是当前选中的完整列表；</p>
<p>例如：${oe("console.log(list, selectList);")}</p>
<p>
  <a class="el-link el-link--primary" target="_blank" href="https://github.com/Travis-hjs/vue-admin/blob/el-plus/src/components/Curd/src/index.vue">查看已暴露的函数</a>
</p>
<p>下划线开头的均是全局函数，可在控制台直接运行。</p>
`},vs={codeTips:`
<p>函数代码片段：</p>
${Re("cellValue, row")}
<p>参数：${oe("cellValue")}是表格值；</p>
<p>参数：${oe("row")}是完整对象；</p>
<p>例如：${oe("return cellValue + row.id;")}</p>
<p>也可以是HTML：${oe("return `<span>内容</span>`;")}</p>
`},Hn={showCodeTips:`
<p>按钮显示逻辑代码片段：</p>
${Re("formData")}
<p>参数：${oe("formData")}是表单对象；</p>
<p>例如：${oe("return false;")}为隐藏；</p>
<p>不填则默认显示；</p>
<p>下划线开头的均是全局函数，可在控制台直接运行。</p>
`,openCodeTips:`
<p>表单提交函数代码片段：</p>
${Re("row")}
<p>参数：${oe("row")}，当编辑时存在；</p>
<p>可以对${oe("row")}进行数据处理操作;</p>
<p>示例：${oe('console.log("表单打开 >>", row);')}</p>
<p>下划线开头的均是全局函数，可在控制台直接运行。</p>
`,submitCodeTips:`
<p>表单提交函数代码片段：</p>
${Re("formData, current, batch")}
<p>参数：${oe("formData")}表单完整对象；</p>
<p>参数：${oe("current")}界面展示中的字段对象；</p>
<p>参数：${oe("batch")}批量操作（如批量操作中为选中的列表参数对象）；</p>
<p>可以点击${oe("使用示例代码")}进行快速编辑；</p>
<p>下划线开头的均是全局函数，可在控制台直接运行。</p>
`},Gn={fnTips:`
<p>函数代码片段，点击的时候运行；</p>
${Re("")}
<p>例如：${oe('console.log("测试");')}</p>
`,showTips:`
<p>可以输入代码片段；</p>
${Re("")}
<p>以${oe("return")}关键字为函数标记；</p>
<p>例如：${oe('return _hasAuth("权限标识");')}返回布尔值进行判断显示或者隐藏。</p>
`},bs={name:"TableColumnConfig"},ws=le({...bs,props:{show:{type:Boolean,required:!0},type:{type:String,required:!0},keys:{type:Array,required:!0},form:Object},emits:["update:show","submit"],setup(e,{emit:n}){const t=e,o=n,l=me({show:!1,form:dn("","")}),i=K(()=>({add:"新增",edit:"编辑",copy:"复制"})[t.type]+"表格列"),s=de(),r={title:_e("请输入表格列标题"),prop:{required:!0,validator(p,d,c){d?t.keys.includes(l.form.prop)?c(new Error("已经存在相同的值！")):c():c(new Error("输入字段不能为空！"))},trigger:"blur"},cellType:un("请选择展示类型"),sort:un("请选择排序操作"),jsCode:{required:!0,validator(p,d,c){d?d.includes("return")?c():c(new Error('代码片段必须带有返回字段 "return"')):c(new Error("代码片段不能为空！"))},trigger:"blur"}},a=[{label:"默认普通文本",value:"text"},{label:"图片预览组件",value:"image"},{label:"自定义 js 代码",value:"js"}],f=[{label:"不可排序",value:!1},{label:"可排序",value:!0},{label:"默认升序",value:"asc"},{label:"默认降序",value:"desc"}],h=[{label:"表格列标题",prop:"title",type:"input",placeholder:r.title.message},{label:"表格列键值",prop:"prop",type:"input",placeholder:"请输入表格列键值"},{label:"表格列宽度",prop:"width",type:"number",placeholder:"请输入表格列宽度，例如：120（默认自适应）"},{label:"表格列最小宽度",prop:"minWidth",type:"number",placeholder:"请输入表格列最小宽度，例如：120（默认自适应）"},{label:"表格列展示类型",prop:"cellType",type:"select",options:a},{label:"图片宽度",prop:"imageWidth",type:"number",placeholder:"请输入数字（默认80px）",show:()=>l.form.cellType==="image"},{label:"图片高度",prop:"imageHeight",type:"number",placeholder:"请输入数字（默认80px）",show:()=>l.form.cellType==="image"},{label:"JS代码",prop:"jsCode",type:"slot",slotName:"jsCode",tooltip:vs.codeTips,show:()=>l.form.cellType==="js"},{label:"表格列排序操作",prop:"sort",type:"select",options:f},{label:"表格列排版",prop:"align",type:"select",options:[{label:"靠左对齐(默认)",value:"left"},{label:"居中对齐",value:"center"},{label:"靠右对齐",value:"right"}],placeholder:"请选择"},{label:"表头提示文字",prop:"titleTips",type:"input",placeholder:"请输入提示文字",tooltip:"鼠标放到表格头时出现提示文案"},{label:"内容溢出截断",prop:"tooltip",type:"switch"},{label:"表格列默认展示",prop:"visible",type:"switch",inactiveText:"隐藏",activeText:"显示"}];function m(){o("update:show",!1)}function u(){var p;(p=s.value)==null||p.validate(d=>{if(!d)return;const c=ce(l.form);["width","minWidth","imageWidth","imageHeight"].forEach(x=>{c[x]&&(c[x]=Number(c[x]))}),c.cellType==="image"&&(c.slot=`preview-image-${c.prop}`),c.cellType==="js"&&(c.slot=`render-cell-${c.prop}`),o("submit",c),m()})}return Ee(()=>t.show,function(p){l.show=p,p&&(t.type==="add"?l.form=dn("",""):(l.form=ce(t.form),t.type==="copy"&&(l.form.prop="")),setTimeout(()=>{var d;return(d=s.value)==null?void 0:d.clearValidate()}))},{immediate:!0}),(p,d)=>{const c=R("el-form"),g=R("base-dialog");return y(),P(g,{show:l.show,"onUpdate:show":d[1]||(d[1]=x=>l.show=x),title:i.value,width:"580px",onClose:m},{footer:b(()=>[v(_(Bt),{onClose:m,onSubmit:u})]),default:b(()=>[v(c,{ref_key:"formRef",ref:s,model:l.form,rules:r,"label-position":"right","label-width":"130px"},{default:b(()=>[v(_(nt),{data:l.form,list:h},{jsCode:b(()=>[v(_(gt),{value:l.form.jsCode,"onUpdate:value":d[0]||(d[0]=x=>l.form.jsCode=x),type:_(tt).Map.TableCell},null,8,["value","type"])]),_:1},8,["data"])]),_:1},8,["model"])]),_:1},8,["show","title"])}}}),xs={class:"flex"},ks={class:"f1"},_s={class:"f-right w-full"},Es=["data-key","draggable","onDragstart","onDragover"],Cs={key:0,class:"el-icon--left el-icon-rank"},$s={key:1,class:"w-full f-right"},Ds={name:"TableActionConfig"},Ss=le({...Ds,props:{show:{type:Boolean,default:!1},list:{type:Array,required:!0},columnWidth:{type:Number},actionMax:{type:Number}},emits:["update:show","submit","openFormConfig"],setup(e,{emit:n}){const t=e,o=n,l=de(),i=de(),s=me({show:!1,list:[],index:-1,hasEdit:!1,formEdit:!1}),r=me({btn:Kt(),column:{width:160,max:3}}),a={width:_e("请输入表格列宽度，例如：160"),max:_e("请输入数量，超出用“更多”下拉展示",!1)},f=[{label:"操作列宽度",prop:"width",type:"number",placeholder:a.width.message},{label:"操作按钮限制",prop:"max",type:"number",min:2,placeholder:a.max.message}],h={text:_e("请输入按钮文字"),click:_e("请输入按钮操作代码"),icon:_e("请输入图标 class",!1),type:un("请选择按钮类型",!1)},m=[{label:"按钮文字",prop:"text",type:"textarea",placeholder:h.text.message,tooltip:Dt.textTips},{label:"按钮功能代码",prop:"click",type:"slot",slotName:"clickCode",placeholder:"请输入代码片段",tooltip:Dt.fnTips,show:()=>!r.btn.formConfig},{label:"表单功能",prop:"formConfig",type:"slot",slotName:"formConfig"},{label:"按钮显示条件",prop:"show",type:"textarea",placeholder:"请输入条件代码，为空则默认显示",tooltip:Dt.booleanTips},{label:"按钮禁用条件",prop:"disabled",type:"textarea",placeholder:"请输入条件代码，为空则默认不禁用",tooltip:Dt.booleanTips},{label:"按钮图标",prop:"icon",type:"slot",slotName:"iconInput"},{label:"按钮类型",prop:"type",type:"select",options:[{label:"默认（蓝色）",value:"primary"},{label:"成功（绿色）",value:"success"},{label:"警告（橙色）",value:"warning"},{label:"危险（红色）",value:"danger"},{label:"文本（灰色）",value:"info"}]}];function u(){c(),o("update:show",!1)}function p(){i.value.validate(k=>{if(!k)return;u();const{width:L,max:V}=r.column;o("submit",ce(s.list),L,V)})}function d(k){l.value.validate(L=>{if(!L)return;const V=ce(r.btn);k==="add"?s.list.push(V):s.list[s.index]=r.btn,c()})}function c(){s.index=-1,r.btn=Kt(),s.formEdit=!1,setTimeout(()=>{var k;return(k=l.value)==null?void 0:k.clearValidate()})}function g(k){const L=s.list[k];r.btn=ce(L,!0),s.index=k,s.formEdit=!0}function x(k){s.list.splice(k,1)}function D(){o("openFormConfig",r.btn)}Ee(()=>t.show,function(k){s.show=k,k&&(s.list=ce(t.list),s.hasEdit=s.list.some(L=>L.key===ve.ActionEdit),s.index=-1,r.btn=Kt(),r.column={width:t.columnWidth,max:t.actionMax},setTimeout(()=>{var L,V;(L=l.value)==null||L.clearValidate(),(V=i.value)==null||V.clearValidate()}))},{immediate:!0});const{onDragStart:A,onDragMove:O,onDropEnd:E}=rt({list:()=>s.list,key:"key"});function S(k){if(k.key!=ve.ActionEdit&&s.list.length>1&&s.index===-1)return!0}function M(k){const L=k.text;if(ie(L,"string")){if(!L.includes("return"))return L;let V="文字配置有误";try{V=new Function("sandbox",L)({row:{}})}catch(U){console.warn("解析按钮文字代码错误 >>",U)}return V}return ie(L,"function")?L({}):"未设置按钮"}return(k,L)=>{const V=R("el-form"),U=R("el-button"),X=R("el-form-item"),Z=R("el-text"),B=R("el-popconfirm"),C=R("el-empty"),T=R("base-dialog");return y(),P(T,{show:s.show,"onUpdate:show":L[8]||(L[8]=$=>s.show=$),title:"配置操作列按钮功能",width:"1000px",onClose:u},{footer:b(()=>[v(_(Bt),{disabledSubmit:s.formEdit,onClose:u,onSubmit:p},null,8,["disabledSubmit"])]),default:b(()=>[w("div",xs,[w("section",ks,[L[13]||(L[13]=w("div",{class:"mb-[10px]"},[w("h2",{class:"the-title is-line"},"操作列配置")],-1)),v(V,{ref_key:"formColumn",ref:i,model:r.column,rules:a,labelPosition:"right",labelWidth:"128px"},{default:b(()=>[v(_(nt),{data:r.column,list:f},null,8,["data"])]),_:1},8,["model"]),L[14]||(L[14]=w("div",{class:"mb-[10px]"},[w("h2",{class:"the-title is-line"},"操作按钮配置")],-1)),v(V,{ref_key:"formBtn",ref:l,model:r.btn,rules:h,labelPosition:"right",labelWidth:"128px",class:Q({"the-filter-mask":!s.formEdit}),"data-tips":"待新增或编辑操作"},{default:b(()=>[v(_(nt),{data:r.btn,list:m},{clickCode:b(()=>[v(_(gt),{value:r.btn.click,"onUpdate:value":L[0]||(L[0]=$=>r.btn.click=$),type:_(tt).Map.ActionSubmit},null,8,["value","type"])]),formConfig:b(()=>[v(U,{type:r.btn.formConfig?"success":"primary",size:"small",plain:"",onClick:D},{default:b(()=>[w("i",{class:Q(["el-icon--left",r.btn.formConfig?"el-icon-edit":"el-icon-setting"])},null,2),q(" "+ee(r.btn.formConfig?"修改表单":"配置表单"),1)]),_:1},8,["type"]),r.btn.formConfig?(y(),P(U,{key:0,type:"danger",size:"small",plain:"",onClick:L[1]||(L[1]=$=>r.btn.formConfig=void 0)},{default:b(()=>[...L[9]||(L[9]=[w("i",{class:"el-icon--left el-icon-delete"},null,-1),q(" 删除表单 ",-1)])]),_:1})):N("",!0)]),icon:b(()=>[v(_($n),{value:r.btn.icon,"onUpdate:value":L[2]||(L[2]=$=>r.btn.icon=$)},null,8,["value"])]),_:1},8,["data"]),v(X,null,{default:b(()=>[w("div",_s,[v(U,{onClick:L[3]||(L[3]=$=>c())},{default:b(()=>[...L[10]||(L[10]=[q("取 消",-1)])]),_:1}),s.index>-1?(y(),P(U,{key:0,type:"primary",plain:"",onClick:L[4]||(L[4]=$=>d("edit"))},{default:b(()=>[...L[11]||(L[11]=[w("i",{class:"el-icon--left el-icon-finished"},null,-1),q(" 确认修改 ",-1)])]),_:1})):(y(),P(U,{key:1,type:"primary",plain:"",onClick:L[5]||(L[5]=$=>d("add"))},{default:b(()=>[...L[12]||(L[12]=[w("i",{class:"el-icon--left el-icon-plus"},null,-1),q(" 确认新增 ",-1)])]),_:1}))])]),_:1})]),_:1},8,["model","class"])]),v(ot,{name:"the-group",tag:"div",class:"the-curd-option-list f1"},{default:b(()=>[(y(!0),I(Y,null,pe(s.list,($,j)=>(y(),I("div",{class:Q(["the-curd-option-item f-vertical",{"the-curd-selected":j===s.index}]),key:$.key,"data-key":$.key!==_(ve).ActionEdit?$.key:null,draggable:S($),onDragstart:te=>_(A)(j),onDragover:te=>_(O)(te,j),onDrop:L[6]||(L[6]=(...te)=>_(E)&&_(E)(...te))},[s.index===-1&&$.key!==_(ve).ActionEdit?(y(),I("i",Cs)):N("",!0),v(U,{type:$.type,link:""},{default:b(()=>[$.icon?(y(),I("i",{key:0,class:Q(["el-icon--left",$.icon])},null,2)):N("",!0),q(" "+ee(M($)),1)]),_:2},1032,["type"]),L[18]||(L[18]=w("div",{class:"f1"},null,-1)),$.key===_(ve).ActionEdit?(y(),P(Z,{key:1,type:"info",size:"small"},{default:b(()=>[...L[15]||(L[15]=[q("编辑按钮不可删除、拖拽等操作，且处于首位",-1)])]),_:1})):(y(),I(Y,{key:2},[v(B,{width:"186px",title:"是否删除该按钮功能？",onConfirm:te=>x(j)},{reference:b(()=>[v(U,{link:"",type:"danger",disabled:s.index>-1},{default:b(()=>[...L[16]||(L[16]=[w("i",{class:"el-icon-delete"},null,-1)])]),_:1},8,["disabled"])]),_:1},8,["onConfirm"]),v(U,{link:"",type:"success",onClick:te=>g(j)},{default:b(()=>[...L[17]||(L[17]=[w("i",{class:"el-icon-edit"},null,-1)])]),_:1},8,["onClick"])],64))],42,Es))),128)),s.list.length?N("",!0):(y(),P(C,{key:"empty","image-size":120,description:"请添加操作列功能按钮"})),s.formEdit?N("",!0):(y(),I("div",$s,[s.formEdit?N("",!0):(y(),P(U,{key:0,type:"primary",plain:"",onClick:L[7]||(L[7]=$=>s.formEdit=!0)},{default:b(()=>[...L[19]||(L[19]=[w("i",{class:"el-icon--left el-icon-plus"},null,-1),q(" 新增功能按钮 ",-1)])]),_:1}))]))]),_:1})])]),_:1},8,["show"])}}}),Ts={class:"the-curd-popup-top f-vertical"},As={key:0,class:"the-title"},Is={class:"f1 f-vertical pl-[20px]"},Rs={class:"the-curd-popup-content"},Os={key:0,class:"the-curd-popup-footer"},Fs={name:"FullPopup"},Lo=le({...Fs,props:{show:{type:Boolean,default:!1},title:{type:String,default:void 0},zIndex:{type:Number,default:()=>ct()}},emits:["update:show","close"],setup(e,{emit:n}){const t=e,o=n;function l(){o("close",!1),o("update:show",!1)}return(i,s)=>(y(),I("section",null,[v(Ze,{name:"page-y",mode:"out-in"},{default:b(()=>[t.show?(y(),I("div",{key:0,class:"the-curd-popup-config",style:$e({"z-index":t.zIndex})},[w("nav",Ts,[t.title?(y(),I("h2",As,ee(t.title),1)):N("",!0),w("div",Is,[Me(i.$slots,"top")]),w("i",{class:"the-curd-popup-close el-icon-close fvc",onClick:l})]),w("section",Rs,[Me(i.$slots,"default")]),i.$slots.footer?(y(),I("footer",Os,[Me(i.$slots,"footer")])):N("",!0)],4)):N("",!0)]),_:3})]))}}),Ls={class:"f-center h-full w-full overflow-auto"},Ps={class:"f-between f-vertical mb-[10px]"},Bs={key:0,class:"el-icon-rank el-icon--left",style:{"line-height":"32px"}},Ns={class:"f-vertical w-full"},Vs={key:"bottom"},Ms={name:"TableFormConfig"},js=le({...Ms,props:{show:{type:Boolean,default:!1},config:{type:Object,default:()=>Jt()},type:{type:String,required:!0}},emits:["update:show","change"],setup(e,{emit:n}){const t=e,o=n,l={title:_e("请输入表单标题"),submitCode:_e("请输入代码片段")},i="140px",s=[{label:"表单标题",labelWidth:i,prop:"title",type:"input",placeholder:"请输入标题"},{label:"表单宽度",labelWidth:i,prop:"width",type:"number",placeholder:"例如：500(px)"},{label:"文字宽度",labelWidth:i,prop:"labelWidth",type:"number",placeholder:"例如：140(px)"},{label:"文字靠右排版",labelWidth:i,prop:"labelPosition",type:"switch",inactiveValue:"left",activeValue:"right"},{label:"按钮显示逻辑",labelWidth:i,prop:"showCode",type:"textarea",tooltip:Hn.showCodeTips,placeholder:"请输入代码片段",show:()=>!u.value},{label:"表单提交逻辑",labelWidth:i,prop:"submitCode",type:"slot",slotName:"submitCode",tooltip:Hn.submitCodeTips,placeholder:"请输入代码片段"}],r=me({config:Jt(),showInfo:!0}),a=[{key:"copy",type:"primary",icon:"el-icon-document-copy",tips:"复制表单项",click(V){L("copy",V)}},{key:"edit",type:"success",icon:"el-icon-edit",tips:"编辑表单项",click(V){L("edit",V)}},{key:"delete",type:"danger",icon:"el-icon-delete",tips:"删除表单项",click(V){A(V)}}],f=K(()=>{let V=r.config.width;return V&&(V+=160),{width:Et(V)}}),h=K(()=>{let V="表单配置";return r.config.title&&(V=`表单配置-${r.config.title}`),V}),m=K(()=>t.type==="add"?"新增":"编辑"),u=K(()=>t.type==="other"),p=K(()=>W.editor.show),{onDragStart:d,onDragMove:c,onDropEnd:g}=rt({list:()=>r.config.fields,key:"id",findLevel:10});function x(V=!1){o("update:show",V)}function D(){x(),o("change")}function A(V){const U=r.config.fields;Ke({title:"操作提示",content:`是否删除【${U[V].label}】？`,cancelText:"取消",confirm(){U.splice(V,1)}})}function O(){Ke({title:"操作提示",content:`是否移除【${m.value}】表单？移除后将不会出现对应功能按钮。`,cancelText:"取消",confirm(){r.config.fields=[]}})}const E=de();function S(){var V;(V=E.value)==null||V.validate(U=>{if(Fo(".the-table-config-form",U),!U)return;if(u.value){x(),o("change",r.config);return}const X=t.type==="add"?"编辑":"新增";Ke({title:"表单操作提示",content:`是否将《表单项》数据同步到【${X}】表单？`,cancelText:"同步",confirmText:"不同步",cancel(){x(),o("change",r.config,!0)},confirm(){x(),o("change",r.config)}})})}function M(){Pt(JSON.stringify(r.config,null,2),()=>Te.success("复制表单JSON成功~"))}function k(){Ro(V=>{r.config=V,Te.success("设置表单数据成功~")})}function L(V,U){W.editor.action=V,W.editor.form=r.config,W.editor.index=U,W.editor.show=!0}return Ee(()=>t.show,function(V){r.config=V?ce(t.config):Jt(),!u.value&&!r.config.title&&(r.config.title=t.type==="edit"?"编辑":"新增"),r.showInfo=!0},{immediate:!0}),(V,U)=>{const X=R("el-button"),Z=R("el-tooltip"),B=R("el-form-item"),C=R("el-empty"),T=R("el-form");return y(),P(Lo,{show:t.show,title:h.value,onClose:x},{footer:b(()=>[v(X,{onClick:D},{default:b(()=>[...U[10]||(U[10]=[q(" 退出编辑 ",-1)])]),_:1}),v(X,{type:"success",plain:"",onClick:U[4]||(U[4]=$=>M())},{default:b(()=>[...U[11]||(U[11]=[w("i",{class:"el-icon--left el-icon-copy-document"},null,-1),q(" 复制表单 ",-1)])]),_:1}),v(X,{type:"primary",plain:"",onClick:U[5]||(U[5]=$=>k())},{default:b(()=>[...U[12]||(U[12]=[w("i",{class:"el-icon--left el-icon-edit-outline"},null,-1),q(" 回填表单 ",-1)])]),_:1}),u.value?N("",!0):(y(),P(X,{key:0,type:"danger",disabled:!r.config.fields.length,onClick:O},{default:b(()=>[...U[13]||(U[13]=[w("i",{class:"el-icon--left el-icon-delete"},null,-1),q(" 删除表单 ",-1)])]),_:1},8,["disabled"])),v(X,{type:"primary",onClick:S},{default:b(()=>[...U[14]||(U[14]=[w("i",{class:"el-icon--left el-icon-check"},null,-1),q(" 保存表单 ",-1)])]),_:1})]),default:b(()=>[w("div",Ls,[v(T,{ref_key:"formRef",ref:E,model:r.config,rules:l,"label-width":_(Et)(r.config.labelWidth),"label-position":r.config.labelPosition,style:$e(f.value),class:"the-curd-edit-form the-table-config-form"},{default:b(()=>[r.config.fields.length?(y(),I(Y,{key:0},[w("div",Ps,[U[6]||(U[6]=w("h2",{class:"the-title is-line"},"配置表单信息",-1)),v(X,{link:"",type:"primary",class:"ml-[10px]",onClick:U[0]||(U[0]=$=>r.showInfo=!r.showInfo)},{default:b(()=>[q(ee(r.showInfo?"收起":"展开")+" ",1),w("i",{class:Q(["el-icon--right",`el-icon-arrow-${r.showInfo?"up":"down"}`])},null,2)]),_:1})]),ze(w("div",null,[v(_(nt),{data:r.config,list:s},{submitCode:b(()=>[v(_(gt),{value:r.config.submitCode,"onUpdate:value":U[1]||(U[1]=$=>r.config.submitCode=$),type:_(tt).Map.FormSubmit},null,8,["value","type"])]),_:1},8,["data"])],512),[[et,r.showInfo]]),U[7]||(U[7]=w("div",{class:"mb-[10px]"},[w("h2",{class:"the-title is-line"},"配置表单项")],-1))],64)):N("",!0),v(ot,{name:"the-group",tag:"div"},{default:b(()=>[(y(!0),I(Y,null,pe(r.config.fields,($,j)=>(y(),P(B,{class:Q(["is-drag-item",{"is-required":!!$.required},{"the-curd-selected":_(W).editor.index===j&&p.value}]),prop:$.key,key:$.id,"data-key":$.id,draggable:r.config.fields.length>1,onDragstart:te=>_(d)(j),onDragover:te=>_(c)(te,j),onDrop:_(g)},{label:b(()=>[r.config.fields.length>1?(y(),I("i",Bs)):N("",!0),w("span",null,ee($.label),1)]),default:b(()=>[w("div",Ns,[v(Nt,{class:"mr-[10px]",fieldData:$,editMode:""},null,8,["fieldData"]),(y(),I(Y,null,pe(a,te=>v(Z,{key:te.key,effect:"dark",content:te.tips,placement:"top"},{default:b(()=>[v(X,{link:"",type:te.type,disabled:p.value,onClick:ke=>te.click(j)},{default:b(()=>[w("i",{class:Q(te.icon)},null,2)]),_:2},1032,["type","disabled","onClick"])]),_:2},1032,["content"])),64))])]),_:2},1032,["class","prop","data-key","draggable","onDragstart","onDragover","onDrop"]))),128)),r.config.fields.length?N("",!0):(y(),P(C,{description:u.value?"请配置表单项":`当前没有表单项，当没有表单项时【${m.value}】功能按钮不会出现~`,key:"empty"},{default:b(()=>[p.value?N("",!0):(y(),P(X,{key:0,type:"primary",onClick:U[2]||(U[2]=$=>L("add",-1))},{default:b(()=>[...U[8]||(U[8]=[w("i",{class:"el-icon--left el-icon-plus"},null,-1),q(" 添加表单项 ",-1)])]),_:1}))]),_:1},8,["description"])),p.value?N("",!0):(y(),I("div",Vs,[r.config.fields.length?(y(),P(B,{key:"bottom-add"},{default:b(()=>[v(X,{type:"primary",class:"w-full",onClick:U[3]||(U[3]=$=>L("add",-1))},{default:b(()=>[...U[9]||(U[9]=[w("i",{class:"el-icon--left el-icon-plus"},null,-1),q(" 继续添加 ",-1)])]),_:1})]),_:1})):N("",!0)]))]),_:1})]),_:1},8,["model","label-width","label-position","style"])])]),_:1},8,["show","title"])}}}),qs={class:"flex"},Us={class:"f3"},zs={class:"the-tag blue"},Ws={class:"mb-[8px]"},Hs={class:"f-right w-full"},Gs=["data-key","draggable","onDragstart","onDragover"],Ys={key:0,class:"el-icon--left el-icon-rank"},Js={key:0,class:"f-right mt-[14px] w-full"},Ks={name:"TableBatchConfig"},Xs=le({...Ks,props:{show:{type:Boolean,default:!1},selectKey:{type:String,default:""},list:{type:Array,default:()=>[]}},emits:["update:show","submit","openFormConfig"],setup(e,{emit:n}){const t=e,o=n;function l(){return{key:ht("batch"),type:"primary",icon:"",text:"",click:""}}const i={text:_e("请输入按钮文字"),click:_e("请输入按钮操作代码")},s=[{label:"按钮文字",prop:"text",type:"textarea",placeholder:i.text.message},{label:"按钮提示文字",prop:"tooltip",type:"input",placeholder:"请输入提示文字"},{label:"按钮功能代码",prop:"click",type:"slot",slotName:"batchCode",tooltip:Wn.fnTips,show:()=>!a.formData.formConfig},{label:"表单功能",prop:"formConfig",type:"slot",slotName:"formConfig"},{label:"按钮类型",prop:"type",type:"select",options:[{label:"默认（蓝色）",value:"primary"},{label:"成功（绿色）",value:"success"},{label:"警告（橙色）",value:"warning"},{label:"危险（红色）",value:"danger"},{label:"文本（灰色）",value:"info"}]},{label:"按钮图标",prop:"icon",type:"slot",slotName:"icon"},{label:"是否实心按钮",prop:"solid",type:"switch"}],r=de(),a=me({show:!1,keyword:"",batchList:[],formData:l(),index:-1,hasEdit:!1,formEdit:!1});function f(){o("update:show",!1)}function h(){f(),o("submit",a.keyword,ce(a.batchList,!0))}function m(){a.index=-1,a.formData=l(),a.formEdit=!1,setTimeout(()=>{var O;return(O=r.value)==null?void 0:O.clearValidate()})}function u(O){const E=a.batchList[O];a.formData=ce(E,!0),a.index=O,a.formEdit=!0}function p(O){a.batchList.splice(O,1)}function d(O){r.value.validate(E=>{if(!E)return;const S=ce(a.formData,!0);O==="add"?a.batchList.push(S):a.batchList[a.index]=S,m()})}const{onDragStart:c,onDragMove:g,onDropEnd:x}=rt({list:()=>a.batchList,key:"key"});function D(){if(a.batchList.length>1&&a.index===-1)return!0}function A(){o("openFormConfig",a.formData)}return Ee(()=>t.show,function(O){a.show=O,O&&(a.keyword=t.selectKey||"",a.batchList=t.list?ce(t.list,!0):[])},{immediate:!0}),(O,E)=>{const S=R("el-input"),M=R("el-form-item"),k=R("el-form"),L=R("el-button"),V=R("el-popconfirm"),U=R("el-empty"),X=R("base-dialog");return y(),P(X,{show:a.show,"onUpdate:show":E[9]||(E[9]=Z=>a.show=Z),title:"配置批量操作功能",width:"1000px",onClose:f},{footer:b(()=>[v(_(Bt),{disabledSubmit:a.formEdit,onClose:f,onSubmit:h},null,8,["disabledSubmit"])]),default:b(()=>[w("div",qs,[w("section",Us,[v(k,{labelPosition:"right",labelWidth:"120px"},{default:b(()=>[v(M,{label:"数据键值"},{default:b(()=>[v(S,{modelValue:a.keyword,"onUpdate:modelValue":E[0]||(E[0]=Z=>a.keyword=Z),class:"mb-[8px]",placeholder:"请输入数据键值",clearable:""},null,8,["modelValue"]),w("div",zs,[E[10]||(E[10]=w("p",{class:"mb-[8px]"},"表格数据中的字段，例如表格数：",-1)),w("p",Ws,ee(_(Wn).tips),1),E[11]||(E[11]=w("p",{class:"mb-[8px]"},"则键值可以为 id",-1)),E[12]||(E[12]=w("p",null,[w("i",{class:"el-icon-info el-icon--left"}),q(" 不填则没有批量功能，即使配置了批量按钮 ")],-1))])]),_:1})]),_:1}),E[17]||(E[17]=w("div",{class:"mb-[10px]"},[w("h2",{class:"the-title is-line"},"操作按钮配置")],-1)),v(k,{ref_key:"formBtn",ref:r,model:a.formData,rules:i,labelPosition:"right",labelWidth:"128px",class:Q({"the-filter-mask":!a.formEdit}),"data-tips":"待新增或编辑操作"},{default:b(()=>[v(_(nt),{data:a.formData,list:s},{batchCode:b(()=>[v(_(gt),{value:a.formData.click,"onUpdate:value":E[1]||(E[1]=Z=>a.formData.click=Z),type:_(tt).Map.BatchSubmit},null,8,["value","type"])]),icon:b(()=>[v(_($n),{value:a.formData.icon,"onUpdate:value":E[2]||(E[2]=Z=>a.formData.icon=Z)},null,8,["value"])]),formConfig:b(()=>[v(L,{type:a.formData.formConfig?"success":"primary",size:"small",plain:"",onClick:A},{default:b(()=>[w("i",{class:Q(["el-icon--left",a.formData.formConfig?"el-icon-edit":"el-icon-setting"])},null,2),q(" "+ee(a.formData.formConfig?"修改表单":"配置表单"),1)]),_:1},8,["type"]),a.formData.formConfig?(y(),P(L,{key:0,type:"danger",size:"small",plain:"",onClick:E[3]||(E[3]=Z=>a.formData.formConfig=void 0)},{default:b(()=>[...E[13]||(E[13]=[w("i",{class:"el-icon--left el-icon-delete"},null,-1),q(" 删除表单 ",-1)])]),_:1})):N("",!0)]),_:1},8,["data"]),v(M,null,{default:b(()=>[w("div",Hs,[v(L,{onClick:E[4]||(E[4]=Z=>m())},{default:b(()=>[...E[14]||(E[14]=[q("取 消",-1)])]),_:1}),a.index>-1?(y(),P(L,{key:0,type:"primary",plain:"",onClick:E[5]||(E[5]=Z=>d("edit"))},{default:b(()=>[...E[15]||(E[15]=[w("i",{class:"el-icon--left el-icon-finished"},null,-1),q(" 确认修改 ",-1)])]),_:1})):(y(),P(L,{key:1,type:"primary",plain:"",onClick:E[6]||(E[6]=Z=>d("add"))},{default:b(()=>[...E[16]||(E[16]=[w("i",{class:"el-icon--left el-icon-plus"},null,-1),q(" 确认新增 ",-1)])]),_:1}))])]),_:1})]),_:1},8,["model","class"])]),v(ot,{class:"f2 the-curd-option-list",name:"the-group",tag:"div"},{default:b(()=>[(y(!0),I(Y,null,pe(a.batchList,(Z,B)=>(y(),I("div",{key:Z.key,class:Q(["the-curd-option-item f-vertical",{"the-curd-selected":B===a.index}]),"data-key":Z.key,draggable:D(),onDragstart:C=>_(c)(B),onDragover:C=>_(g)(C,B),onDrop:E[7]||(E[7]=(...C)=>_(x)&&_(x)(...C))},[a.index===-1?(y(),I("i",Ys)):N("",!0),v(L,{type:Z.type,link:""},{default:b(()=>[Z.icon?(y(),I("i",{key:0,class:Q(["el-icon--left",Z.icon])},null,2)):N("",!0),q(" "+ee(Z.text),1)]),_:2},1032,["type"]),E[20]||(E[20]=w("div",{class:"f1"},null,-1)),v(V,{width:"186px",title:"是否删除该按钮功能？",onConfirm:C=>p(B)},{reference:b(()=>[v(L,{link:"",type:"danger",disabled:a.index>-1},{default:b(()=>[...E[18]||(E[18]=[w("i",{class:"el-icon-delete"},null,-1)])]),_:1},8,["disabled"])]),_:1},8,["onConfirm"]),v(L,{link:"",type:"success",onClick:C=>u(B)},{default:b(()=>[...E[19]||(E[19]=[w("i",{class:"el-icon-edit"},null,-1)])]),_:1},8,["onClick"])],42,Gs))),128)),a.formEdit?N("",!0):(y(),I("div",Js,[a.formEdit?N("",!0):(y(),P(L,{key:0,type:"primary",plain:"",onClick:E[8]||(E[8]=Z=>a.formEdit=!0)},{default:b(()=>[...E[21]||(E[21]=[w("i",{class:"el-icon--left el-icon-plus"},null,-1),q(" 新增功能按钮 ",-1)])]),_:1}))])),a.batchList.length?N("",!0):(y(),P(U,{key:"empty","image-size":120,description:"请添加操作列功能按钮"}))]),_:1})])]),_:1},8,["show"])}}}),Qs={class:"flex"},Zs={class:"f3"},ea={class:"f-right w-full"},ta=["data-key","draggable","onDragstart","onDragover"],na={key:0,class:"el-icon--left el-icon-rank"},oa={key:0,class:"f-right mt-[14px] w-full"},la={name:"TableOperationConfig"},ia=le({...la,props:{show:{type:Boolean,default:!1},list:{type:Array,default:()=>[]}},emits:["update:show","submit","openFormConfig"],setup(e,{emit:n}){const t=e,o=n,l=de(),i=me({show:!1,list:[],index:-1,formEdit:!1}),s=me({data:Xt()}),r={text:_e("请输入按钮文字"),click:_e("请输入按钮操作代码"),icon:_e("请输入图标 class",!1),type:_e("请选择按钮类型",!1)},a=[{label:"按钮文字",prop:"text",type:"textarea",placeholder:r.text.message},{label:"按钮提示文字",prop:"tooltip",type:"input",placeholder:"请输入提示文字"},{label:"按钮点击功能",prop:"click",type:"slot",slotName:"clickCode",tooltip:Gn.fnTips,show:()=>!s.data.formConfig},{label:"表单功能",prop:"formConfig",type:"slot",slotName:"formConfig"},{label:"按钮显示条件",prop:"show",type:"textarea",placeholder:"请输入条件代码，为空则默认显示",tooltip:Gn.showTips},{label:"按钮类型",prop:"type",type:"select",options:[{label:"默认（蓝色）",value:"primary"},{label:"成功（绿色）",value:"success"},{label:"警告（橙色）",value:"warning"},{label:"危险（红色）",value:"danger"},{label:"文本（灰色）",value:"info"}]},{label:"按钮图标",prop:"icon",type:"slot",slotName:"icon"},{label:"是否为实心按钮",prop:"solid",type:"switch"}];function f(){u(),o("update:show",!1)}function h(){o("submit",ce(i.list,!0)),f()}function m(O){l.value.validate(E=>{if(!E)return;const S=ce(s.data,!0);O==="add"?i.list.push(S):i.list[i.index]=s.data,u()})}function u(){i.index=-1,s.data=Xt(),i.formEdit=!1,setTimeout(()=>{var O;return(O=l.value)==null?void 0:O.clearValidate()})}function p(O){const E=i.list[O];s.data=ce(E,!0),i.index=O,i.formEdit=!0}function d(O){i.list.splice(O,1)}Ee(()=>t.show,O=>{i.show=O,O&&(i.list=ce(t.list,!0),s.data=Xt(),i.index=-1,setTimeout(()=>{var E;(E=l.value)==null||E.clearValidate()}))},{immediate:!0});const{onDragStart:c,onDragMove:g,onDropEnd:x}=rt({list:()=>i.list,key:"key"});function D(O){if(i.list.length>1&&i.index===-1)return!0}function A(){o("openFormConfig",s.data)}return(O,E)=>{const S=R("el-button"),M=R("el-form-item"),k=R("el-form"),L=R("el-popconfirm"),V=R("el-empty"),U=R("base-dialog");return y(),P(U,{show:i.show,"onUpdate:show":E[8]||(E[8]=X=>i.show=X),title:"配置自定义按钮功能",width:"1000px",onClose:f},{footer:b(()=>[v(_(Bt),{disabledSubmit:i.formEdit,onClose:f,onSubmit:h},null,8,["disabledSubmit"])]),default:b(()=>[w("div",Qs,[w("section",Zs,[v(k,{ref_key:"formRef",ref:l,model:s.data,rules:r,labelPosition:"right",labelWidth:"128px",class:Q({"the-filter-mask":!i.formEdit}),"data-tips":"待新增或编辑操作"},{default:b(()=>[v(_(nt),{data:s.data,list:a},{clickCode:b(()=>[v(_(gt),{value:s.data.click,"onUpdate:value":E[0]||(E[0]=X=>s.data.click=X),type:_(tt).Map.OperationSubmit},null,8,["value","type"])]),formConfig:b(()=>[v(S,{type:s.data.formConfig?"success":"primary",size:"small",plain:"",onClick:A},{default:b(()=>[w("i",{class:Q(["el-icon--left",s.data.formConfig?"el-icon-edit":"el-icon-setting"])},null,2),q(" "+ee(s.data.formConfig?"修改表单":"配置表单"),1)]),_:1},8,["type"]),s.data.formConfig?(y(),P(S,{key:0,type:"danger",size:"small",plain:"",onClick:E[1]||(E[1]=X=>s.data.formConfig=void 0)},{default:b(()=>[...E[9]||(E[9]=[w("i",{class:"el-icon--left el-icon-delete"},null,-1),q(" 删除表单 ",-1)])]),_:1})):N("",!0)]),icon:b(()=>[v(_($n),{value:s.data.icon,"onUpdate:value":E[2]||(E[2]=X=>s.data.icon=X)},null,8,["value"])]),_:1},8,["data"]),v(M,null,{default:b(()=>[w("div",ea,[v(S,{onClick:E[3]||(E[3]=X=>u())},{default:b(()=>[...E[10]||(E[10]=[q("取 消",-1)])]),_:1}),i.index>-1?(y(),P(S,{key:0,type:"primary",plain:"",onClick:E[4]||(E[4]=X=>m("edit"))},{default:b(()=>[...E[11]||(E[11]=[w("i",{class:"el-icon--left el-icon-finished"},null,-1),q(" 确认修改 ",-1)])]),_:1})):(y(),P(S,{key:1,type:"primary",plain:"",onClick:E[5]||(E[5]=X=>m("add"))},{default:b(()=>[...E[12]||(E[12]=[w("i",{class:"el-icon--left el-icon-plus"},null,-1),q(" 确认新增 ",-1)])]),_:1}))])]),_:1})]),_:1},8,["model","class"])]),v(ot,{class:"f2 the-curd-option-list",name:"the-group",tag:"div"},{default:b(()=>[(y(!0),I(Y,null,pe(i.list,(X,Z)=>(y(),I("div",{key:X.key,class:Q(["the-curd-option-item f-vertical",{"the-curd-selected":Z===i.index}]),"data-key":X.key,draggable:D(X),onDragstart:B=>_(c)(Z),onDragover:B=>_(g)(B,Z),onDrop:E[6]||(E[6]=(...B)=>_(x)&&_(x)(...B))},[i.index===-1&&i.list.length>1?(y(),I("i",na)):N("",!0),v(S,{type:X.type,link:""},{default:b(()=>[X.icon?(y(),I("i",{key:0,class:Q(["el-icon--left",X.icon])},null,2)):N("",!0),q(" "+ee(X.text),1)]),_:2},1032,["type"]),E[15]||(E[15]=w("div",{class:"f1"},null,-1)),v(L,{width:"186px",title:"是否删除该按钮功能？",onConfirm:B=>d(Z)},{reference:b(()=>[v(S,{link:"",type:"danger",disabled:i.index>-1},{default:b(()=>[...E[13]||(E[13]=[w("i",{class:"el-icon-delete"},null,-1)])]),_:1},8,["disabled"])]),_:1},8,["onConfirm"]),v(S,{link:"",type:"success",onClick:B=>p(Z)},{default:b(()=>[...E[14]||(E[14]=[w("i",{class:"el-icon-edit"},null,-1)])]),_:1},8,["onClick"])],42,ta))),128)),i.formEdit?N("",!0):(y(),I("div",oa,[i.formEdit?N("",!0):(y(),P(S,{key:0,type:"primary",plain:"",onClick:E[7]||(E[7]=X=>i.formEdit=!0)},{default:b(()=>[...E[16]||(E[16]=[w("i",{class:"el-icon--left el-icon-plus"},null,-1),q(" 新增功能按钮 ",-1)])]),_:1}))])),i.list.length?N("",!0):(y(),P(V,{key:"empty","image-size":120,description:"请添加操作列功能按钮"}))]),_:1})])]),_:1},8,["show"])}}}),sa={class:"the-curd-table-model"},aa=["data-key","draggable","onDragstart","onDragover"],ra=["data-head"],ua={key:1,class:"the-tag blue"},ca={class:"fake-table-cell operation fvc"},da={class:"fake-table-cell disabled"},fa={key:"column-setting",class:"f-vertical"},pa={key:0},ma={key:1},ha={name:"TableModel"},ga=le({...ha,props:{config:{type:Object,required:!0},pageId:{type:String,required:!0}},setup(e){const n=e,t="https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",o=[{key:"edit",label:"编辑列",icon:"el-icon-edit",click(B){s("edit",B)}},{key:"copy",label:"复制列",icon:"el-icon-document-copy",click(B){s("copy",B)}},{key:"delete",label:"删除列",icon:"el-icon-delete",click(B){a(B)}}],l=me({show:!1,type:"add",index:-1,form:void 0,keys:[]}),i=K(()=>{const B=n.config.columns,C=[],T=[];for(let $=0;$<B.length;$++){const j=B[$];j.prop===qe.Right?T.push(j):C.push(j)}return{drag:C,action:T}});function s(B,C){l.keys=n.config.columns.map($=>$.prop),{add(){l.form=void 0},edit(){const $=n.config.columns[C];l.keys=l.keys.filter(j=>j!==$.prop),l.index=C,l.form=$},copy(){const $=n.config.columns[C];l.index=C,l.form=$}}[B](),l.type=B,l.show=!0}function r(B){const C=n.config;if(["add","copy"].includes(l.type)){const T=ce(i.value.drag);l.type==="add"?T.push(B):T.splice(l.index+1,0,B),C.columns=T.concat(i.value.action)}else C.columns[l.index]=B}function a(B){const C=i.value.drag[B];Ke({title:"操作提示",content:`是否删除【${C.title}】列？`,cancelText:"取消",confirm(){const T=n.config.columns.findIndex($=>$.prop===C.prop);n.config.columns.splice(T,1)}})}const{onDragStart:f,onDragMove:h,onDropEnd:m}=rt({list:()=>n.config.columns,key:"prop",findLevel:5});function u(B){const C={};return B&&B.width&&(C.width=`${B.width}px`),B&&B.minWidth&&(C.minWidth=`${B.minWidth}px`),C}const p=K(function(){const B=n.config.columns;if(B.length>0&&B[B.length-1].prop===qe.Right)return B[B.length-1]});function d(){const B=dn(qe.Right,"操作");B.minWidth=120,B.width=160,n.config.columns.push(B)}function c(){const B=n.config.columns;Ke({title:"操作提示",content:"是否删除操作列？删除之后需要重新配置。",cancelText:"取消",confirm(){B.splice(B.length-1,1),n.config.actions=[],n.config.formEdit&&(n.config.formEdit=void 0)}})}const g=me({show:!1});function x(){g.show=!0}function D(B,C){const T=n.config;T.selectKey=B,T.batchs=C}const A=me({show:!1,columnWidth:0,actionMax:0});function O(){A.show=!0,A.columnWidth=p.value.width,A.actionMax=n.config.actionMax}function E(B,C){n.config.actions=B;const T=n.config.columns.find($=>$.prop===qe.Right);T.width=C}const S=me({form:null,type:"add",editTarget:{}});function M(B,C={}){switch(S.type=B,S.editTarget=C,B){case"add":S.form=n.config.formAdd;break;case"edit":S.form=n.config.formEdit;break;case"other":S.form=C.formConfig;break}W.editor.showForm=!0}function k(B,C){const T=n.config,$=T.actions;function j(){const te=$.length>0&&$[0].key===ve.ActionEdit;B&&B.fields.length>0?(p.value||d(),te||$.unshift({key:ve.ActionEdit,text:"编辑",type:"success",icon:"el-icon-edit"})):te&&$.splice(0,1)}if(B)switch(S.type){case"add":T.formAdd=B,C&&(T.formEdit?T.formEdit.fields=ce(B.fields):T.formEdit={title:"编辑",width:B.width,labelWidth:B.labelWidth,labelPosition:B.labelPosition,fields:ce(B.fields)},j());break;case"edit":T.formEdit=B,C&&(T.formAdd?T.formAdd.fields=ce(B.fields):T.formAdd={title:"新增",width:B.width,labelWidth:B.labelWidth,labelPosition:B.labelPosition,fields:ce(B.fields)}),j();break;case"other":S.editTarget.formConfig=B,S.editTarget={};break}W.editor.showForm=!1,S.form=null}const L=me({show:!1});function V(B){n.config.operations=B}function U(B){switch(B){case ve.Batch:x();break;case ve.Add:M("add");break;case ve.Edit:M("edit");break;case ve.Operation:L.show=!0;break}}const X=K(()=>i.value.drag.some(B=>!B.width&&!B.minWidth));function Z(){const B=Array.from(document.querySelectorAll(".fake-table-head")),C={};B.forEach(T=>{const $=T.dataset.head||"";$&&(C[$]=Math.round(T.clientWidth))}),n.config.columns.forEach(T=>{Object.prototype.hasOwnProperty.call(C,T.prop)&&(T.minWidth=C[T.prop])})}return(B,C)=>{const T=R("el-empty"),$=R("el-button"),j=R("el-dropdown-item"),te=R("el-dropdown-menu"),ke=R("el-dropdown"),se=R("el-tooltip"),xe=R("el-text");return y(),I(Y,null,[_(W).editor.showForm?N("",!0):(y(),P(is,{key:0,editMode:!0,config:n.config,"page-id":n.pageId,onAction:U},null,8,["config","page-id"])),w("div",sa,[v(ot,{name:"the-group",tag:"div",class:"fake-table"},{default:b(()=>[n.config.columns.length?N("",!0):(y(),P(T,{key:"empty",style:{padding:"10px 40px"},"image-size":120,description:"请添加表格列"})),(y(!0),I(Y,null,pe(i.value.drag,(G,Ie)=>(y(),I("div",{key:G.prop,"data-key":G.prop,draggable:i.value.drag.length>1,style:$e(u(G)),class:"fake-table-item",onDragstart:Ce=>_(f)(Ie),onDragover:Ce=>_(h)(Ce,Ie),onDrop:C[0]||(C[0]=Ce=>_(m)())},[w("div",{class:"fake-table-head f-vertical",style:$e({"text-align":G.align}),"data-head":G.prop},[C[14]||(C[14]=w("i",{class:"el-icon-rank el-icon--left"},null,-1)),v(_(Vi),{column:G},null,8,["column"])],12,ra),w("div",{class:Q(["fake-table-cell operation f-vertical",[G.align?`f-${G.align}`:void 0]])},[v(ke,{trigger:"click"},{dropdown:b(()=>[v(te,null,{default:b(()=>[(y(),I(Y,null,pe(o,Ce=>v(j,{key:Ce.key,onClick:lt=>Ce.click(Ie)},{default:b(()=>[w("i",{class:Q(["el-icon--left",Ce.icon])},null,2),q(" "+ee(Ce.label),1)]),_:2},1032,["onClick"])),64))]),_:2},1024)]),default:b(()=>[v($,{link:"",type:"primary"},{default:b(()=>[...C[15]||(C[15]=[q(" 配置列 ",-1),w("i",{class:"el-icon-arrow-down el-icon--right"},null,-1)])]),_:1})]),_:2},1024)],2),w("div",{class:Q(["fake-table-cell f-vertical",[G.align?`f-${G.align}`:void 0]])},[G.cellType==="text"?(y(),I(Y,{key:0},[q("文本内容")],64)):G.cellType==="js"?(y(),I("span",ua,"自定义代码")):N("",!0),v(_(Ki),{column:G,src:t},null,8,["column"])],2)],44,aa))),128)),p.value?(y(),I("div",{key:_(qe).Right,style:$e(u(p.value)),class:"fake-table-item"},[C[19]||(C[19]=w("div",{class:"fake-table-head fvc"},"操作",-1)),w("div",ca,[v(se,{effect:"dark",content:"配置【操作按钮】和【操作列】的宽度",placement:"top"},{default:b(()=>[v($,{circle:"",plain:"",type:"primary",size:"small",onClick:C[1]||(C[1]=G=>O())},{default:b(()=>[...C[16]||(C[16]=[w("i",{class:"el-icon-setting"},null,-1)])]),_:1})]),_:1}),v($,{circle:"",plain:"",type:"danger",size:"small",onClick:C[2]||(C[2]=G=>c())},{default:b(()=>[...C[17]||(C[17]=[w("i",{class:"el-icon-delete"},null,-1)])]),_:1})]),w("div",da,[n.config.actions.length?(y(),P(_(Oi),{key:0,row:{},index:1,max:n.config.actionMax,actions:n.config.actions,"page-id":n.pageId},null,8,["max","actions","page-id"])):(y(),P(xe,{key:1,type:"info"},{default:b(()=>[...C[18]||(C[18]=[q("待添加操作~",-1)])]),_:1}))])],4)):N("",!0),w("div",fa,[w("div",null,[w("p",null,[v($,{type:"primary",text:"",onClick:C[3]||(C[3]=G=>s("add"))},{default:b(()=>[...C[20]||(C[20]=[w("i",{class:"el-icon-plus el-icon--left"},null,-1),q(" 添加内容列 ",-1)])]),_:1})]),p.value?N("",!0):(y(),I("p",pa,[v($,{type:"primary",text:"",onClick:C[4]||(C[4]=G=>d())},{default:b(()=>[...C[21]||(C[21]=[w("i",{class:"el-icon-plus el-icon--left"},null,-1),q(" 添加操作列 ",-1)])]),_:1})]))])])]),_:1})]),!_(W).editor.showForm&&X.value?(y(),I("div",ma,[v($,{type:"primary",onClick:C[5]||(C[5]=G=>Z())},{default:b(()=>[...C[22]||(C[22]=[q("一键设置最小宽度",-1)])]),_:1}),C[23]||(C[23]=w("span",{class:"the-tag blue ml-[10px]"},[w("i",{class:"el-icon--left el-icon-info"}),q(" 当前表格列配置中存在没配置【宽度/最小宽度】，建议一件设置最小宽度，提高表格美观性。 ")],-1))])):N("",!0),v(ws,{show:l.show,"onUpdate:show":C[6]||(C[6]=G=>l.show=G),type:l.type,keys:l.keys,form:l.form,onSubmit:r},null,8,["show","type","keys","form"]),v(Xs,{show:g.show,"onUpdate:show":C[7]||(C[7]=G=>g.show=G),"select-key":n.config.selectKey,list:n.config.batchs,onSubmit:D,onOpenFormConfig:C[8]||(C[8]=G=>M("other",G))},null,8,["show","select-key","list"]),v(Ss,{show:A.show,"onUpdate:show":C[9]||(C[9]=G=>A.show=G),columnWidth:A.columnWidth,actionMax:A.actionMax,list:n.config.actions,onSubmit:E,onOpenFormConfig:C[10]||(C[10]=G=>M("other",G))},null,8,["show","columnWidth","actionMax","list"]),v(ia,{show:L.show,"onUpdate:show":C[11]||(C[11]=G=>L.show=G),list:n.config.operations,onSubmit:V,onOpenFormConfig:C[12]||(C[12]=G=>M("other",G))},null,8,["show","list"]),v(js,{show:_(W).editor.showForm,"onUpdate:show":C[13]||(C[13]=G=>_(W).editor.showForm=G),config:S.form,type:S.type,onChange:k},null,8,["show","config","type"])],64)}}}),ya={class:"the-curd-example"},va={name:"Example"},ba=le({...va,props:{selected:{type:String},type:{type:String}},emits:["choose"],setup(e,{emit:n}){const t=e,o=n,l=[{...Le("input"),placeholder:Ne.input},{...Le("select"),placeholder:Ne.select},{...Le("cascader"),placeholder:Ne.cascader},{...Le("date"),placeholder:Ne.date},{...Le("checkbox"),options:[{label:"多选-A",value:1},{label:"多选-B",value:2}],defaultValue:[1]},{...Le("radio"),options:[{label:"单选-A",value:"radio-1"},{label:"单选-B",value:"radio-2"}],defaultValue:"radio-1"},{...Le("switch"),defaultValue:!0},{...Le("textarea"),placeholder:Ne.textarea},{...Le("input-between"),placeholder:["范围区间操作","范围区间操作"]}],i=["radio","checkbox","textarea","switch"],s=K(()=>t.type==="search"?l.filter(r=>!i.includes(r.type)):l);return(r,a)=>(y(),I("div",ya,[(y(!0),I(Y,null,pe(s.value,f=>(y(),P(Nt,{key:f.type,"field-data":f,class:Q(["the-curd-example-item fvc",{"the-curd-selected":t.selected===f.type}]),readonly:"",onClick:h=>o("choose",f.type)},null,8,["field-data","class","onClick"]))),128))]))}}),wa={class:"f-vertical mb-[20px]"},xa={class:"the-title"},ka={key:0,class:"the-curd-target-box"},_a={name:"Editor"},Ea=le({..._a,props:{show:{type:Boolean,default:!1},config:{type:Object,required:!0}},emits:["update:show"],setup(e,{emit:n}){const t=e,o=n;function l(){o("update:show",!1)}const i=["checkbox","radio","switch"],s=["select","radio","checkbox","cascader"],r=["input","textarea","select","radio"],a=["input-between","checkbox","cascader"],f=["input","select","radio"],h=f.concat(a),m=K(()=>{let C=[];return u.formData&&u.formData.type==="date"&&(C=Cn[u.formData.dateType].map(($,j)=>({label:$.text,value:j}))),C.unshift({label:"将预览组件中的值设为默认",value:-1}),C}),u=me({step:0,formData:void 0});function p(C){u.step=C}const d={label:_e("请输入功能标题"),key:{required:!0,trigger:"blur",validator(C,T,$){T?U.includes(T)?$(new Error("当前键值已经被占用！")):$():$(new Error("绑定的键值不能为空"))}},format:_e("格式化规则不能为空"),separator:_e("请输入串联符号"),defaultValue:{required:!0,trigger:"blur",validator(C,T,$){const j=O();j===!0?$():$(new Error(j)),$()}},options:{required:!0,trigger:"blur",validator(C,T,$){const j=E();j===!0?$():$(new Error(j))}},show:{trigger:"blur",validator(C,T,$){if(T&&!T.includes("return")){$(new Error("逻辑代码必须包含 return 关键字"));return}$()}}},c=K(()=>{const C=u.formData?u.formData.type:"",T=[{label:"组件标题",prop:"label",type:"input",placeholder:d.label.message},{label:"绑定的键值",prop:"key",type:"input",placeholder:"请输入绑定的键值",class:"value-box-short"},{label:"标题宽度",prop:"labelWidth",type:"number",placeholder:"例如：120(px)",class:"value-box-short"},{label:"组件宽度",prop:"valueWidth",type:"number",placeholder:"例如：140(px)",show:()=>!i.includes(C),class:"value-box-short"},{label:"标题提示文案",prop:"tooltip",type:"input",placeholder:"鼠标移上文字的提示文案"},{label:"提示/规则文字",prop:"placeholder",type:"slot",slotName:"ruleText"},{label:"是否必填",prop:"required",type:"switch"}];if(h.includes(C)){const $={label:"绑定值为数字类型",prop:"valueType",type:"switch",activeValue:"number",inactiveValue:"string"};a.includes(C)&&($.activeValue="array<number>",$.inactiveValue="array"),s.includes(C)&&($.tips="设为数字类型之后，将会在保存时校验选项数据"),T.push($)}if(C!=="date"&&T.push({label:"组件默认值",prop:"defaultValue",type:"slot",slotName:"defaultValue"}),C==="input-between"&&T.push({label:"串联符号",prop:"separator",type:"input",placeholder:d.separator.message,class:"value-box-short"}),s.includes(C)){const $=[{label:"选项数据",prop:"options",type:"slot",slotName:"options"},{label:"数据展示字段",prop:"optionSetting.label",type:"input",placeholder:"不填则使用 label",class:"value-box-short"},{label:"数据值字段",prop:"optionSetting.value",type:"input",placeholder:"不填则使用 value",class:"value-box-short"}];if(C==="cascader"){const j=[{label:"下级字段",prop:"optionSetting.children",type:"input",placeholder:"不填则使用 children",class:"value-box-short"},{label:"是否多选",prop:"multiple",type:"switch"},{label:"允许只选中某一项",prop:"checkStrictly",type:"switch"}];$.push(...j)}if(C==="select"){const j=u.formData;$.push({label:"是否为多选",prop:"multiple",type:"switch",onChange(te){x.defaultValue=JSON.stringify({value:te?[]:""})}},{label:"选中标签最多数量",prop:"max",type:"number",placeholder:"请输入数量，默认1",class:"value-box-short",show:()=>!!j.multiple},{label:"串联显示名称",prop:"joinShow",type:"switch",tips:"例如【英雄联盟-12】"})}T.push(...$)}if(C==="date"){const $=[{label:"日期类型",prop:"dateType",type:"select",options:Mn,noClear:!0,onChange:k,class:"value-box-short"},{label:"日期默认值",prop:"shortcutIndex",type:"select",options:m.value,placeholder:"请选择",class:"value-box-short"},{label:"格式化规则",prop:"format",type:"input",tooltip:zn.formatTips,class:"value-box-short"}];T.push(...$)}return W.type==="table"&&T.push({label:"表单显示逻辑",prop:"show",type:"textarea",placeholder:"请输入条件代码，为空则默认展示",tooltip:zn.showTips}),T}),g=de(),x=me({options:"",defaultValue:""});function D(C){C.type!=="date"&&(x.defaultValue=JSON.stringify({value:C.defaultValue})),s.includes(C.type)&&(x.options=JSON.stringify(C.options))}function A(C){var $;const T=Le(C,"",W.type==="search");u.formData=T,D(T),($=g.value)==null||$.clearValidate(),p(1)}function O(){const C='输入的格式必须为 { "value": "input value" }',T=x.defaultValue;if(!T)return C;const $=u.formData.type,j=u.formData.valueType,te=Ne[$],ke=$==="select"&&u.formData.multiple;try{const se=JSON.parse(T);if(!ie(se,"object"))return C;if($==="switch"&&!ie(se.value,"boolean"))return`${te}的绑定值应该为 boolean 类型`;if(a.includes($)||ke){if(!ie(se.value,"array"))return`${te}的绑定值应该为 array 类型`;if(j==="array<number>"&&se.value.some(xe=>xe!==""&&!ie(xe,"number")))return"数组中只能出现数字"}if(r.includes($)&&!ke&&!["string","number"].includes(We(se.value)))return`${te}的绑定值应该为 string/number 类型`;if($==="date"){const xe=u.formData;if(fn.includes(xe.dateType)){if(!ie(se.value,"array"))return"范围日期绑定值应该为 array 类型"}else if(!ie(se.value,"string"))return"日期类型绑定值应该为 string 类型"}if(f.includes($)&&j==="number"&&se.value!==""&&!ie(se.value,"number"))return`${te}的绑定值应该为 number 类型`}catch(se){return console.warn("检查默认值是否合法错误 >>",se),`${se}`}return!0}function E(){const C=x.options;if(!C)return"选项数据不能为空！";try{const T=JSON.parse(C);if(!ie(T,"array"))return"选项数据格式不正确，需要为数组类型！";const $=u.formData,j=$.optionSetting.value||"value",te=[void 0,null];for(let ke=0;ke<T.length;ke++){const se=T[ke];if(!ie(se,"object"))return"数组项必须为对象！";if(te.includes(se[j]))return`数组项的值不能为${te.join("/")}`;if(["array<number>","number"].includes($.valueType)&&!ie(se[j],"number")&&se[j]!=="")return"数组项的值必须为 number 类型"}return!0}catch(T){return console.warn("checkOptions >>",T),"不合法的JSON,注意使用双引号,结尾不能为逗号等"}}function S(){E()===!0&&(u.formData.options=JSON.parse(x.options))}function M(){if(O()===!0){const T=u.formData,$=JSON.parse(x.defaultValue).value;T.type!=="date"&&(T.defaultValue=$)}}function k(C){const T=Mn.find(j=>j.value===C),$=u.formData;$.shortcutIndex="",fn.includes(T.value)?($.value=[],$.valueType="array"):($.value="",$.valueType="string"),$.formatShow=T.formatShow,$.format=T.format}function L(C){return/^[+-]?(\d|([1-9]\d+))(\.\d+)?$/.test(C)}function V(){var C;(C=g.value)==null||C.validate(T=>{if(Fo(".the-curd-editor-form",T),!T)return;M(),s.includes(u.formData.type)&&S();const $=W.editor,j=ce(u.formData,!0);if(s.includes(j.type)&&S(),j.valueType||(j.valueType=We(j.defaultValue)),s.includes(j.type)&&["number","array<number>"].includes(j.valueType)){let se=j.optionSetting.value;se||(se="value",j.optionSetting.value=se);for(let xe=0;xe<j.options.length;xe++){const G=j.options[xe],Ie=G[se];if([null,void 0].includes(Ie))return Te.error("数据值字段与选项数据不匹配，请检查！");if(L(Ie.toString()))G[se]=Number(Ie);else{const Ce=G[j.optionSetting.label];return Te.error(`选项数据中【${Ce}】的值应该为数字！`)}}}j.type==="date"&&(j.shortcutIndex===-1&&(j.shortcutDate=j.value),j.value=j.valueType==="array"?[]:"");const te={search(se){se?t.config.search.list.push(j):t.config.search.list[$.index]=j},table(se){se?$.form.fields.push(j):$.form.fields[$.index]=j}},ke=$.action!=="edit";te[W.type](ke),l()})}let U=[];function X(C){const T=W.editor;U=[],{search(){U=t.config.search.list.map(j=>j.key)},table(){U=T.form.fields.map(j=>j.key)}}[W.type](),C&&(U=U.filter(j=>j!==C))}function Z(){u.step=0,u.formData=void 0}Ee(()=>t.show,function(C){if(!C)return;const T=W.editor;if(T.action==="add")Z(),X();else{const $=T.index;({search(){u.formData=ce(t.config.search.list[$],!0)},table(){var te;u.formData=ce((te=T.form)==null?void 0:te.fields[$],!0)}})[W.type](),T.action==="copy"&&(u.formData.id+=`${u.formData.id}-copy-${Date.now()}`,u.formData.key=""),D(u.formData),X(u.formData.key),u.step=1}});const B=K(()=>{let C=`配置${W.type==="search"?"筛选项":"表单项"}`;return u.step&&u.formData&&(C=`${C} 《${Ne[u.formData.type]}》`),C});return(C,T)=>{const $=R("el-button"),j=R("el-input"),te=R("el-text"),ke=R("el-form"),se=R("base-dialog");return y(),P(se,{show:t.show,title:B.value,"z-index":_(ct)()+10,width:"680px",onClose:l,onClosed:Z},{footer:b(()=>[v($,{onClick:l},{default:b(()=>[...T[12]||(T[12]=[q("退出编辑",-1)])]),_:1}),u.step===1?(y(),I(Y,{key:0},[v($,{type:"warning",onClick:T[6]||(T[6]=xe=>p(0))},{default:b(()=>[...T[13]||(T[13]=[w("i",{class:"el-icon--left el-icon-back"},null,-1),q(" 上一步 ",-1)])]),_:1}),_(W).editor.action==="edit"?(y(),P($,{key:0,type:"success",onClick:V},{default:b(()=>[...T[14]||(T[14]=[w("i",{class:"el-icon--left el-icon-edit"},null,-1),q(" 保存修改 ",-1)])]),_:1})):(y(),P($,{key:1,type:"primary",onClick:V},{default:b(()=>[T[15]||(T[15]=w("i",{class:"el-icon--left el-icon-plus"},null,-1)),q(" "+ee(_(W).editor.action==="copy"?"新增复制":"新 增"),1)]),_:1}))],64)):N("",!0)]),default:b(()=>{var xe;return[u.step===0?(y(),I(Y,{key:0},[T[7]||(T[7]=w("h2",{class:"the-title mb-[20px]"},"第1步：点击选取组件",-1)),v(ba,{selected:(xe=u.formData)==null?void 0:xe.type,type:_(W).type,onChoose:A},null,8,["selected","type"])],64)):N("",!0),u.step===1&&u.formData?(y(),I(Y,{key:1},[w("div",wa,[w("h2",xa,"第2步：配置"+ee(_(Ne)[u.formData.type]),1),T[9]||(T[9]=w("div",{class:"f1"},null,-1)),v($,{size:"small",type:"warning",onClick:T[0]||(T[0]=G=>p(0))},{default:b(()=>[...T[8]||(T[8]=[w("i",{class:"el-icon--left el-icon-back"},null,-1),q(" 上一步 ",-1)])]),_:1})]),u.formData?(y(),I("div",ka,[v(Nt,{"field-data":u.formData,"edit-mode":""},null,8,["field-data"])])):N("",!0),u.formData?(y(),P(ke,{key:1,ref_key:"formRef",ref:g,class:"the-curd-editor-form",model:u.formData,rules:d,"label-position":"right","label-width":"140px"},{default:b(()=>[v(_(nt),{data:u.formData,list:c.value},{ruleText:b(()=>[u.formData.type==="input-between"?(y(),I(Y,{key:0},[v(j,{modelValue:u.formData.placeholder[0],"onUpdate:modelValue":T[1]||(T[1]=G=>u.formData.placeholder[0]=G),class:"f1",clearable:"",placeholder:"请输入提示-1"},null,8,["modelValue"]),v(te,{style:{padding:"0 6px"}},{default:b(()=>[...T[10]||(T[10]=[q("-",-1)])]),_:1}),v(j,{modelValue:u.formData.placeholder[1],"onUpdate:modelValue":T[2]||(T[2]=G=>u.formData.placeholder[1]=G),class:"f1",clearable:"",placeholder:"请输入提示-2"},null,8,["modelValue"])],64)):(y(),P(j,{key:1,modelValue:u.formData.placeholder,"onUpdate:modelValue":T[3]||(T[3]=G=>u.formData.placeholder=G),clearable:"",placeholder:"请输入规则提示/输入框提示文字"},null,8,["modelValue"]))]),defaultValue:b(()=>[v(j,{modelValue:x.defaultValue,"onUpdate:modelValue":T[4]||(T[4]=G=>x.defaultValue=G),type:"textarea",clearable:"",placeholder:"请输入JSON，值为 value",onBlur:M},null,8,["modelValue"])]),options:b(()=>[v(j,{modelValue:x.options,"onUpdate:modelValue":T[5]||(T[5]=G=>x.options=G),type:"textarea",placeholder:"请输入数组JSON",style:{"margin-bottom":"4px"},onBlur:S},null,8,["modelValue"]),v($,{link:"",type:"primary"},{default:b(()=>[...T[11]||(T[11]=[w("a",{href:"https://www.json.cn/",target:"_blank"}," JSON编辑工具 ",-1)])]),_:1})]),_:1},8,["data","list"])]),_:1},8,["model"])):N("",!0)],64)):N("",!0)]}),_:1},8,["show","title","z-index"])}}}),Ca={class:"w-full h-full overflow-auto"},$a={class:"w-full max-w-[680px]"},Da={name:"CurdPopupConfig"},Sa=le({...Da,setup(e){const n=[{label:"筛选部分",value:"search"},{label:"表格部分",value:"table"}],t=[{label:"整体文字宽度",prop:"labelWidth",type:"number",placeholder:"例如：120(px)",class:"min-w-[200px]"},{label:"文字靠右对齐",prop:"labelRight",type:"switch"},{label:"查询数据校验逻辑代码",prop:"validateCode",type:"slot",slotName:"validateCode",tooltip:ys}],o={validateCode:{required:!1,trigger:"blur",validator(m,u,p){u&&!u.includes("return")?p(new Error("函数必须带有 return 字段")):p()}}},l=me({loading:!1}),i=K(()=>W.editor.show||W.editor.showForm);function s(){W.show=!1,W.config={},W.editor=mn()}function r(){Pt(JSON.stringify(W.config),()=>Te.success("复制配置JSON成功~"))}function a(){Ro(m=>{W.config=m})}function f(){W.callback(W.config),s()}function h(){W.editor=mn()}return(m,u)=>{const p=R("el-radio-button"),d=R("el-radio-group"),c=R("el-form"),g=R("el-button");return y(),P(Lo,{show:_(W).show,"onUpdate:show":u[7]||(u[7]=x=>_(W).show=x),title:`${_(W).title} (${_(W).pageId})`,onClose:s},{top:b(()=>[v(d,{modelValue:_(W).type,"onUpdate:modelValue":u[0]||(u[0]=x=>_(W).type=x),onChange:h},{default:b(()=>[(y(),I(Y,null,pe(n,x=>v(p,{label:x.label,value:x.value,key:x.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),footer:b(()=>[v(g,{disabled:i.value,onClick:u[3]||(u[3]=x=>s())},{default:b(()=>[...u[10]||(u[10]=[q("退出编辑",-1)])]),_:1},8,["disabled"]),v(g,{type:"success",plain:"",onClick:u[4]||(u[4]=x=>r())},{default:b(()=>[...u[11]||(u[11]=[w("i",{class:"el-icon--left el-icon-document-copy"},null,-1),q(" 复制配置 ",-1)])]),_:1}),v(g,{type:"primary",plain:"",onClick:u[5]||(u[5]=x=>a())},{default:b(()=>[...u[12]||(u[12]=[w("i",{class:"el-icon--left el-icon-edit-outline"},null,-1),q(" 回填配置 ",-1)])]),_:1}),v(g,{type:"primary",loading:l.loading,disabled:i.value,onClick:u[6]||(u[6]=x=>f())},{default:b(()=>[...u[13]||(u[13]=[q(" 保存配置 ",-1)])]),_:1},8,["loading","disabled"])]),default:b(()=>[w("div",Ca,[_(W).type==="search"?(y(),I(Y,{key:0},[u[8]||(u[8]=w("div",{class:"pl-[10px] mb-[10px]"},[w("h2",{class:"the-title is-line"},"基础配置")],-1)),v(c,{model:_(W).config.search,rules:o,"label-position":"right","label-width":"180px"},{default:b(()=>[v(_(nt),{data:_(W).config.search,list:t},{validateCode:b(()=>[w("div",$a,[v(_(gt),{value:_(W).config.search.validateCode,"onUpdate:value":u[1]||(u[1]=x=>_(W).config.search.validateCode=x),type:_(tt).Map.SearchValidate},null,8,["value","type"])])]),_:1},8,["data"])]),_:1},8,["model"]),u[9]||(u[9]=w("div",{class:"pl-[10px] mb-[20px]"},[w("h2",{class:"the-title is-line"},"筛选条件配置")],-1)),v(os,{search:_(W).config.search,"edit-mode":""},null,8,["search"])],64)):N("",!0),_(W).type==="table"?(y(),P(ga,{key:1,config:_(W).config.table,"page-id":_(W).pageId},null,8,["config","page-id"])):N("",!0)]),v(Ea,{show:_(W).editor.show,"onUpdate:show":u[2]||(u[2]=x=>_(W).editor.show=x),config:_(W).config},null,8,["show","config"])]),_:1},8,["show","title"])}}}),Ta={name:"App",components:{ImageViewer:Di,CurdPopupConfig:Sa},setup(){let n;function t(){const o=Date.now(),{origin:l,pathname:i}=location,s=`${l+i}version.json?t=${o}`;fetch(s).then(r=>r.json()).then(r=>{r.version&&r.version!==window._version?(clearTimeout(n),Ke({title:"版本更新提示",content:`
            <div class="text-[14px]">
              <p>当前页面有新版本发布, 是否更新？</p>
              <p>新版发布时间：<span class="text-amber-600">${Qe(r.version)}</span></p>
              <p>不更新则需要手动刷新页面，否则影响部分功能使用。</p>
            </div>
            `,confirmText:"更新",cancelText:"取消(关闭提醒)",confirm(){location.reload()}})):n=setTimeout(t,18e4)}).catch(r=>{console.error("检查版本出错 >>",r),clearTimeout(n)})}return He(function(){window._version&&!kt.isDev&&t()}),{zhCn:ui}}},Dn=(e,n)=>{const t=e.__vccOpts||e;for(const[o,l]of n)t[o]=l;return t};function Aa(e,n,t,o,l,i){const s=R("router-view"),r=R("ImageViewer"),a=R("CurdPopupConfig"),f=R("el-config-provider");return y(),P(f,{locale:o.zhCn},{default:b(()=>[v(s),v(r),v(a)]),_:1},8,["locale"])}const Ia=Dn(Ta,[["render",Aa]]),Zt=[];function Ra(e,n){let t;Zt.length>1?t=Zt.shift():(t=document.createElement("div"),t.className="ripple");const o=n.getBoundingClientRect(),l=n.getAttribute("color");let i=Math.max(o.width,o.height);i>200&&(i=200),t.style.height=t.style.width=i+"px",t.style.backgroundColor=l||"rgba(255, 255, 255, .45)",n.appendChild(t);const s=e.touches,r=s?s[0].clientY:e.clientY,a=s?s[0].clientX:e.clientX,f=r-o.top-t.offsetHeight/2,h=a-o.left-t.offsetWidth/2;t.style.top=f+"px",t.style.left=h+"px";function m(){t.removeEventListener("animationend",m),n.removeChild(t),Zt.push(t)}t.addEventListener("animationend",m)}const Oa={class:"base-dialog-title f-between f-vertical"},Fa={key:0,class:"base-dialog-text"},La={class:"base-dialog-body"},Pa={key:0,class:"base-dialog-footer"},Ba={name:"base-dialog"},Na=le({...Ba,props:{title:{type:String,default:"提示"},show:{type:Boolean,default:!1},width:{type:String,default:"50%"},closeByMask:{type:Boolean,default:!1},appendToBody:{type:Boolean,default:!1},zIndex:{type:Number,default:()=>ct()}},emits:["close","update:show","closed","opened"],setup(e,{emit:n}){const t=e,o=n,l=de(),i=de(),s=de(),r=de(!1);Ee(()=>t.show,function(p){p?setTimeout(()=>{r.value=!0},0):r.value=!1},{immediate:!0});function a(p){if(!t.show||r.value||l.value.contains(p.target))return;const{clientWidth:d,clientHeight:c}=l.value,g=d/2,x=c/2,D=p.clientY-x,O=`${(p.clientX-g)/d*100}vw`,E=`${D/c*100}vh`;f(O,E)}function f(p,d){const c=s.value;c&&(c.style.setProperty("--content-x",p),c.style.setProperty("--content-y",d))}function h(p){(p&&p.target===l.value&&t.closeByMask||p&&p.target===i.value)&&(o("update:show",!1),o("close"))}function m(){r.value&&f("0","0"),o("closed")}function u(){o("opened")}return He(function(){document.addEventListener("click",a)}),at(function(){document.removeEventListener("click",a)}),(p,d)=>{const c=R("el-scrollbar");return y(),I("section",null,[(y(),P(gl,{to:"body",disabled:!t.appendToBody},[v(Ze,{name:"fade"},{default:b(()=>[ze(w("div",{ref_key:"el",ref:l,class:"base-dialog fvc",style:$e({"z-index":t.zIndex}),onClick:h},[v(Ze,{name:"dialog-move",onAfterLeave:m,onAfterEnter:u},{default:b(()=>[ze(w("div",{ref_key:"contentBox",ref:s,class:"base-dialog-content flex",style:$e({width:t.width})},[w("div",Oa,[p.$slots.header?N("",!0):(y(),I("h2",Fa,ee(e.title),1)),Me(p.$slots,"header"),w("i",{class:"base-dialog-icon",ref_key:"closeBtn",ref:i,onClick:h},null,512)]),w("div",La,[v(c,{"max-height":"76vh"},{default:b(()=>[Me(p.$slots,"default")]),_:3})]),p.$slots.footer?(y(),I("div",Pa,[Me(p.$slots,"footer")])):N("",!0)],4),[[et,r.value]])]),_:3})],4),[[et,t.show]])]),_:3})],8,["disabled"]))])}}}),Va="modulepreload",Ma=function(e,n){return new URL(e,n).href},Yn={},ye=function(n,t,o){let l=Promise.resolve();if(t&&t.length>0){const i=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),r=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));l=Promise.all(t.map(a=>{if(a=Ma(a,o),a in Yn)return;Yn[a]=!0;const f=a.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(!!o)for(let p=i.length-1;p>=0;p--){const d=i[p];if(d.href===a&&(!f||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${h}`))return;const u=document.createElement("link");if(u.rel=f?"stylesheet":Va,f||(u.as="script",u.crossOrigin=""),u.href=a,r&&u.setAttribute("nonce",r),document.head.appendChild(u),f)return new Promise((p,d)=>{u.addEventListener("load",p),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})}))}return l.then(()=>n()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})};/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const ut=typeof document<"u";function Po(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function ja(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Po(e.default)}const ue=Object.assign;function en(e,n){const t={};for(const o in n){const l=n[o];t[o]=Oe(l)?l.map(e):e(l)}return t}const _t=()=>{},Oe=Array.isArray;function Jn(e,n){const t={};for(const o in e)t[o]=o in n?n[o]:e[o];return t}const Bo=/#/g,qa=/&/g,Ua=/\//g,za=/=/g,Wa=/\?/g,No=/\+/g,Ha=/%5B/g,Ga=/%5D/g,Vo=/%5E/g,Ya=/%60/g,Mo=/%7B/g,Ja=/%7C/g,jo=/%7D/g,Ka=/%20/g;function Sn(e){return e==null?"":encodeURI(""+e).replace(Ja,"|").replace(Ha,"[").replace(Ga,"]")}function Xa(e){return Sn(e).replace(Mo,"{").replace(jo,"}").replace(Vo,"^")}function hn(e){return Sn(e).replace(No,"%2B").replace(Ka,"+").replace(Bo,"%23").replace(qa,"%26").replace(Ya,"`").replace(Mo,"{").replace(jo,"}").replace(Vo,"^")}function Qa(e){return hn(e).replace(za,"%3D")}function Za(e){return Sn(e).replace(Bo,"%23").replace(Wa,"%3F")}function er(e){return Za(e).replace(Ua,"%2F")}function Ct(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const tr=/\/$/,nr=e=>e.replace(tr,"");function tn(e,n,t="/"){let o,l={},i="",s="";const r=n.indexOf("#");let a=n.indexOf("?");return a=r>=0&&a>r?-1:a,a>=0&&(o=n.slice(0,a),i=n.slice(a,r>0?r:n.length),l=e(i.slice(1))),r>=0&&(o=o||n.slice(0,r),s=n.slice(r,n.length)),o=sr(o??n,t),{fullPath:o+i+s,path:o,query:l,hash:Ct(s)}}function or(e,n){const t=n.query?e(n.query):"";return n.path+(t&&"?")+t+(n.hash||"")}function Kn(e,n){return!n||!e.toLowerCase().startsWith(n.toLowerCase())?e:e.slice(n.length)||"/"}function lr(e,n,t){const o=n.matched.length-1,l=t.matched.length-1;return o>-1&&o===l&&dt(n.matched[o],t.matched[l])&&qo(n.params,t.params)&&e(n.query)===e(t.query)&&n.hash===t.hash}function dt(e,n){return(e.aliasOf||e)===(n.aliasOf||n)}function qo(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var t in e)if(!ir(e[t],n[t]))return!1;return!0}function ir(e,n){return Oe(e)?Xn(e,n):Oe(n)?Xn(n,e):(e==null?void 0:e.valueOf())===(n==null?void 0:n.valueOf())}function Xn(e,n){return Oe(n)?e.length===n.length&&e.every((t,o)=>t===n[o]):e.length===1&&e[0]===n}function sr(e,n){if(e.startsWith("/"))return e;if(!e)return n;const t=n.split("/"),o=e.split("/"),l=o[o.length-1];(l===".."||l===".")&&o.push("");let i=t.length-1,s,r;for(s=0;s<o.length;s++)if(r=o[s],r!==".")if(r==="..")i>1&&i--;else break;return t.slice(0,i).join("/")+"/"+o.slice(s).join("/")}const Ge={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let gn=function(e){return e.pop="pop",e.push="push",e}({}),nn=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function ar(e){if(!e)if(ut){const n=document.querySelector("base");e=n&&n.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),nr(e)}const rr=/^[^#]+#/;function ur(e,n){return e.replace(rr,"#")+n}function cr(e,n){const t=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:n.behavior,left:o.left-t.left-(n.left||0),top:o.top-t.top-(n.top||0)}}const Vt=()=>({left:window.scrollX,top:window.scrollY});function dr(e){let n;if("el"in e){const t=e.el,o=typeof t=="string"&&t.startsWith("#"),l=typeof t=="string"?o?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!l)return;n=cr(l,e)}else n=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.scrollX,n.top!=null?n.top:window.scrollY)}function Qn(e,n){return(history.state?history.state.position-n:-1)+e}const yn=new Map;function fr(e,n){yn.set(e,n)}function pr(e){const n=yn.get(e);return yn.delete(e),n}function mr(e){return typeof e=="string"||e&&typeof e=="object"}function Uo(e){return typeof e=="string"||typeof e=="symbol"}let he=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const zo=Symbol("");he.MATCHER_NOT_FOUND+"",he.NAVIGATION_GUARD_REDIRECT+"",he.NAVIGATION_ABORTED+"",he.NAVIGATION_CANCELLED+"",he.NAVIGATION_DUPLICATED+"";function ft(e,n){return ue(new Error,{type:e,[zo]:!0},n)}function je(e,n){return e instanceof Error&&zo in e&&(n==null||!!(e.type&n))}const hr=["params","query","hash"];function gr(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const n={};for(const t of hr)t in e&&(n[t]=e[t]);return JSON.stringify(n,null,2)}function yr(e){const n={};if(e===""||e==="?")return n;const t=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<t.length;++o){const l=t[o].replace(No," "),i=l.indexOf("="),s=Ct(i<0?l:l.slice(0,i)),r=i<0?null:Ct(l.slice(i+1));if(s in n){let a=n[s];Oe(a)||(a=n[s]=[a]),a.push(r)}else n[s]=r}return n}function Zn(e){let n="";for(let t in e){const o=e[t];if(t=Qa(t),o==null){o!==void 0&&(n+=(n.length?"&":"")+t);continue}(Oe(o)?o.map(l=>l&&hn(l)):[o&&hn(o)]).forEach(l=>{l!==void 0&&(n+=(n.length?"&":"")+t,l!=null&&(n+="="+l))})}return n}function vr(e){const n={};for(const t in e){const o=e[t];o!==void 0&&(n[t]=Oe(o)?o.map(l=>l==null?null:""+l):o==null?o:""+o)}return n}const br=Symbol(""),eo=Symbol(""),Mt=Symbol(""),Tn=Symbol(""),vn=Symbol("");function vt(){let e=[];function n(o){return e.push(o),()=>{const l=e.indexOf(o);l>-1&&e.splice(l,1)}}function t(){e=[]}return{add:n,list:()=>e.slice(),reset:t}}function Ye(e,n,t,o,l,i=s=>s()){const s=o&&(o.enterCallbacks[l]=o.enterCallbacks[l]||[]);return()=>new Promise((r,a)=>{const f=u=>{u===!1?a(ft(he.NAVIGATION_ABORTED,{from:t,to:n})):u instanceof Error?a(u):mr(u)?a(ft(he.NAVIGATION_GUARD_REDIRECT,{from:n,to:u})):(s&&o.enterCallbacks[l]===s&&typeof u=="function"&&s.push(u),r())},h=i(()=>e.call(o&&o.instances[l],n,t,f));let m=Promise.resolve(h);e.length<3&&(m=m.then(f)),m.catch(u=>a(u))})}function on(e,n,t,o,l=i=>i()){const i=[];for(const s of e)for(const r in s.components){let a=s.components[r];if(!(n!=="beforeRouteEnter"&&!s.instances[r]))if(Po(a)){const f=(a.__vccOpts||a)[n];f&&i.push(Ye(f,t,o,s,r,l))}else{let f=a();i.push(()=>f.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${r}" at "${s.path}"`);const m=ja(h)?h.default:h;s.mods[r]=h,s.components[r]=m;const u=(m.__vccOpts||m)[n];return u&&Ye(u,t,o,s,r,l)()}))}}return i}function wr(e,n){const t=[],o=[],l=[],i=Math.max(n.matched.length,e.matched.length);for(let s=0;s<i;s++){const r=n.matched[s];r&&(e.matched.find(f=>dt(f,r))?o.push(r):t.push(r));const a=e.matched[s];a&&(n.matched.find(f=>dt(f,a))||l.push(a))}return[t,o,l]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let xr=()=>location.protocol+"//"+location.host;function Wo(e,n){const{pathname:t,search:o,hash:l}=n,i=e.indexOf("#");if(i>-1){let s=l.includes(e.slice(i))?e.slice(i).length:1,r=l.slice(s);return r[0]!=="/"&&(r="/"+r),Kn(r,"")}return Kn(t,e)+o+l}function kr(e,n,t,o){let l=[],i=[],s=null;const r=({state:u})=>{const p=Wo(e,location),d=t.value,c=n.value;let g=0;if(u){if(t.value=p,n.value=u,s&&s===d){s=null;return}g=c?u.position-c.position:0}else o(p);l.forEach(x=>{x(t.value,d,{delta:g,type:gn.pop,direction:g?g>0?nn.forward:nn.back:nn.unknown})})};function a(){s=t.value}function f(u){l.push(u);const p=()=>{const d=l.indexOf(u);d>-1&&l.splice(d,1)};return i.push(p),p}function h(){if(document.visibilityState==="hidden"){const{history:u}=window;if(!u.state)return;u.replaceState(ue({},u.state,{scroll:Vt()}),"")}}function m(){for(const u of i)u();i=[],window.removeEventListener("popstate",r),window.removeEventListener("pagehide",h),document.removeEventListener("visibilitychange",h)}return window.addEventListener("popstate",r),window.addEventListener("pagehide",h),document.addEventListener("visibilitychange",h),{pauseListeners:a,listen:f,destroy:m}}function to(e,n,t,o=!1,l=!1){return{back:e,current:n,forward:t,replaced:o,position:window.history.length,scroll:l?Vt():null}}function _r(e){const{history:n,location:t}=window,o={value:Wo(e,t)},l={value:n.state};l.value||i(o.value,{back:null,current:o.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function i(a,f,h){const m=e.indexOf("#"),u=m>-1?(t.host&&document.querySelector("base")?e:e.slice(m))+a:xr()+e+a;try{n[h?"replaceState":"pushState"](f,"",u),l.value=f}catch(p){console.error(p),t[h?"replace":"assign"](u)}}function s(a,f){i(a,ue({},n.state,to(l.value.back,a,l.value.forward,!0),f,{position:l.value.position}),!0),o.value=a}function r(a,f){const h=ue({},l.value,n.state,{forward:a,scroll:Vt()});i(h.current,h,!0),i(a,ue({},to(o.value,a,null),{position:h.position+1},f),!1),o.value=a}return{location:o,state:l,push:r,replace:s}}function Er(e){e=ar(e);const n=_r(e),t=kr(e,n.state,n.location,n.replace);function o(i,s=!0){s||t.pauseListeners(),history.go(i)}const l=ue({location:"",base:e,go:o,createHref:ur.bind(null,e)},n,t);return Object.defineProperty(l,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(l,"state",{enumerable:!0,get:()=>n.state.value}),l}function Cr(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Er(e)}let it=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var we=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(we||{});const $r={type:it.Static,value:""},Dr=/[a-zA-Z0-9_]/;function Sr(e){if(!e)return[[]];if(e==="/")return[[$r]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function n(p){throw new Error(`ERR (${t})/"${f}": ${p}`)}let t=we.Static,o=t;const l=[];let i;function s(){i&&l.push(i),i=[]}let r=0,a,f="",h="";function m(){f&&(t===we.Static?i.push({type:it.Static,value:f}):t===we.Param||t===we.ParamRegExp||t===we.ParamRegExpEnd?(i.length>1&&(a==="*"||a==="+")&&n(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),i.push({type:it.Param,value:f,regexp:h,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):n("Invalid state to consume buffer"),f="")}function u(){f+=a}for(;r<e.length;){if(a=e[r++],a==="\\"&&t!==we.ParamRegExp){o=t,t=we.EscapeNext;continue}switch(t){case we.Static:a==="/"?(f&&m(),s()):a===":"?(m(),t=we.Param):u();break;case we.EscapeNext:u(),t=o;break;case we.Param:a==="("?t=we.ParamRegExp:Dr.test(a)?u():(m(),t=we.Static,a!=="*"&&a!=="?"&&a!=="+"&&r--);break;case we.ParamRegExp:a===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+a:t=we.ParamRegExpEnd:h+=a;break;case we.ParamRegExpEnd:m(),t=we.Static,a!=="*"&&a!=="?"&&a!=="+"&&r--,h="";break;default:n("Unknown state");break}}return t===we.ParamRegExp&&n(`Unfinished custom RegExp for param "${f}"`),m(),s(),l}const no="[^/]+?",Tr={sensitive:!1,strict:!1,start:!0,end:!0};var De=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(De||{});const Ar=/[.+*?^${}()[\]/\\]/g;function Ir(e,n){const t=ue({},Tr,n),o=[];let l=t.start?"^":"";const i=[];for(const f of e){const h=f.length?[]:[De.Root];t.strict&&!f.length&&(l+="/");for(let m=0;m<f.length;m++){const u=f[m];let p=De.Segment+(t.sensitive?De.BonusCaseSensitive:0);if(u.type===it.Static)m||(l+="/"),l+=u.value.replace(Ar,"\\$&"),p+=De.Static;else if(u.type===it.Param){const{value:d,repeatable:c,optional:g,regexp:x}=u;i.push({name:d,repeatable:c,optional:g});const D=x||no;if(D!==no){p+=De.BonusCustomRegExp;try{`${D}`}catch(O){throw new Error(`Invalid custom RegExp for param "${d}" (${D}): `+O.message)}}let A=c?`((?:${D})(?:/(?:${D}))*)`:`(${D})`;m||(A=g&&f.length<2?`(?:/${A})`:"/"+A),g&&(A+="?"),l+=A,p+=De.Dynamic,g&&(p+=De.BonusOptional),c&&(p+=De.BonusRepeatable),D===".*"&&(p+=De.BonusWildcard)}h.push(p)}o.push(h)}if(t.strict&&t.end){const f=o.length-1;o[f][o[f].length-1]+=De.BonusStrict}t.strict||(l+="/?"),t.end?l+="$":t.strict&&!l.endsWith("/")&&(l+="(?:/|$)");const s=new RegExp(l,t.sensitive?"":"i");function r(f){const h=f.match(s),m={};if(!h)return null;for(let u=1;u<h.length;u++){const p=h[u]||"",d=i[u-1];m[d.name]=p&&d.repeatable?p.split("/"):p}return m}function a(f){let h="",m=!1;for(const u of e){(!m||!h.endsWith("/"))&&(h+="/"),m=!1;for(const p of u)if(p.type===it.Static)h+=p.value;else if(p.type===it.Param){const{value:d,repeatable:c,optional:g}=p,x=d in f?f[d]:"";if(Oe(x)&&!c)throw new Error(`Provided param "${d}" is an array but it is not repeatable (* or + modifiers)`);const D=Oe(x)?x.join("/"):x;if(!D)if(g)u.length<2&&(h.endsWith("/")?h=h.slice(0,-1):m=!0);else throw new Error(`Missing required param "${d}"`);h+=D}}return h||"/"}return{re:s,score:o,keys:i,parse:r,stringify:a}}function Rr(e,n){let t=0;for(;t<e.length&&t<n.length;){const o=n[t]-e[t];if(o)return o;t++}return e.length<n.length?e.length===1&&e[0]===De.Static+De.Segment?-1:1:e.length>n.length?n.length===1&&n[0]===De.Static+De.Segment?1:-1:0}function Ho(e,n){let t=0;const o=e.score,l=n.score;for(;t<o.length&&t<l.length;){const i=Rr(o[t],l[t]);if(i)return i;t++}if(Math.abs(l.length-o.length)===1){if(oo(o))return 1;if(oo(l))return-1}return l.length-o.length}function oo(e){const n=e[e.length-1];return e.length>0&&n[n.length-1]<0}const Or={strict:!1,end:!0,sensitive:!1};function Fr(e,n,t){const o=Ir(Sr(e.path),t),l=ue(o,{record:e,parent:n,children:[],alias:[]});return n&&!l.record.aliasOf==!n.record.aliasOf&&n.children.push(l),l}function Lr(e,n){const t=[],o=new Map;n=Jn(Or,n);function l(m){return o.get(m)}function i(m,u,p){const d=!p,c=io(m);c.aliasOf=p&&p.record;const g=Jn(n,m),x=[c];if("alias"in m){const O=typeof m.alias=="string"?[m.alias]:m.alias;for(const E of O)x.push(io(ue({},c,{components:p?p.record.components:c.components,path:E,aliasOf:p?p.record:c})))}let D,A;for(const O of x){const{path:E}=O;if(u&&E[0]!=="/"){const S=u.record.path,M=S[S.length-1]==="/"?"":"/";O.path=u.record.path+(E&&M+E)}if(D=Fr(O,u,g),p?p.alias.push(D):(A=A||D,A!==D&&A.alias.push(D),d&&m.name&&!so(D)&&s(m.name)),Go(D)&&a(D),c.children){const S=c.children;for(let M=0;M<S.length;M++)i(S[M],D,p&&p.children[M])}p=p||D}return A?()=>{s(A)}:_t}function s(m){if(Uo(m)){const u=o.get(m);u&&(o.delete(m),t.splice(t.indexOf(u),1),u.children.forEach(s),u.alias.forEach(s))}else{const u=t.indexOf(m);u>-1&&(t.splice(u,1),m.record.name&&o.delete(m.record.name),m.children.forEach(s),m.alias.forEach(s))}}function r(){return t}function a(m){const u=Nr(m,t);t.splice(u,0,m),m.record.name&&!so(m)&&o.set(m.record.name,m)}function f(m,u){let p,d={},c,g;if("name"in m&&m.name){if(p=o.get(m.name),!p)throw ft(he.MATCHER_NOT_FOUND,{location:m});g=p.record.name,d=ue(lo(u.params,p.keys.filter(A=>!A.optional).concat(p.parent?p.parent.keys.filter(A=>A.optional):[]).map(A=>A.name)),m.params&&lo(m.params,p.keys.map(A=>A.name))),c=p.stringify(d)}else if(m.path!=null)c=m.path,p=t.find(A=>A.re.test(c)),p&&(d=p.parse(c),g=p.record.name);else{if(p=u.name?o.get(u.name):t.find(A=>A.re.test(u.path)),!p)throw ft(he.MATCHER_NOT_FOUND,{location:m,currentLocation:u});g=p.record.name,d=ue({},u.params,m.params),c=p.stringify(d)}const x=[];let D=p;for(;D;)x.unshift(D.record),D=D.parent;return{name:g,path:c,params:d,matched:x,meta:Br(x)}}e.forEach(m=>i(m));function h(){t.length=0,o.clear()}return{addRoute:i,resolve:f,removeRoute:s,clearRoutes:h,getRoutes:r,getRecordMatcher:l}}function lo(e,n){const t={};for(const o of n)o in e&&(t[o]=e[o]);return t}function io(e){const n={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Pr(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(n,"mods",{value:{}}),n}function Pr(e){const n={},t=e.props||!1;if("component"in e)n.default=t;else for(const o in e.components)n[o]=typeof t=="object"?t[o]:t;return n}function so(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Br(e){return e.reduce((n,t)=>ue(n,t.meta),{})}function Nr(e,n){let t=0,o=n.length;for(;t!==o;){const i=t+o>>1;Ho(e,n[i])<0?o=i:t=i+1}const l=Vr(e);return l&&(o=n.lastIndexOf(l,o-1)),o}function Vr(e){let n=e;for(;n=n.parent;)if(Go(n)&&Ho(e,n)===0)return n}function Go({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function ao(e){const n=st(Mt),t=st(Tn),o=K(()=>{const a=_(e.to);return n.resolve(a)}),l=K(()=>{const{matched:a}=o.value,{length:f}=a,h=a[f-1],m=t.matched;if(!h||!m.length)return-1;const u=m.findIndex(dt.bind(null,h));if(u>-1)return u;const p=ro(a[f-2]);return f>1&&ro(h)===p&&m[m.length-1].path!==p?m.findIndex(dt.bind(null,a[f-2])):u}),i=K(()=>l.value>-1&&zr(t.params,o.value.params)),s=K(()=>l.value>-1&&l.value===t.matched.length-1&&qo(t.params,o.value.params));function r(a={}){if(Ur(a)){const f=n[_(e.replace)?"replace":"push"](_(e.to)).catch(_t);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:o,href:K(()=>o.value.href),isActive:i,isExactActive:s,navigate:r}}function Mr(e){return e.length===1?e[0]:e}const jr=le({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:ao,setup(e,{slots:n}){const t=me(ao(e)),{options:o}=st(Mt),l=K(()=>({[uo(e.activeClass,o.linkActiveClass,"router-link-active")]:t.isActive,[uo(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const i=n.default&&Mr(n.default(t));return e.custom?i:Ot("a",{"aria-current":t.isExactActive?e.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:l.value},i)}}}),qr=jr;function Ur(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const n=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return e.preventDefault&&e.preventDefault(),!0}}function zr(e,n){for(const t in n){const o=n[t],l=e[t];if(typeof o=="string"){if(o!==l)return!1}else if(!Oe(l)||l.length!==o.length||o.some((i,s)=>i.valueOf()!==l[s].valueOf()))return!1}return!0}function ro(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const uo=(e,n,t)=>e??n??t,Wr=le({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:n,slots:t}){const o=st(vn),l=K(()=>e.route||o.value),i=st(eo,0),s=K(()=>{let f=_(i);const{matched:h}=l.value;let m;for(;(m=h[f])&&!m.components;)f++;return f}),r=K(()=>l.value.matched[s.value]);Wt(eo,K(()=>s.value+1)),Wt(br,r),Wt(vn,l);const a=de();return Ee(()=>[a.value,r.value,e.name],([f,h,m],[u,p,d])=>{h&&(h.instances[m]=f,p&&p!==h&&f&&f===u&&(h.leaveGuards.size||(h.leaveGuards=p.leaveGuards),h.updateGuards.size||(h.updateGuards=p.updateGuards))),f&&h&&(!p||!dt(h,p)||!u)&&(h.enterCallbacks[m]||[]).forEach(c=>c(f))},{flush:"post"}),()=>{const f=l.value,h=e.name,m=r.value,u=m&&m.components[h];if(!u)return co(t.default,{Component:u,route:f});const p=m.props[h],d=p?p===!0?f.params:typeof p=="function"?p(f):p:null,g=Ot(u,ue({},d,n,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(m.instances[h]=null)},ref:a}));return co(t.default,{Component:g,route:f})||g}}});function co(e,n){if(!e)return null;const t=e(n);return t.length===1?t[0]:t}const Hr=Wr;function Gr(e){const n=Lr(e.routes,e),t=e.parseQuery||yr,o=e.stringifyQuery||Zn,l=e.history,i=vt(),s=vt(),r=vt(),a=So(Ge);let f=Ge;ut&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=en.bind(null,F=>""+F),m=en.bind(null,er),u=en.bind(null,Ct);function p(F,H){let z,J;return Uo(F)?(z=n.getRecordMatcher(F),J=H):J=F,n.addRoute(J,z)}function d(F){const H=n.getRecordMatcher(F);H&&n.removeRoute(H)}function c(){return n.getRoutes().map(F=>F.record)}function g(F){return!!n.getRecordMatcher(F)}function x(F,H){if(H=ue({},H||a.value),typeof F=="string"){const ne=tn(t,F,H.path),be=n.resolve({path:ne.path},H),yt=l.createHref(ne.fullPath);return ue(ne,be,{params:u(be.params),hash:Ct(ne.hash),redirectedFrom:void 0,href:yt})}let z;if(F.path!=null)z=ue({},F,{path:tn(t,F.path,H.path).path});else{const ne=ue({},F.params);for(const be in ne)ne[be]==null&&delete ne[be];z=ue({},F,{params:m(ne)}),H.params=m(H.params)}const J=n.resolve(z,H),re=F.hash||"";J.params=h(u(J.params));const ge=or(o,ue({},F,{hash:Xa(re),path:J.path})),ae=l.createHref(ge);return ue({fullPath:ge,hash:re,query:o===Zn?vr(F.query):F.query||{}},J,{redirectedFrom:void 0,href:ae})}function D(F){return typeof F=="string"?tn(t,F,a.value.path):ue({},F)}function A(F,H){if(f!==F)return ft(he.NAVIGATION_CANCELLED,{from:H,to:F})}function O(F){return M(F)}function E(F){return O(ue(D(F),{replace:!0}))}function S(F,H){const z=F.matched[F.matched.length-1];if(z&&z.redirect){const{redirect:J}=z;let re=typeof J=="function"?J(F,H):J;return typeof re=="string"&&(re=re.includes("?")||re.includes("#")?re=D(re):{path:re},re.params={}),ue({query:F.query,hash:F.hash,params:re.path!=null?{}:F.params},re)}}function M(F,H){const z=f=x(F),J=a.value,re=F.state,ge=F.force,ae=F.replace===!0,ne=S(z,J);if(ne)return M(ue(D(ne),{state:typeof ne=="object"?ue({},re,ne.state):re,force:ge,replace:ae}),H||z);const be=z;be.redirectedFrom=H;let yt;return!ge&&lr(o,J,z)&&(yt=ft(he.NAVIGATION_DUPLICATED,{to:be,from:J}),se(J,J,!0,!1)),(yt?Promise.resolve(yt):V(be,J)).catch(Se=>je(Se)?je(Se,he.NAVIGATION_GUARD_REDIRECT)?Se:ke(Se):j(Se,be,J)).then(Se=>{if(Se){if(je(Se,he.NAVIGATION_GUARD_REDIRECT))return M(ue({replace:ae},D(Se.to),{state:typeof Se.to=="object"?ue({},re,Se.to.state):re,force:ge}),H||be)}else Se=X(be,J,!0,ae,re);return U(be,J,Se),Se})}function k(F,H){const z=A(F,H);return z?Promise.reject(z):Promise.resolve()}function L(F){const H=Ie.values().next().value;return H&&typeof H.runWithContext=="function"?H.runWithContext(F):F()}function V(F,H){let z;const[J,re,ge]=wr(F,H);z=on(J.reverse(),"beforeRouteLeave",F,H);for(const ne of J)ne.leaveGuards.forEach(be=>{z.push(Ye(be,F,H))});const ae=k.bind(null,F,H);return z.push(ae),lt(z).then(()=>{z=[];for(const ne of i.list())z.push(Ye(ne,F,H));return z.push(ae),lt(z)}).then(()=>{z=on(re,"beforeRouteUpdate",F,H);for(const ne of re)ne.updateGuards.forEach(be=>{z.push(Ye(be,F,H))});return z.push(ae),lt(z)}).then(()=>{z=[];for(const ne of ge)if(ne.beforeEnter)if(Oe(ne.beforeEnter))for(const be of ne.beforeEnter)z.push(Ye(be,F,H));else z.push(Ye(ne.beforeEnter,F,H));return z.push(ae),lt(z)}).then(()=>(F.matched.forEach(ne=>ne.enterCallbacks={}),z=on(ge,"beforeRouteEnter",F,H,L),z.push(ae),lt(z))).then(()=>{z=[];for(const ne of s.list())z.push(Ye(ne,F,H));return z.push(ae),lt(z)}).catch(ne=>je(ne,he.NAVIGATION_CANCELLED)?ne:Promise.reject(ne))}function U(F,H,z){r.list().forEach(J=>L(()=>J(F,H,z)))}function X(F,H,z,J,re){const ge=A(F,H);if(ge)return ge;const ae=H===Ge,ne=ut?history.state:{};z&&(J||ae?l.replace(F.fullPath,ue({scroll:ae&&ne&&ne.scroll},re)):l.push(F.fullPath,re)),a.value=F,se(F,H,z,ae),ke()}let Z;function B(){Z||(Z=l.listen((F,H,z)=>{if(!Ce.listening)return;const J=x(F),re=S(J,Ce.currentRoute.value);if(re){M(ue(re,{replace:!0,force:!0}),J).catch(_t);return}f=J;const ge=a.value;ut&&fr(Qn(ge.fullPath,z.delta),Vt()),V(J,ge).catch(ae=>je(ae,he.NAVIGATION_ABORTED|he.NAVIGATION_CANCELLED)?ae:je(ae,he.NAVIGATION_GUARD_REDIRECT)?(M(ue(D(ae.to),{force:!0}),J).then(ne=>{je(ne,he.NAVIGATION_ABORTED|he.NAVIGATION_DUPLICATED)&&!z.delta&&z.type===gn.pop&&l.go(-1,!1)}).catch(_t),Promise.reject()):(z.delta&&l.go(-z.delta,!1),j(ae,J,ge))).then(ae=>{ae=ae||X(J,ge,!1),ae&&(z.delta&&!je(ae,he.NAVIGATION_CANCELLED)?l.go(-z.delta,!1):z.type===gn.pop&&je(ae,he.NAVIGATION_ABORTED|he.NAVIGATION_DUPLICATED)&&l.go(-1,!1)),U(J,ge,ae)}).catch(_t)}))}let C=vt(),T=vt(),$;function j(F,H,z){ke(F);const J=T.list();return J.length?J.forEach(re=>re(F,H,z)):console.error(F),Promise.reject(F)}function te(){return $&&a.value!==Ge?Promise.resolve():new Promise((F,H)=>{C.add([F,H])})}function ke(F){return $||($=!F,B(),C.list().forEach(([H,z])=>F?z(F):H()),C.reset()),F}function se(F,H,z,J){const{scrollBehavior:re}=e;if(!ut||!re)return Promise.resolve();const ge=!z&&pr(Qn(F.fullPath,0))||(J||!z)&&history.state&&history.state.scroll||null;return Lt().then(()=>re(F,H,ge)).then(ae=>ae&&dr(ae)).catch(ae=>j(ae,F,H))}const xe=F=>l.go(F);let G;const Ie=new Set,Ce={currentRoute:a,listening:!0,addRoute:p,removeRoute:d,clearRoutes:n.clearRoutes,hasRoute:g,getRoutes:c,resolve:x,options:e,push:O,replace:E,go:xe,back:()=>xe(-1),forward:()=>xe(1),beforeEach:i.add,beforeResolve:s.add,afterEach:r.add,onError:T.add,isReady:te,install(F){F.component("RouterLink",qr),F.component("RouterView",Hr),F.config.globalProperties.$router=Ce,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>_(a)}),ut&&!G&&a.value===Ge&&(G=!0,O(l.location).catch(J=>{}));const H={};for(const J in Ge)Object.defineProperty(H,J,{get:()=>a.value[J],enumerable:!0});F.provide(Mt,Ce),F.provide(Tn,yl(H)),F.provide(vn,a);const z=F.unmount;Ie.add(F),F.unmount=function(){Ie.delete(F),Ie.size<1&&(f=Ge,Z&&Z(),Z=null,a.value=Ge,G=!1,$=!1),z()}}};function lt(F){return F.reduce((H,z)=>H.then(()=>L(z)),Promise.resolve())}return Ce}function Yr(){return st(Mt)}function Yo(e){return st(Tn)}var Jo={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(e,n){(function(t,o){e.exports=o()})(vl,function(){var t={};t.version="0.2.0";var o=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};t.configure=function(d){var c,g;for(c in d)g=d[c],g!==void 0&&d.hasOwnProperty(c)&&(o[c]=g);return this},t.status=null,t.set=function(d){var c=t.isStarted();d=l(d,o.minimum,1),t.status=d===1?null:d;var g=t.render(!c),x=g.querySelector(o.barSelector),D=o.speed,A=o.easing;return g.offsetWidth,r(function(O){o.positionUsing===""&&(o.positionUsing=t.getPositioningCSS()),a(x,s(d,D,A)),d===1?(a(g,{transition:"none",opacity:1}),g.offsetWidth,setTimeout(function(){a(g,{transition:"all "+D+"ms linear",opacity:0}),setTimeout(function(){t.remove(),O()},D)},D)):setTimeout(O,D)}),this},t.isStarted=function(){return typeof t.status=="number"},t.start=function(){t.status||t.set(0);var d=function(){setTimeout(function(){t.status&&(t.trickle(),d())},o.trickleSpeed)};return o.trickle&&d(),this},t.done=function(d){return!d&&!t.status?this:t.inc(.3+.5*Math.random()).set(1)},t.inc=function(d){var c=t.status;return c?(typeof d!="number"&&(d=(1-c)*l(Math.random()*c,.1,.95)),c=l(c+d,0,.994),t.set(c)):t.start()},t.trickle=function(){return t.inc(Math.random()*o.trickleRate)},function(){var d=0,c=0;t.promise=function(g){return!g||g.state()==="resolved"?this:(c===0&&t.start(),d++,c++,g.always(function(){c--,c===0?(d=0,t.done()):t.set((d-c)/d)}),this)}}(),t.render=function(d){if(t.isRendered())return document.getElementById("nprogress");h(document.documentElement,"nprogress-busy");var c=document.createElement("div");c.id="nprogress",c.innerHTML=o.template;var g=c.querySelector(o.barSelector),x=d?"-100":i(t.status||0),D=document.querySelector(o.parent),A;return a(g,{transition:"all 0 linear",transform:"translate3d("+x+"%,0,0)"}),o.showSpinner||(A=c.querySelector(o.spinnerSelector),A&&p(A)),D!=document.body&&h(D,"nprogress-custom-parent"),D.appendChild(c),c},t.remove=function(){m(document.documentElement,"nprogress-busy"),m(document.querySelector(o.parent),"nprogress-custom-parent");var d=document.getElementById("nprogress");d&&p(d)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var d=document.body.style,c="WebkitTransform"in d?"Webkit":"MozTransform"in d?"Moz":"msTransform"in d?"ms":"OTransform"in d?"O":"";return c+"Perspective"in d?"translate3d":c+"Transform"in d?"translate":"margin"};function l(d,c,g){return d<c?c:d>g?g:d}function i(d){return(-1+d)*100}function s(d,c,g){var x;return o.positionUsing==="translate3d"?x={transform:"translate3d("+i(d)+"%,0,0)"}:o.positionUsing==="translate"?x={transform:"translate("+i(d)+"%,0)"}:x={"margin-left":i(d)+"%"},x.transition="all "+c+"ms "+g,x}var r=function(){var d=[];function c(){var g=d.shift();g&&g(c)}return function(g){d.push(g),d.length==1&&c()}}(),a=function(){var d=["Webkit","O","Moz","ms"],c={};function g(O){return O.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(E,S){return S.toUpperCase()})}function x(O){var E=document.body.style;if(O in E)return O;for(var S=d.length,M=O.charAt(0).toUpperCase()+O.slice(1),k;S--;)if(k=d[S]+M,k in E)return k;return O}function D(O){return O=g(O),c[O]||(c[O]=x(O))}function A(O,E,S){E=D(E),O.style[E]=S}return function(O,E){var S=arguments,M,k;if(S.length==2)for(M in E)k=E[M],k!==void 0&&E.hasOwnProperty(M)&&A(O,M,k);else A(O,S[1],S[2])}}();function f(d,c){var g=typeof d=="string"?d:u(d);return g.indexOf(" "+c+" ")>=0}function h(d,c){var g=u(d),x=g+c;f(g,c)||(d.className=x.substring(1))}function m(d,c){var g=u(d),x;f(d,c)&&(x=g.replace(" "+c+" "," "),d.className=x.substring(1,x.length-1))}function u(d){return(" "+(d.className||"")+" ").replace(/\s+/gi," ")}function p(d){d&&d.parentNode&&d.parentNode.removeChild(d)}return t})})(Jo);var Jr=Jo.exports;const ln=bl(Jr),Kr={key:0,class:"separator"},Xr={key:1,href:"javascript:void(0)"},Qr={name:"BreadCrumb"},Zr=le({...Qr,setup(e){const n=Yo(),t=de([]);function o(){const l=n.matched.filter(i=>i.meta&&i.meta.title).map(i=>({path:i.path,meta:{...i.meta}}));t.value=l}return Ee(()=>n.path,function(){n.path.startsWith("/redirect/")||o()}),o(),(l,i)=>{const s=R("router-link");return y(),P(ot,{name:"breadcrumb",tag:"div",class:"layout-breadcrumb f-vertical"},{default:b(()=>[(y(!0),I(Y,null,pe(t.value,(r,a)=>(y(),I("span",{class:Q(["layout-breadcrumb-item",{last:a===t.value.length-1}]),key:r.path},[a>0?(y(),I("i",Kr,"/")):N("",!0),a===t.value.length-1?(y(),I("a",Xr,ee(r.meta.title),1)):(y(),P(s,{key:2,to:r.path},{default:b(()=>[q(ee(r.meta.title),1)]),_:2},1032,["to"]))],2))),128))]),_:1})}}}),eu={name:"Scrollbar"},Ko=le({...eu,props:{thumbColor:{type:String,default:"rgba(147, 147, 153, 0.45)"},thumbSize:{type:Number,default:8},maxHeight:{type:String},maxWidth:{type:String}},setup(e,{expose:n}){const t=e,o=de(),l=de(),i=de(),s=de(),r=me({x:{width:"",height:"",left:"",bottom:"",transform:"",borderRadius:"",backgroundColor:t.thumbColor},y:{width:"",height:"",top:"",right:"",transform:"",borderRadius:"",backgroundColor:t.thumbColor}}),a=de(!1);function f(){const S=o.value.parentElement;S.style.overflow="hidden"}function h(){r.y.right=r.y.top="0px",r.y.width=t.thumbSize+"px",r.x.bottom=r.x.left="0px",r.x.height=t.thumbSize+"px",r.x.borderRadius=r.y.borderRadius=`${t.thumbSize/2}px`}function m(){const S=l.value;if(S){let M=S.clientHeight/S.scrollHeight*100;M>=100&&(M=0),r.y.height=M+"%",r.y.transform=`translate3d(0, ${S.scrollTop/S.scrollHeight*S.clientHeight}px, 0)`;let k=S.clientWidth/S.scrollWidth*100;k>=100&&(k=0),r.x.width=k+"%",r.x.transform=`translate3d(${S.scrollLeft/S.scrollWidth*S.clientWidth}px, 0, 0)`}}let u=!1,p=!1,d=0;function c(S){const M=i.value,k=s.value,L=S.target;M.contains(L)&&(u=!0,p=!1,d=S.clientX-M.getBoundingClientRect().left),k.contains(L)&&(u=!0,p=!0,d=S.clientY-k.getBoundingClientRect().top)}function g(S){if(!u)return;const M=l.value;if(p){const k=M.getBoundingClientRect().top,L=M.clientHeight;let V=S.clientY-k;M.scrollTop=(V-d)/L*M.scrollHeight}else{const k=M.getBoundingClientRect().left,L=M.clientWidth;let V=S.clientX-k;M.scrollLeft=(V-d)/L*M.scrollWidth}}function x(S){u=!1,o.value.contains(S.target)||(a.value=!1)}function D(){a.value=!0,m()}function A(){u||(a.value=!1)}let O;const E=de();return He(function(){f(),h(),document.addEventListener("mousedown",c),document.addEventListener("mousemove",g),document.addEventListener("mouseup",x),O=new ResizeObserver(function(){m()}),E.value&&O.observe(E.value)}),at(function(){document.removeEventListener("mousedown",c),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",x),O.disconnect()}),n({updateThumbStyle:m}),(S,M)=>(y(),I("div",{class:"the-scrollbar",ref_key:"el",ref:o,onMouseenter:M[1]||(M[1]=k=>D()),onMouseleave:M[2]||(M[2]=k=>A())},[w("div",{ref_key:"wrap",ref:l,class:"the-scrollbar-wrap",style:$e({"max-height":e.maxHeight,"max-width":e.maxWidth}),onScroll:M[0]||(M[0]=k=>m())},[w("div",{ref_key:"view",ref:E},[Me(S.$slots,"default")],512)],36),v(Ze,{name:"fade"},{default:b(()=>[ze(w("div",{class:"the-scrollbar-thumb",ref_key:"thumbY",ref:s,title:"滚动条-摁住拖拽Y轴",style:$e(r.y)},null,4),[[et,a.value]])]),_:1}),v(Ze,{name:"fade"},{default:b(()=>[ze(w("div",{class:"the-scrollbar-thumb",ref_key:"thumbX",ref:i,title:"滚动条-摁住拖拽X轴",style:$e(r.x)},null,4),[[et,a.value]])]),_:1})],544))}});function jt(){const e=Yo(),n=Yr();function t(i){return JSON.stringify(i||{})}function o(i,s){return s?i.path===e.path&&t(i.query)===t(e.query)&&t(i.params)===t(e.params):i.path===e.path}function l(i,s){if(o(i,s))return!0;if(i.children&&i.children.length)for(let r=0;r<i.children.length;r++){const a=i.children[r];if(l(a,s))return!0}return!1}return{route:e,router:n,isActive:o,hasActive:l}}let fo=0;function tu(){return fo++,`menu-${fo}`}function nu(e=300){const n=`${e}ms height`;function t(a){a.style.transition=n,a.style.height="0px"}function o(a){a.scrollHeight!==0?a.style.height=`${a.scrollHeight}px`:a.style.height="",a.style.overflow="hidden"}function l(a){a.style.transition=a.style.height=""}function i(a){a.style.display="block",a.style.height=`${a.scrollHeight}px`,a.style.overflow="hidden"}function s(a){a.scrollHeight!==0&&(a.style.transition=n,a.style.height="0px")}function r(a){a.style.transition=a.style.height=""}return{onBeforeEnter:t,onEnter:o,onAfterEnter:l,onBeforeLeave:i,onLeave:s,onAfterLeave:r}}const ou={class:"the-layout-tag-box"},lu={class:"the-layout-tags"},iu=["onClick"],su=["onClick"],au={name:"TagList"},ru=le({...au,setup(e){const n=fe.layout.info,{route:t,router:o,isActive:l}=jt();function i(m){if(l(n.tagList[m],!0)){const u=m>0?m-1:m+1,p=n.tagList[u];o.push({path:p.path,query:p.query,params:p.params})}n.tagList.splice(m,1)}Ee(()=>t.path,function(){n.tagList.some(u=>l(u,!0))||n.tagList.push({name:t.name,path:t.path,query:t.query,params:t.params,meta:t.meta})},{immediate:!0});const s=me({show:!1,left:""}),r={list:[{label:"关闭其他",id:1,click(){s.show=!1;const m=r.current;l(m,!0)?n.tagList=[m]:o.push(m.path).then(()=>{n.tagList=[m]})},show:()=>n.tagList.length>1},{label:"在新标签打开",id:2,click(){s.show=!1;const m=location.href.split("#");window.open(`${m[0]}#${r.current.path}`,"_blank")}},{label:"复制当前信息",id:3,click(){s.show=!1;const m=r.current;Pt(JSON.stringify(m,null,4),()=>Te.success("复制成功！"))}}],current:void 0},a=de();function f(m,u){s.show=!0,r.current=u,Lt(()=>{let p=m.x;const d=parseFloat(getComputedStyle(a.value).width),c=document.body.clientWidth-d;p>c&&(p=c),s.left=`${p}px`})}function h(m){const u=m.target;s.show&&!a.value.contains(u)&&(s.show=!1)}return He(function(){document.addEventListener("click",h)}),at(function(){document.removeEventListener("click",h)}),(m,u)=>{const p=R("router-link");return y(),I(Y,null,[w("div",ou,[v(_(Ko),null,{default:b(()=>[w("div",lu,[(y(!0),I(Y,null,pe(_(n).tagList,(d,c)=>(y(),P(p,{class:Q(["the-layout-tag",{"is-active":_(l)(d,!0)}]),key:d.path+c,to:{path:d.path,query:d.query,params:d.params},onContextmenu:On(g=>f(g,d),["prevent"])},{default:b(()=>[w("span",{class:Q([{"pr-[2px]":_(n).tagList.length<=1}])},ee(d.meta.title),3),_(n).tagList.length>1?(y(),I("i",{key:0,class:"close",onClick:On(g=>i(c),["prevent","stop"])},"-",8,iu)):N("",!0)]),_:2},1032,["class","to","onContextmenu"]))),128))])]),_:1})]),ze(w("div",{ref_key:"tagMenuRef",ref:a,class:"the-layout-tag-menu",style:$e({left:s.left})},[(y(!0),I(Y,null,pe(r.list,d=>ze((y(),I("div",{key:d.id,class:"the-layout-tag-menu-item",onClick:c=>d.click()},ee(d.label),9,su)),[[et,d.show?d.show():!0]])),128))],4),[[et,s.show]])],64)}}}),Xo=/^[a-z0-9]+(-[a-z0-9]+)*$/,qt=(e,n,t,o="")=>{const l=e.split(":");if(e.slice(0,1)==="@"){if(l.length<2||l.length>3)return null;o=l.shift().slice(1)}if(l.length>3||!l.length)return null;if(l.length>1){const r=l.pop(),a=l.pop(),f={provider:l.length>0?l[0]:o,prefix:a,name:r};return n&&!St(f)?null:f}const i=l[0],s=i.split("-");if(s.length>1){const r={provider:o,prefix:s.shift(),name:s.join("-")};return n&&!St(r)?null:r}if(t&&o===""){const r={provider:o,prefix:"",name:i};return n&&!St(r,t)?null:r}return null},St=(e,n)=>e?!!((n&&e.prefix===""||e.prefix)&&e.name):!1,Qo=Object.freeze({left:0,top:0,width:16,height:16}),Ft=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Ut=Object.freeze({...Qo,...Ft}),bn=Object.freeze({...Ut,body:"",hidden:!1});function uu(e,n){const t={};!e.hFlip!=!n.hFlip&&(t.hFlip=!0),!e.vFlip!=!n.vFlip&&(t.vFlip=!0);const o=((e.rotate||0)+(n.rotate||0))%4;return o&&(t.rotate=o),t}function po(e,n){const t=uu(e,n);for(const o in bn)o in Ft?o in e&&!(o in t)&&(t[o]=Ft[o]):o in n?t[o]=n[o]:o in e&&(t[o]=e[o]);return t}function cu(e,n){const t=e.icons,o=e.aliases||Object.create(null),l=Object.create(null);function i(s){if(t[s])return l[s]=[];if(!(s in l)){l[s]=null;const r=o[s]&&o[s].parent,a=r&&i(r);a&&(l[s]=[r].concat(a))}return l[s]}return Object.keys(t).concat(Object.keys(o)).forEach(i),l}function du(e,n,t){const o=e.icons,l=e.aliases||Object.create(null);let i={};function s(r){i=po(o[r]||l[r],i)}return s(n),t.forEach(s),po(e,i)}function Zo(e,n){const t=[];if(typeof e!="object"||typeof e.icons!="object")return t;e.not_found instanceof Array&&e.not_found.forEach(l=>{n(l,null),t.push(l)});const o=cu(e);for(const l in o){const i=o[l];i&&(n(l,du(e,l,i)),t.push(l))}return t}const fu={provider:"",aliases:{},not_found:{},...Qo};function sn(e,n){for(const t in n)if(t in e&&typeof e[t]!=typeof n[t])return!1;return!0}function el(e){if(typeof e!="object"||e===null)return null;const n=e;if(typeof n.prefix!="string"||!e.icons||typeof e.icons!="object"||!sn(e,fu))return null;const t=n.icons;for(const l in t){const i=t[l];if(!l||typeof i.body!="string"||!sn(i,bn))return null}const o=n.aliases||Object.create(null);for(const l in o){const i=o[l],s=i.parent;if(!l||typeof s!="string"||!t[s]&&!o[s]||!sn(i,bn))return null}return n}const mo=Object.create(null);function pu(e,n){return{provider:e,prefix:n,icons:Object.create(null),missing:new Set}}function pt(e,n){const t=mo[e]||(mo[e]=Object.create(null));return t[n]||(t[n]=pu(e,n))}function tl(e,n){return el(n)?Zo(n,(t,o)=>{o?e.icons[t]=o:e.missing.add(t)}):[]}function mu(e,n,t){try{if(typeof t.body=="string")return e.icons[n]={...t},!0}catch{}return!1}let $t=!1;function nl(e){return typeof e=="boolean"&&($t=e),$t}function hu(e){const n=typeof e=="string"?qt(e,!0,$t):e;if(n){const t=pt(n.provider,n.prefix),o=n.name;return t.icons[o]||(t.missing.has(o)?null:void 0)}}function gu(e,n){const t=qt(e,!0,$t);if(!t)return!1;const o=pt(t.provider,t.prefix);return n?mu(o,t.name,n):(o.missing.add(t.name),!0)}function yu(e,n){if(typeof e!="object")return!1;if(typeof n!="string"&&(n=e.provider||""),$t&&!n&&!e.prefix){let l=!1;return el(e)&&(e.prefix="",Zo(e,(i,s)=>{gu(i,s)&&(l=!0)})),l}const t=e.prefix;if(!St({prefix:t,name:"a"}))return!1;const o=pt(n,t);return!!tl(o,e)}const ol=Object.freeze({width:null,height:null}),ll=Object.freeze({...ol,...Ft}),vu=/(-?[0-9.]*[0-9]+[0-9.]*)/g,bu=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function ho(e,n,t){if(n===1)return e;if(t=t||100,typeof e=="number")return Math.ceil(e*n*t)/t;if(typeof e!="string")return e;const o=e.split(vu);if(o===null||!o.length)return e;const l=[];let i=o.shift(),s=bu.test(i);for(;;){if(s){const r=parseFloat(i);isNaN(r)?l.push(i):l.push(Math.ceil(r*n*t)/t)}else l.push(i);if(i=o.shift(),i===void 0)return l.join("");s=!s}}function wu(e,n="defs"){let t="";const o=e.indexOf("<"+n);for(;o>=0;){const l=e.indexOf(">",o),i=e.indexOf("</"+n);if(l===-1||i===-1)break;const s=e.indexOf(">",i);if(s===-1)break;t+=e.slice(l+1,i).trim(),e=e.slice(0,o).trim()+e.slice(s+1)}return{defs:t,content:e}}function xu(e,n){return e?"<defs>"+e+"</defs>"+n:n}function ku(e,n,t){const o=wu(e);return xu(o.defs,n+o.content+t)}const _u=e=>e==="unset"||e==="undefined"||e==="none";function Eu(e,n){const t={...Ut,...e},o={...ll,...n},l={left:t.left,top:t.top,width:t.width,height:t.height};let i=t.body;[t,o].forEach(c=>{const g=[],x=c.hFlip,D=c.vFlip;let A=c.rotate;x?D?A+=2:(g.push("translate("+(l.width+l.left).toString()+" "+(0-l.top).toString()+")"),g.push("scale(-1 1)"),l.top=l.left=0):D&&(g.push("translate("+(0-l.left).toString()+" "+(l.height+l.top).toString()+")"),g.push("scale(1 -1)"),l.top=l.left=0);let O;switch(A<0&&(A-=Math.floor(A/4)*4),A=A%4,A){case 1:O=l.height/2+l.top,g.unshift("rotate(90 "+O.toString()+" "+O.toString()+")");break;case 2:g.unshift("rotate(180 "+(l.width/2+l.left).toString()+" "+(l.height/2+l.top).toString()+")");break;case 3:O=l.width/2+l.left,g.unshift("rotate(-90 "+O.toString()+" "+O.toString()+")");break}A%2===1&&(l.left!==l.top&&(O=l.left,l.left=l.top,l.top=O),l.width!==l.height&&(O=l.width,l.width=l.height,l.height=O)),g.length&&(i=ku(i,'<g transform="'+g.join(" ")+'">',"</g>"))});const s=o.width,r=o.height,a=l.width,f=l.height;let h,m;s===null?(m=r===null?"1em":r==="auto"?f:r,h=ho(m,a/f)):(h=s==="auto"?a:s,m=r===null?ho(h,f/a):r==="auto"?f:r);const u={},p=(c,g)=>{_u(g)||(u[c]=g.toString())};p("width",h),p("height",m);const d=[l.left,l.top,a,f];return u.viewBox=d.join(" "),{attributes:u,viewBox:d,body:i}}const Cu=/\sid="(\S+)"/g,$u="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let Du=0;function Su(e,n=$u){const t=[];let o;for(;o=Cu.exec(e);)t.push(o[1]);if(!t.length)return e;const l="suffix"+(Math.random()*16777216|Date.now()).toString(16);return t.forEach(i=>{const s=typeof n=="function"?n(i):n+(Du++).toString(),r=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+r+')([")]|\\.[a-z])',"g"),"$1"+s+l+"$3")}),e=e.replace(new RegExp(l,"g"),""),e}const wn=Object.create(null);function Tu(e,n){wn[e]=n}function xn(e){return wn[e]||wn[""]}function An(e){let n;if(typeof e.resources=="string")n=[e.resources];else if(n=e.resources,!(n instanceof Array)||!n.length)return null;return{resources:n,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const In=Object.create(null),bt=["https://api.simplesvg.com","https://api.unisvg.com"],Tt=[];for(;bt.length>0;)bt.length===1||Math.random()>.5?Tt.push(bt.shift()):Tt.push(bt.pop());In[""]=An({resources:["https://api.iconify.design"].concat(Tt)});function Au(e,n){const t=An(n);return t===null?!1:(In[e]=t,!0)}function Rn(e){return In[e]}const Iu=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let go=Iu();function Ru(e,n){const t=Rn(e);if(!t)return 0;let o;if(!t.maxURL)o=0;else{let l=0;t.resources.forEach(s=>{l=Math.max(l,s.length)});const i=n+".json?icons=";o=t.maxURL-l-t.path.length-i.length}return o}function Ou(e){return e===404}const Fu=(e,n,t)=>{const o=[],l=Ru(e,n),i="icons";let s={type:i,provider:e,prefix:n,icons:[]},r=0;return t.forEach((a,f)=>{r+=a.length+1,r>=l&&f>0&&(o.push(s),s={type:i,provider:e,prefix:n,icons:[]},r=a.length),s.icons.push(a)}),o.push(s),o};function Lu(e){if(typeof e=="string"){const n=Rn(e);if(n)return n.path}return"/"}const Pu=(e,n,t)=>{if(!go){t("abort",424);return}let o=Lu(n.provider);switch(n.type){case"icons":{const i=n.prefix,r=n.icons.join(","),a=new URLSearchParams({icons:r});o+=i+".json?"+a.toString();break}case"custom":{const i=n.uri;o+=i.slice(0,1)==="/"?i.slice(1):i;break}default:t("abort",400);return}let l=503;go(e+o).then(i=>{const s=i.status;if(s!==200){setTimeout(()=>{t(Ou(s)?"abort":"next",s)});return}return l=501,i.json()}).then(i=>{if(typeof i!="object"||i===null){setTimeout(()=>{i===404?t("abort",i):t("next",l)});return}setTimeout(()=>{t("success",i)})}).catch(()=>{t("next",l)})},Bu={prepare:Fu,send:Pu};function Nu(e){const n={loaded:[],missing:[],pending:[]},t=Object.create(null);e.sort((l,i)=>l.provider!==i.provider?l.provider.localeCompare(i.provider):l.prefix!==i.prefix?l.prefix.localeCompare(i.prefix):l.name.localeCompare(i.name));let o={provider:"",prefix:"",name:""};return e.forEach(l=>{if(o.name===l.name&&o.prefix===l.prefix&&o.provider===l.provider)return;o=l;const i=l.provider,s=l.prefix,r=l.name,a=t[i]||(t[i]=Object.create(null)),f=a[s]||(a[s]=pt(i,s));let h;r in f.icons?h=n.loaded:s===""||f.missing.has(r)?h=n.missing:h=n.pending;const m={provider:i,prefix:s,name:r};h.push(m)}),n}function il(e,n){e.forEach(t=>{const o=t.loaderCallbacks;o&&(t.loaderCallbacks=o.filter(l=>l.id!==n))})}function Vu(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const n=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!n.length)return;let t=!1;const o=e.provider,l=e.prefix;n.forEach(i=>{const s=i.icons,r=s.pending.length;s.pending=s.pending.filter(a=>{if(a.prefix!==l)return!0;const f=a.name;if(e.icons[f])s.loaded.push({provider:o,prefix:l,name:f});else if(e.missing.has(f))s.missing.push({provider:o,prefix:l,name:f});else return t=!0,!0;return!1}),s.pending.length!==r&&(t||il([e],i.id),i.callback(s.loaded.slice(0),s.missing.slice(0),s.pending.slice(0),i.abort))})}))}let Mu=0;function ju(e,n,t){const o=Mu++,l=il.bind(null,t,o);if(!n.pending.length)return l;const i={id:o,icons:n,callback:e,abort:l};return t.forEach(s=>{(s.loaderCallbacks||(s.loaderCallbacks=[])).push(i)}),l}function qu(e,n=!0,t=!1){const o=[];return e.forEach(l=>{const i=typeof l=="string"?qt(l,n,t):l;i&&o.push(i)}),o}var Uu={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function zu(e,n,t,o){const l=e.resources.length,i=e.random?Math.floor(Math.random()*l):e.index;let s;if(e.random){let S=e.resources.slice(0);for(s=[];S.length>1;){const M=Math.floor(Math.random()*S.length);s.push(S[M]),S=S.slice(0,M).concat(S.slice(M+1))}s=s.concat(S)}else s=e.resources.slice(i).concat(e.resources.slice(0,i));const r=Date.now();let a="pending",f=0,h,m=null,u=[],p=[];typeof o=="function"&&p.push(o);function d(){m&&(clearTimeout(m),m=null)}function c(){a==="pending"&&(a="aborted"),d(),u.forEach(S=>{S.status==="pending"&&(S.status="aborted")}),u=[]}function g(S,M){M&&(p=[]),typeof S=="function"&&p.push(S)}function x(){return{startTime:r,payload:n,status:a,queriesSent:f,queriesPending:u.length,subscribe:g,abort:c}}function D(){a="failed",p.forEach(S=>{S(void 0,h)})}function A(){u.forEach(S=>{S.status==="pending"&&(S.status="aborted")}),u=[]}function O(S,M,k){const L=M!=="success";switch(u=u.filter(V=>V!==S),a){case"pending":break;case"failed":if(L||!e.dataAfterTimeout)return;break;default:return}if(M==="abort"){h=k,D();return}if(L){h=k,u.length||(s.length?E():D());return}if(d(),A(),!e.random){const V=e.resources.indexOf(S.resource);V!==-1&&V!==e.index&&(e.index=V)}a="completed",p.forEach(V=>{V(k)})}function E(){if(a!=="pending")return;d();const S=s.shift();if(S===void 0){if(u.length){m=setTimeout(()=>{d(),a==="pending"&&(A(),D())},e.timeout);return}D();return}const M={status:"pending",resource:S,callback:(k,L)=>{O(M,k,L)}};u.push(M),f++,m=setTimeout(E,e.rotate),t(S,n,M.callback)}return setTimeout(E),x}function sl(e){const n={...Uu,...e};let t=[];function o(){t=t.filter(r=>r().status==="pending")}function l(r,a,f){const h=zu(n,r,a,(m,u)=>{o(),f&&f(m,u)});return t.push(h),h}function i(r){return t.find(a=>r(a))||null}return{query:l,find:i,setIndex:r=>{n.index=r},getIndex:()=>n.index,cleanup:o}}function yo(){}const an=Object.create(null);function Wu(e){if(!an[e]){const n=Rn(e);if(!n)return;const t=sl(n),o={config:n,redundancy:t};an[e]=o}return an[e]}function Hu(e,n,t){let o,l;if(typeof e=="string"){const i=xn(e);if(!i)return t(void 0,424),yo;l=i.send;const s=Wu(e);s&&(o=s.redundancy)}else{const i=An(e);if(i){o=sl(i);const s=e.resources?e.resources[0]:"",r=xn(s);r&&(l=r.send)}}return!o||!l?(t(void 0,424),yo):o.query(n,l,t)().abort}function vo(){}function Gu(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,Vu(e)}))}function Yu(e){const n=[],t=[];return e.forEach(o=>{(o.match(Xo)?n:t).push(o)}),{valid:n,invalid:t}}function wt(e,n,t){function o(){const l=e.pendingIcons;n.forEach(i=>{l&&l.delete(i),e.icons[i]||e.missing.add(i)})}if(t&&typeof t=="object")try{if(!tl(e,t).length){o();return}}catch(l){console.error(l)}o(),Gu(e)}function bo(e,n){e instanceof Promise?e.then(t=>{n(t)}).catch(()=>{n(null)}):n(e)}function Ju(e,n){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(n).sort():e.iconsToLoad=n,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:t,prefix:o}=e,l=e.iconsToLoad;if(delete e.iconsToLoad,!l||!l.length)return;const i=e.loadIcon;if(e.loadIcons&&(l.length>1||!i)){bo(e.loadIcons(l,o,t),h=>{wt(e,l,h)});return}if(i){l.forEach(h=>{const m=i(h,o,t);bo(m,u=>{const p=u?{prefix:o,icons:{[h]:u}}:null;wt(e,[h],p)})});return}const{valid:s,invalid:r}=Yu(l);if(r.length&&wt(e,r,null),!s.length)return;const a=o.match(Xo)?xn(t):null;if(!a){wt(e,s,null);return}a.prepare(t,o,s).forEach(h=>{Hu(t,h,m=>{wt(e,h.icons,m)})})}))}const Ku=(e,n)=>{const t=qu(e,!0,nl()),o=Nu(t);if(!o.pending.length){let a=!0;return n&&setTimeout(()=>{a&&n(o.loaded,o.missing,o.pending,vo)}),()=>{a=!1}}const l=Object.create(null),i=[];let s,r;return o.pending.forEach(a=>{const{provider:f,prefix:h}=a;if(h===r&&f===s)return;s=f,r=h,i.push(pt(f,h));const m=l[f]||(l[f]=Object.create(null));m[h]||(m[h]=[])}),o.pending.forEach(a=>{const{provider:f,prefix:h,name:m}=a,u=pt(f,h),p=u.pendingIcons||(u.pendingIcons=new Set);p.has(m)||(p.add(m),l[f][h].push(m))}),i.forEach(a=>{const f=l[a.provider][a.prefix];f.length&&Ju(a,f)}),n?ju(n,o,i):vo};function Xu(e,n){const t={...e};for(const o in n){const l=n[o],i=typeof l;o in ol?(l===null||l&&(i==="string"||i==="number"))&&(t[o]=l):i===typeof t[o]&&(t[o]=o==="rotate"?l%4:l)}return t}const Qu=/[\s,]+/;function Zu(e,n){n.split(Qu).forEach(t=>{switch(t.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function ec(e,n=0){const t=e.replace(/^-?[0-9.]*/,"");function o(l){for(;l<0;)l+=4;return l%4}if(t===""){const l=parseInt(e);return isNaN(l)?0:o(l)}else if(t!==e){let l=0;switch(t){case"%":l=25;break;case"deg":l=90}if(l){let i=parseFloat(e.slice(0,e.length-t.length));return isNaN(i)?0:(i=i/l,i%1===0?o(i):0)}}return n}function tc(e,n){let t=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const o in n)t+=" "+o+'="'+n[o]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+t+">"+e+"</svg>"}function nc(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function oc(e){return"data:image/svg+xml,"+nc(e)}function lc(e){return'url("'+oc(e)+'")'}const wo={...ll,inline:!1},ic={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},sc={display:"inline-block"},kn={backgroundColor:"currentColor"},al={backgroundColor:"transparent"},xo={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},ko={webkitMask:kn,mask:kn,background:al};for(const e in ko){const n=ko[e];for(const t in xo)n[e+t]=xo[t]}const At={};["horizontal","vertical"].forEach(e=>{const n=e.slice(0,1)+"Flip";At[e+"-flip"]=n,At[e.slice(0,1)+"-flip"]=n,At[e+"Flip"]=n});function _o(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const Eo=(e,n)=>{const t=Xu(wo,n),o={...ic},l=n.mode||"svg",i={},s=n.style,r=typeof s=="object"&&!(s instanceof Array)?s:{};for(let c in n){const g=n[c];if(g!==void 0)switch(c){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":t[c]=g===!0||g==="true"||g===1;break;case"flip":typeof g=="string"&&Zu(t,g);break;case"color":i.color=g;break;case"rotate":typeof g=="string"?t[c]=ec(g):typeof g=="number"&&(t[c]=g);break;case"ariaHidden":case"aria-hidden":g!==!0&&g!=="true"&&delete o["aria-hidden"];break;default:{const x=At[c];x?(g===!0||g==="true"||g===1)&&(t[x]=!0):wo[c]===void 0&&(o[c]=g)}}}const a=Eu(e,t),f=a.attributes;if(t.inline&&(i.verticalAlign="-0.125em"),l==="svg"){o.style={...i,...r},Object.assign(o,f);let c=0,g=n.id;return typeof g=="string"&&(g=g.replace(/-/g,"_")),o.innerHTML=Su(a.body,g?()=>g+"ID"+c++:"iconifyVue"),Ot("svg",o)}const{body:h,width:m,height:u}=e,p=l==="mask"||(l==="bg"?!1:h.indexOf("currentColor")!==-1),d=tc(h,{...f,width:m+"",height:u+""});return o.style={...i,"--svg":lc(d),width:_o(f.width),height:_o(f.height),...sc,...p?kn:al,...r},Ot("span",o)};nl(!0);Tu("",Bu);if(typeof document<"u"&&typeof window<"u"){const e=window;if(e.IconifyPreload!==void 0){const n=e.IconifyPreload,t="Invalid IconifyPreload syntax.";typeof n=="object"&&n!==null&&(n instanceof Array?n:[n]).forEach(o=>{try{(typeof o!="object"||o===null||o instanceof Array||typeof o.icons!="object"||typeof o.prefix!="string"||!yu(o))&&console.error(t)}catch{console.error(t)}})}if(e.IconifyProviders!==void 0){const n=e.IconifyProviders;if(typeof n=="object"&&n!==null)for(let t in n){const o="IconifyProviders["+t+"] is invalid.";try{const l=n[t];if(typeof l!="object"||!l||l.resources===void 0)continue;Au(t,l)||console.error(o)}catch{console.error(o)}}}}const ac={...Ut,body:""},rc=le((e,{emit:n})=>{const t=de(null);function o(){var f,h;t.value&&((h=(f=t.value).abort)==null||h.call(f),t.value=null)}const l=de(!!e.ssr),i=de(""),s=So(null);function r(){const f=e.icon;if(typeof f=="object"&&f!==null&&typeof f.body=="string")return i.value="",{data:f};let h;if(typeof f!="string"||(h=qt(f,!1,!0))===null)return null;let m=hu(h);if(!m){const d=t.value;return(!d||d.name!==f)&&(m===null?t.value={name:f}:t.value={name:f,abort:Ku([h],a)}),null}o(),i.value!==f&&(i.value=f,Lt(()=>{n("load",f)}));const u=e.customise;if(u){m=Object.assign({},m);const d=u(m.body,h.name,h.prefix,h.provider);typeof d=="string"&&(m.body=d)}const p=["iconify"];return h.prefix!==""&&p.push("iconify--"+h.prefix),h.provider!==""&&p.push("iconify--"+h.provider),{data:m,classes:p}}function a(){var h;const f=r();f?f.data!==((h=s.value)==null?void 0:h.data)&&(s.value=f):s.value=null}return l.value?a():He(()=>{l.value=!0,a()}),Ee(()=>e.icon,a),at(o),()=>{const f=s.value;if(!f)return Eo(ac,e);let h=e;return f.classes&&(h={...e,class:f.classes.join(" ")}),Eo({...Ut,...f.data},h)}},{props:["icon","mode","ssr","width","height","style","color","inline","rotate","hFlip","horizontalFlip","vFlip","verticalFlip","flip","id","ariaHidden","customise","title"],emits:["load"]}),uc={name:"Icon"},Ve=le({...uc,props:{name:{type:String,required:!0},size:{type:[String,Number],default:void 0},color:{type:String,default:void 0}},setup(e){const n=e,t=K(()=>{const o=n.size;return{fontSize:typeof o=="number"?`${o}px`:o,color:n.color}});return(o,l)=>(y(),P(_(rc),{icon:n.name,style:$e(t.value),class:"the-icon"},null,8,["icon","style"]))}}),cc={class:"the-layout-header"},dc={class:"the-layout-navbar flex"},fc={class:"user-info-box f-vertical"},pc=["src"],mc={class:"the-tag green mr-[10px]"},hc={name:"HeaderBar"},gc=le({...hc,setup(e){const n=fe.layout.info,t=fe.user.info,{router:o}=jt();function l(){n.showSidebar=!n.showSidebar}const i="https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif";function s(){fe.user.reset(),o.push("/login").then(()=>{n.tagList=[],od()})}return(r,a)=>(y(),I("div",cc,[w("div",dc,[w("div",{class:Q(["fvc menu-fold",{"menu-fold-actived":_(n).showSidebar}]),onClick:a[0]||(a[0]=f=>l())},[v(_(Ve),{name:"tdesign:menu-fold",size:"24px",color:"#555"})],2),v(Zr,{class:"f1"}),w("div",fc,[w("img",{class:"avatar",src:_(t).avatar||i},null,8,pc),w("span",mc,ee(_(t).name||_(t).account||"用户未设置昵称"),1),w("button",{class:"logout f-vertical",onClick:a[1]||(a[1]=f=>s())},[v(_(Ve),{name:"tdesign:logout",class:"mr-[4px]"}),a[2]||(a[2]=w("span",null,"退出登录",-1))])])]),_(n).showTagList?(y(),P(ru,{key:0})):N("",!0)]))}}),yc={class:"f1"},vc=["href"],bc={class:"f1"},wc={class:"f1"},xc=["href"],kc={name:"MenuItem"},_c=le({...kc,props:{menu:{type:Object,required:!0},level:{type:Number,default:0}},setup(e){const n=e,{onBeforeEnter:t,onEnter:o,onAfterEnter:l,onBeforeLeave:i,onLeave:s,onAfterLeave:r}=nu(),{isActive:a,hasActive:f}=jt(),h=K(function(){const c=a(n.menu);return{"the-layout-menu-title":!0,"is-current":f(n.menu)&&!c,"is-open":n.menu.isOpen,"is-active":c}}),m=K(function(){return{"the-layout-menu-list":!0,"is-open":n.menu.isOpen}});function u(c){return{"the-layout-menu-link":!0,"is-active":a(c)}}function p(c){return!!(c.children&&c.children.length>0)}function d(){const c=n.menu;c.isOpen=!c.isOpen}return(c,g)=>{const x=R("router-link"),D=R("MenuItem",!0);return y(),I("section",{class:"the-layout-menu",style:$e({"--level":n.level})},[p(n.menu)?(y(),I("div",{key:0,class:Q(h.value),onClick:g[0]||(g[0]=A=>d())},[n.menu.icon?(y(),P(_(Ve),{key:0,name:n.menu.icon,class:"menu-icon"},null,8,["name"])):N("",!0),w("span",yc,ee(n.menu.title),1),g[1]||(g[1]=w("i",{class:"the-layout-menu-arrow"},null,-1))],2)):(y(),I(Y,{key:1},[n.menu.link?(y(),I("a",{key:0,href:n.menu.link,class:Q(h.value),target:"_blank"},[n.menu.icon?(y(),P(_(Ve),{key:0,name:n.menu.icon,class:"menu-icon"},null,8,["name"])):N("",!0),w("span",bc,ee(n.menu.title),1)],10,vc)):(y(),P(x,{key:1,to:n.menu.path,class:Q(h.value)},{default:b(()=>[n.menu.icon?(y(),P(_(Ve),{key:0,name:n.menu.icon,class:"menu-icon"},null,8,["name"])):N("",!0),w("span",wc,ee(n.menu.title),1)]),_:1},8,["to","class"]))],64)),p(n.menu)?(y(),P(Ze,{key:2,onBeforeEnter:_(t),onEnter:_(o),onAfterEnter:_(l),onBeforeLeave:_(i),onLeave:_(s),onAfterLeave:_(r)},{default:b(()=>[ze(w("div",{class:Q(m.value)},[(y(!0),I(Y,null,pe(n.menu.children,A=>(y(),I(Y,{key:A.menuId},[p(A)?(y(),P(D,{key:0,menu:A,level:n.level+1},null,8,["menu","level"])):(y(),I(Y,{key:1},[A.link?(y(),I("a",{key:0,href:A.link,class:Q(u(A)),target:"_blank"},[A.icon?(y(),P(_(Ve),{key:0,name:A.icon,class:"menu-icon"},null,8,["name"])):N("",!0),w("span",null,ee(A.title),1)],10,xc)):(y(),P(x,{key:1,to:A.path,class:Q(u(A))},{default:b(()=>[A.icon?(y(),P(_(Ve),{key:0,name:A.icon,class:"menu-icon"},null,8,["name"])):N("",!0),w("span",null,ee(A.title),1)]),_:2},1032,["to","class"]))],64))],64))),128))],2),[[et,n.menu.isOpen]])]),_:1},8,["onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])):N("",!0)],4)}}}),Ec={name:"Empty",props:{text:{type:String,default:"暂无数据"},size:{type:Number}}},Cc="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20width='64'%20height='41'%20viewBox='0%200%2064%2041'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20transform='translate(0%201)'%20fill='none'%20fill-rule='evenodd'%3e%3cellipse%20fill='%23f5f5f5'%20cx='32'%20cy='33'%20rx='32'%20ry='7'%3e%3c/ellipse%3e%3cg%20fill-rule='nonzero'%20stroke='%23d9d9d9'%3e%3cpath%20d='M55%2012.76L44.854%201.258C44.367.474%2043.656%200%2042.907%200H21.093c-.749%200-1.46.474-1.947%201.257L9%2012.761V22h46v-9.24z'%3e%3c/path%3e%3cpath%20d='M41.613%2015.931c0-1.605.994-2.93%202.227-2.931H55v18.137C55%2033.26%2053.68%2035%2052.05%2035h-40.1C10.32%2035%209%2033.259%209%2031.137V13h11.16c1.233%200%202.227%201.323%202.227%202.928v.022c0%201.605%201.005%202.901%202.237%202.901h14.752c1.232%200%202.237-1.308%202.237-2.913v-.007z'%20fill='%23fafafa'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/svg%3e",$c={class:"empty"},Dc={class:"text"};function Sc(e,n,t,o,l,i){return y(),I("div",$c,[w("img",{class:"icon",style:$e({width:t.size?`${t.size}px`:void 0}),src:Cc,alt:""},null,4),w("span",Dc,ee(t.text),1)])}const Tc=Dn(Ec,[["render",Sc],["__scopeId","data-v-a5ec6d3f"]]),Ac={name:"Menu"},Ic=le({...Ac,props:{mergeOnlyOneChild:{type:Number,default:0}},setup(e){const n=e,t=fe.layout.info;function o(u){const p=[];for(let d=0;d<u.length;d++){const c=u[d];if(c.meta&&c.meta.hidden)continue;const g={menuId:tu(),path:c.path,isOpen:!1,title:c.meta.title,icon:c.meta.icon,link:c.meta.link};c.children&&c.children.length&&(g.children=o(c.children)),p.push(g)}return p}function l(u,p=1){const d=[],c=p<n.mergeOnlyOneChild,g=p+1;for(let x=0;x<u.length;x++){const D=u[x],A=D.children;A&&A.length>0?A.length===1?(d.push(A[0]),A[0].children&&A[0].children.length>0&&c&&(A[0].children=l(A[0].children,g))):(d.push(D),c&&(D.children=l(A,g))):d.push(D)}return d}function i(u){const p=t.keyword;return u.filter(d=>d.children&&(d.children=i(d.children),d.children.length>0)?(d.isOpen=!0,!0):!!d.title.includes(p))}let s=o(fe.layout.completeRouters);n.mergeOnlyOneChild&&(s=l(s));const r=de(s),{route:a,isActive:f}=jt();function h(u){const p=[];function d(c,g){for(let x=0;x<c.length;x++){const D=c[x];if(f(D))return p.push(...g),!0;if(D.children&&D.children.length&&d(D.children,[...g,D]))return!0}return!1}return d(u,[]),p}function m(){h(r.value).forEach(p=>{p.isOpen=!0})}return Ee(()=>t.keyword,function(u){const p=ce(s,!0);if(u){const d=i(p);r.value=d}else r.value=p,m()}),Ee(()=>a.path,function(){m()},{immediate:!0}),(u,p)=>(y(),I(Y,null,[(y(!0),I(Y,null,pe(r.value,(d,c)=>(y(),P(_c,{menu:d,key:d.menuId,style:$e(c?void 0:{"margin-top":"0"})},null,8,["menu","style"]))),128)),r.value.length?N("",!0):(y(),P(_(Tc),{key:0,style:{height:"140px"},text:"没有匹配到任何菜单"}))],64))}}),Rc={class:"the-layout-sidebar"},Oc={class:"the-layout-sidebar-content"},Fc={key:0,class:"the-logo-box"},Lc=["src"],Pc=["title"],Bc={key:1,style:{height:"var(--page-padding)"}},Nc={class:"the-layout-search-box"},Vc={class:"f1"},Mc={class:"the-layout-sidebar-content padding-full"},jc={name:"Sidebar"},qc=le({...jc,setup(e){const n=fe.layout.info,t=fe.projectInfo;function o(){n.keyword=""}return(l,i)=>{const s=R("router-link");return y(),I("div",Rc,[w("section",Oc,[v(Ze,{name:"fade",mode:"out-in"},{default:b(()=>[_(n).showSidebarLogo?(y(),I("div",Fc,[v(s,{class:"the-logo-link f-vertical",to:"/"},{default:b(()=>[w("img",{class:"the-logo",src:_(t).logo},null,8,Lc),w("h1",{class:"the-logo-title ellipsis",title:_(t).title},ee(_(t).title),9,Pc)]),_:1})])):(y(),I("div",Bc))]),_:1}),w("div",Nc,[ze(w("input",{"onUpdate:modelValue":i[0]||(i[0]=r=>_(n).keyword=r),type:"text",placeholder:"请输入关键字检索菜单"},null,512),[[wl,_(n).keyword]]),_(n).keyword?(y(),P(_(Ve),{key:0,class:"the-layout-search-icon",name:"tdesign:close-circle",onClick:i[1]||(i[1]=r=>o())})):(y(),P(_(Ve),{key:1,class:"the-layout-search-icon",name:"tdesign:search"}))])]),w("section",Vc,[v(_(Ko),null,{default:b(()=>[w("div",Mc,[v(Ic,{mergeOnlyOneChild:1})])]),_:1})])])}}}),Uc={name:"Layout"},rn=le({...Uc,setup(e){const n=fe.layout.info,t=K(()=>{const a=[];return fe.layout.info.tagList.forEach(f=>{f.meta.keepAlive&&f.name&&a.push(f.name)}),a}),o=de(),l=de(!1);let i;function s(){i.scrollTo({top:0,left:0,behavior:"smooth"})}function r(){l.value=i.scrollTop>document.documentElement.clientHeight}return He(function(){i=o.value,i.addEventListener("scroll",r),r()}),(a,f)=>{const h=R("router-view");return y(),I("div",{class:Q(["the-layout",_(n).layoutMode,{"has-tag-list":_(n).showTagList},{"collapsed-sidebar":!_(n).showSidebar}])},[v(gc),v(qc),w("div",{class:"the-layout-content",ref_key:"contentBox",ref:o},[v(h,{class:"the-layout-page"},{default:b(({Component:m,route:u})=>[v(Ze,{name:"page-y",mode:"out-in"},{default:b(()=>[(y(),P(xl,{include:t.value},[(y(),P($o(m),{key:u.fullPath}))],1032,["include"]))]),_:2},1024)]),_:1})],512),w("button",{class:Q(["the-layout-to-top fvc",{hidden:!l.value}]),title:"返回顶部",onClick:f[0]||(f[0]=m=>s())},[v(_(Ve),{name:"tdesign:align-top",size:20})],2)],2)}}}),zc={name:"page-404",data(){return{project:fe.projectInfo}}},Wc={class:"page-404 fvc"},Hc={class:"from-right-box mb-[40px]"},Gc={class:"pt-[40px]"},Yc={class:"from-bottom-box flex"},Jc={class:"pt-[20px]"},Kc={class:"desc"},Xc={class:"desc"};function Qc(e,n,t,o,l,i){const s=R("router-link");return y(),I("div",Wc,[w("section",null,[n[5]||(n[5]=kl('<div class="from-top-box f-vertical" data-v-9091b7be><div class="mr-[30px]" data-v-9091b7be><div class="point-icon mb-[50px]" data-v-9091b7be></div><div class="point-icon" data-v-9091b7be></div></div><div class="radius-icon" data-v-9091b7be></div><div class="code-value" data-v-9091b7be>404</div></div>',1)),w("div",Hc,[n[1]||(n[1]=w("p",{class:"text"},"你访问的页面不存在，请确认页面路径是否正确。",-1)),n[2]||(n[2]=w("p",{class:"text"},"我们只收集某些错误信息，然后需要你重新点击返回首页或返回上一页。",-1)),w("div",Gc,[v(s,{class:"go-back fvc",to:"/"},{default:b(()=>[...n[0]||(n[0]=[q("返回首页",-1)])]),_:1})])]),w("div",Yc,[n[4]||(n[4]=w("img",{class:"qrcode-box",src:"https://travis-hjs.github.io/images/reward-code.jpg",alt:"谢谢打赏！"},null,-1)),w("div",Jc,[n[3]||(n[3]=w("p",{class:"desc"},"如需技术支持，请扫码联系作者。",-1)),w("p",Kc,"邮箱地址："+ee(l.project.email),1),w("p",Xc,"项目地址："+ee(l.project.link),1)])])])])}const It=Dn(zc,[["render",Qc],["__scopeId","data-v-9091b7be"]]),Zc=[{path:"/",name:"index",redirect:"/home",component:rn,meta:{title:"首页",icon:"tdesign:home"},children:[{path:"/home",name:"home",meta:{title:"首页展示",icon:"tdesign:bookmark-double",keepAlive:!0},component:()=>ye(()=>import("./home-DDLnMNp1.js"),__vite__mapDeps([0,1,2]),import.meta.url)},{path:"/nested",name:"nested",redirect:"/nested/menu-1",meta:{title:"多级菜单嵌套",icon:"tdesign:tree-square-dot"},component:()=>ye(()=>import("./nested-Dqpc-8yB.js"),__vite__mapDeps([3,1,4]),import.meta.url),children:[{path:"/nested/menu-1",name:"nested/menu-1",meta:{title:"el-plus 表格",keepAlive:!0},component:()=>ye(()=>import("./menu-1-BGt6gxnp.js"),__vite__mapDeps([5,6,1,7,8,9]),import.meta.url)},{path:"/nested/menu-2",name:"nested/menu-2",meta:{title:"el-plus 表单验证",keepAlive:!0},component:()=>ye(()=>import("./menu-2-BJQ5GIUT.js"),__vite__mapDeps([10,1,11]),import.meta.url)},{path:"/nested/three-level",name:"nested/three-level",meta:{title:"三级菜单",keepAlive:!0},redirect:"nested/three-level/menu-1",component:()=>ye(()=>import("./nested-Dqpc-8yB.js"),__vite__mapDeps([3,1,4]),import.meta.url),children:[{path:"/nested/three-level/menu-1",name:"nested/three-level/menu-1",meta:{title:"菜单 3-1",keepAlive:!0},component:()=>ye(()=>import("./menu-1-BGt6gxnp.js"),__vite__mapDeps([5,6,1,7,8,9]),import.meta.url)},{path:"/nested/three-level/menu-2",name:"nested/three-level/menu-2",meta:{title:"菜单 3-2",keepAlive:!0},component:()=>ye(()=>import("./menu-2-BJQ5GIUT.js"),__vite__mapDeps([10,1,11]),import.meta.url)}]},{path:"/nested/four-level",name:"nested/four-level",meta:{title:"三级菜单-2"},redirect:"/nested/four-level/menu-1",component:()=>ye(()=>import("./nested-Dqpc-8yB.js"),__vite__mapDeps([3,1,4]),import.meta.url),children:[{path:"/nested/four-level/menu-1",name:"nested/four-level/menu-1",meta:{title:"菜单 3-2-1",keepAlive:!0},component:()=>ye(()=>import("./menu-1-BGt6gxnp.js"),__vite__mapDeps([5,6,1,7,8,9]),import.meta.url)}]},{path:"/nested/menu-3",name:"nested/menu-3",meta:{title:"菜单 2-3",keepAlive:!0},component:()=>ye(()=>import("./menu-3-CshUdLXT.js"),__vite__mapDeps([12,1,13]),import.meta.url)}]},{path:"/link-baidu",name:"link-baidu",component:It,meta:{title:"百度一下",icon:"tdesign:system-search-filled",link:"https://www.baidu.com"}},{path:"/menu-4",name:"menu-4",meta:{title:"换行菜单标题换行菜单标题",icon:"tdesign:component-layout",keepAlive:!0},component:()=>ye(()=>import("./menu-4-CHVpPKcC.js"),__vite__mapDeps([14,1,15]),import.meta.url)}]},{path:"/example",name:"example",component:rn,meta:{title:"示例页栏目",icon:"tdesign:play-demo"},redirect:"/example/request",children:[{path:"/example/request",name:"example-request",meta:{title:"http-请求示例",keepAlive:!0},component:()=>ye(()=>import("./request-9sq21Wcr.js"),__vite__mapDeps([16,1,17]),import.meta.url)},{path:"/example/components",name:"example-components",meta:{title:"自定义组件",keepAlive:!0},component:()=>ye(()=>import("./the-components-BrunbZTc.js"),__vite__mapDeps([18,1,19]),import.meta.url)},{path:"/example/tsx",name:"example-tsx",meta:{title:"tsx-示例",keepAlive:!0},component:()=>ye(()=>import("./example-RYib6QJW.js"),__vite__mapDeps([7,1,8]),import.meta.url)},{path:"/example/no-found",name:"no-found",meta:{title:"404 页面",link:`${location.origin+location.pathname}#/is-error-path`},component:It},{path:"/example/curd",name:"example-curd",meta:{title:"curd 低代码",keepAlive:!0},component:()=>ye(()=>import("./curd-page-BlomWl9b.js"),__vite__mapDeps([20,21,1,6]),import.meta.url)},{path:"/example/curd-config",name:"example-curd-config",meta:{title:"curd 低代码配置",keepAlive:!0},component:()=>ye(()=>import("./curd-config-CVWEzL-e.js"),__vite__mapDeps([22,21,1,6]),import.meta.url)},{path:"/example/table-page",name:"example-table-page",meta:{title:"通用表格页",keepAlive:!0},component:()=>ye(()=>import("./table-page-BfnIhQJ3.js"),__vite__mapDeps([23,1,6]),import.meta.url)}]},{path:"/"+fe.projectInfo.link,name:"GitHub-Travis",component:It,meta:{title:"项目地址",icon:"tdesign:logo-github-filled",link:fe.projectInfo.link,auth:[0]}},{path:"/menu",name:"menu",meta:{title:"菜单管理"},component:rn,redirect:"/menu/list",children:[{path:"/menu/list",name:"menu-list",component:()=>ye(()=>import("./index-CvQSC4qR.js"),__vite__mapDeps([24,1,25]),import.meta.url),meta:{title:"菜单管理",icon:"tdesign:app",keepAlive:!0}}]}],mt={path:"/",query:{}},_n="redirect404";let Be;function rl(e){const n=[],t=fe.user.info.type;for(let o=0;o<e.length;o++){const l=e[o],i=l.meta?l.meta.auth:void 0;(!i||i&&i.includes(t))&&(l.children&&l.children.length>0&&(l.children=rl(l.children)),n.push(l))}return n}async function ed(e,n){const t=await e();return t.default.name||(t.default.name=n),t}function ul(e){e.forEach(n=>{const{meta:t,component:o,name:l,children:i}=n;t.keepAlive&&ie(o,"function")&&(l?n.component=()=>ed(o,l):console.warn("当前路由需要设置 name 属性才能实现缓存功能：",n)),i&&i.length>0&&ul(i)})}async function td(){const e=rl(Zc);return ul(e),e}function nd(e,n){Be=e,Be.beforeEach(async function(t,o,l){if(ln.start(),fe.user.info.token)if(fe.layout.addRouters.length>0)l();else{fe.layout.addRouters=await td();for(let i=0;i<fe.layout.addRouters.length;i++){const s=fe.layout.addRouters[i];Be.addRoute(s)}Be.hasRoute(_n)||Be.addRoute({...n[1],path:"/:catchAll(.*)",name:_n}),fe.layout.completeRouters=n.concat(fe.layout.addRouters),l({...t,replace:!0})}else t.path==="/login"?l():(mt.path=t.path,mt.query=t.query,l({path:"/login"}),ln.done())}),Be.afterEach(t=>{ln.done(),t.meta&&t.meta.title&&(document.title=t.meta.title)})}function Cd(){Be.replace({path:mt.path,query:mt.query})}function od(){const e=fe.layout.addRouters;for(let n=e.length-1;n>-1;n--){const t=e[n];t.name&&Be.hasRoute(t.name)&&Be.removeRoute(t.name)}mt.path="/",mt.query={},Be.removeRoute(_n),fe.layout.addRouters=fe.layout.completeRouters=[]}const cl=[{path:"/login",name:"login",component:()=>ye(()=>import("./login-V2_sWEF5.js"),__vite__mapDeps([26,1,27]),import.meta.url),meta:{hidden:!0,title:"请登录"}},{path:"/404",name:"page-404",component:It,meta:{hidden:!0,title:"不存在该页面"}},{path:"/401",name:"page-401",component:()=>ye(()=>import("./page-401-DTf55CZy.js"),__vite__mapDeps([28,1,29]),import.meta.url),meta:{hidden:!0,title:"暂无权限访问"}}],dl=Gr({history:Cr(),routes:cl});nd(dl,cl);function ld(e){e.directive("copy",{mounted(t,o){t.addEventListener("click",function(){Pt(o.value,()=>Te.success("复制成功"),l=>Te.success(l))})}}),e.directive("ripple",{mounted(t){const o=pi()?"touchstart":"mousedown";t.setAttribute("ripple",""),t.addEventListener(o,function(l){Ra(l,t)})}}),e.component("base-dialog",Na),[_l,El,Cl,$l,Dl,Sl,Do,Tl,Al,Il,Rl,Ol,Fl,Ll,Pl,Bl,Nl,Vl,Ml,jl,ql,Ul,zl,Wl,Hl,Gl,Yl,Jl,Kl,Xl,Ql,Zl,ei,ti,ni,oi,li,ii,si].forEach(t=>{e.use(t)}),e.directive("loading",ai),e.use(dl)}const fl=ri(Ia);ld(fl);fl.mount("#app");export{ps as $,Ko as A,Yo as B,Le as C,ve as D,Ed as E,cn as F,dn as G,_d as H,kd as I,Gi as J,Jt as K,gd as L,ie as M,Et as N,as as O,Nt as P,ud as Q,Hi as R,cd as S,qe as T,vd as U,os as V,is as W,Ki as X,Bt as Y,yd as Z,Dn as _,Te as a,fd as a0,dd as a1,hs as a2,ad as a3,Ti as a4,Wi as a5,hd as a6,Oi as a7,Vi as a8,rd as a9,ct as aa,oe as ab,Ve as ac,md as ad,Ke as b,Pt as c,Na as d,pd as e,Qe as f,_e as g,mi as h,Fn as i,En as j,Si as k,xd as l,Xe as m,un as n,Cd as o,nt as p,ce as q,ld as r,fe as s,ht as t,nu as u,Fo as v,Je as w,wd as x,Ci as y,bd as z};
