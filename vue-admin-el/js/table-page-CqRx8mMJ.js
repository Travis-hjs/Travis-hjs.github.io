import{g as y,f as I,r as S}from"./index-BbG1w_TF.js";import{_ as w}from"./index.vue_vue_type_style_index_0_lang-LU_EFORo.js";import{S as x,a as B}from"./index-Drdl1D8t.js";import{h,s as v,l as C,e as u,f,c as r,u as l,aA as P,y as k,j as z,z as A,aB as W,r as F,d as L,b as m}from"./element-plus-Bi-D7rwj.js";const T={name:"SearchHeader"},$=h({...T,props:{loading:Boolean,labelWidth:String,searchInfo:{type:Object,required:!0},list:{type:Array,required:!0}},emits:["search"],setup(g,{emit:i}){const n=g,e=i,c=v(()=>n.list.filter(a=>a.type==="slot").map(a=>a.slotName));function d(a){e("search",a)}return(a,p)=>(u(),C(l(B),{"label-width":n.labelWidth},{right:f(()=>[r(l(x),{loading:n.loading,onSearch:d},null,8,["loading"])]),default:f(()=>[r(l(w),{type:"search",data:n.searchInfo,list:n.list},P({_:2},[k(c.value,o=>({name:o,fn:f(t=>[z(a.$slots,o,A(W(t)))])}))]),1032,["data","list"])]),_:3},8,["label-width"]))}}),j={class:"the-common-table-page"},H=h({__name:"table-page",setup(g){function i(){return{}}const n=[{label:"查询名称",prop:"keyword",type:"input",placeholder:"请输入查询关键字"},{label:"日期范围",prop:"date",type:"date",dateType:"datetimerange",bind:["start","end"],placeholder:"请选择日期",class:"date-input"}],e=F({loading:!1,data:[],pageInfo:y(),searchFields:n,searchInfo:i()}),c=[{title:"名称",prop:"name",minWidth:180},{title:"日期",prop:"date",width:180},{title:"操作",prop:"action-right",width:140}],d=[{text:"编辑",icon:"el-icon-edit"},{text:"删除",icon:"el-icon-delete",type:"danger"}],a=Array.from({length:62}).map((t,s)=>({id:s+1,name:S(2,40),date:I()}));async function p(){const t=e.pageInfo.pageSize,s=e.pageInfo.currentPage;e.data=a.slice((s-1)*t,s*t),e.pageInfo.total=a.length}function o(t){t&&(e.searchInfo=i()),e.pageInfo.currentPage=1,p()}return o(),(t,s)=>{const _=m("base-table"),b=m("base-pagination");return u(),L("div",j,[r(l($),{"search-info":e.searchInfo,list:e.searchFields,loading:e.loading,onSearch:o},null,8,["search-info","list","loading"]),r(_,{class:"f1",columns:c,data:e.data,actions:d,loading:e.loading},null,8,["data","loading"]),r(b,{disabled:e.loading,"page-info":e.pageInfo,onChange:p},null,8,["disabled","page-info"])])}}});export{H as default};
