import{H as nt,I as He,a as at,d as ue,h as Z,o as ze,b,e as r,f as S,k as M,B as be,m as T,F as j,c as e,g as l,C as q,t as ne,z as te,u as D,q as $e,ax as Ee,n as se,i as k,N as Ve,r as ie,w as ge,s as it,j as _e,T as rt,K as st}from"./element-plus-DnvTX0jb.js";import{b as ut,F as Le,a as dt}from"./index-DTVl9m5C.js";import{g as ee,h as Me,k as re,f as Ue,i as Ye,b as ve,l as De,n as ct,a as pe,u as pt,c as je,p as ft}from"./index-BmZrXOR6.js";import{v as mt,s as yt}from"./dom-vtHEqTVj.js";import{r as vt}from"./common-BFoPgU3W.js";const Ke="the-curd-state",We=()=>nt(Ke),fe="action-right",me="action-edit",ce={input:"输入框",textarea:"文本域","input-between":"输入框-串联",select:"下拉框-单选","select-multiple":"下拉框-多选",checkbox:"多选复选框",radio:"单选选择框",switch:"开关切换",date:"日期选择器",cascader:"级联选择器"};let Je=0;function Ge(){return Je++,Je}function Be(s){if(s.type=="date"){const c=s.shortcutIndex,t="the-date-shortcut-selected",W=document.querySelector(`.${t}`);if(W&&W.classList.remove(t),ee(c,"number")&&c>=0){const p=qe[s.dateType][c].value();s.value=p;const d=`.${s.id} .el-picker-panel__sidebar`,f=document.querySelector(d);f&&He(()=>f.children[c].classList.add(t))}!ee(s.value,"array")&&s.valueType==="array"&&(s.value=[])}else["object","array"].includes(Me(s.defaultValue))?s.value=re(s.defaultValue):s.value=s.defaultValue}function de(s,c="",t){const W=Ge(),p=Date.now(),d="请输入",f="请选择",m=`field-${s}-${W}-${p}`,J={input:{key:c,id:m,type:"input",value:"",defaultValue:"",placeholder:d,valueType:"string"},textarea:{id:m,value:"",defaultValue:"",type:"textarea",placeholder:d,key:c,valueType:"string"},"input-between":{key:c,id:m,value:["",""],defaultValue:["",""],type:"input-between",placeholder:["请输入范围一","请输入范围二"],separator:"-",valueType:"array"},select:{key:c,id:m,value:"",defaultValue:"",type:"select",placeholder:f,options:[],optionSetting:{label:"",value:""},valueType:"string"},"select-multiple":{key:c,id:m,value:[],defaultValue:[],type:"select-multiple",placeholder:f,options:[],optionSetting:{label:"",value:""},valueType:"array"},checkbox:{key:c,id:m,value:[],defaultValue:[],type:"checkbox",placeholder:f,options:[],optionSetting:{label:"",value:""},valueType:"array"},radio:{key:c,id:m,value:"",defaultValue:"",type:"radio",placeholder:f,options:[],optionSetting:{label:"",value:""},valueType:"string"},switch:{key:c,id:m,value:!1,defaultValue:!1,type:"switch",placeholder:"",valueType:"boolean"},date:{key:c,id:m,value:"",type:"date",placeholder:f,dateType:"date",formatShow:"YYYY-MM-DD",format:"Y-M-D",valueType:"string",shortcutIndex:""},cascader:{key:c,id:m,value:[],defaultValue:[],type:"cascader",placeholder:f,options:[],optionSetting:{label:"",value:"",children:""},multiple:!1,checkStrictly:!1,valueType:"array"}}[s];return J.label="",J.required=!1,J}function Oe(s,c){return{label:c,prop:s,width:void 0,minWidth:void 0,tooltip:s!==fe,cellType:"text",sort:!1,fixed:!1,iconTips:"",imageWidth:void 0,imageHeight:void 0,jsCode:"",visible:!0}}function Ie(){return{width:500,labelWidth:120,labelPosition:"left",fields:[]}}function Te(){return{key:`action-${Ge()}-${Date.now()}`,text:"",icon:"",click:"",type:"primary"}}function Ze(s){const c={value:s.value,result:!0};if(s.type==="date"){if(!c.value)return c.result=s.placeholder,c;if(["datetimerange","daterange"].includes(s.dateType)){const d=s.value;return d.length<2?(c.result=s.placeholder,c):(c.value=d.map(f=>Ue(f,s.format)),c)}return c.value=Ue(s.value,s.format),c}const t=[null,void 0,""];if(s.type==="input-between"){const d=s.value;if(t.includes(d[0]))return c.result=s.placeholder[0],c;if(t.includes(d[1]))return c.result=s.placeholder[1],c;c.value=JSON.parse(JSON.stringify(d))}if(["input","textarea","radio","select"].includes(s.type)&&t.includes(s.value))return c.result=s.placeholder,c;if(["checkbox","select-multiple"].includes(s.type)){const d=s.value;if(!d.length)return c.result=s.placeholder,c;c.value=JSON.parse(JSON.stringify(d))}return c}function ke(s){if(s)return s=parseInt(s.toString()),s=Math.abs(s),`${s}px`}const Pe=[{label:"选择年份",value:"year",formatShow:"YYYY",format:"Y"},{label:"选择年份-月份",value:"month",formatShow:"YYYY-MM",format:"Y-M"},{label:"选择年份-周",value:"week",formatShow:"YYYY年 第ww周",format:"Y-M-D"},{label:"选择年份-月份-日",value:"date",formatShow:"YYYY-MM-DD",format:"Y-M-D"},{label:"选择年份-月份-日 时:分:秒",value:"datetime",formatShow:"YYYY-MM-DD HH:mm:ss",format:"Y-M-D h:m:s"},{label:"选择日期范围",value:"daterange",formatShow:"YYYY-MM-DD",format:"Y-M-D"},{label:"选择日期-时间范围",value:"datetimerange",formatShow:"YYYY-MM-DD HH:mm:ss",format:"Y-M-D h:m:s"}],Xe=3600*1e3*24;function ye(s=0){const c=new Date;return c.setMonth(new Date().getMonth()-s),c}function we(s=0){const c=new Date,t=Xe*7*s;return c.setTime(c.getTime()-t),c}const Ne=[{text:"今天",value:()=>new Date},{text:"昨天",value(){const s=new Date;return s.setTime(s.getTime()-Xe),s}},{text:"一周前",value:()=>we(1)},{text:"一个月前",value:()=>ye(1)},{text:"三个月前",value:()=>ye(3)},{text:"半年前",value:()=>ye(6)},{text:"一年前",value:()=>ye(12)}],Re=Ne.map((s,c)=>{const t=c===0,W=new Date().toLocaleDateString(),p=[new Date(`${W} 00:00:00`),new Date(`${W} 23:59:59`)];return{text:t?"今天内":`${s.text}至今`,value:()=>t?p:[s.value(),new Date]}}),qe={year:[{text:"今年",value:()=>new Date},{text:"去年",value:()=>new Date(new Date().setFullYear(new Date().getFullYear()-1))},{text:"前年",value:()=>new Date(new Date().setFullYear(new Date().getFullYear()-2))}],month:[{text:"当月",value:()=>new Date},{text:"上月",value:()=>ye(1)},{text:"前3个月",value:()=>ye(3)},{text:"前6个月",value:()=>ye(6)},{text:"前12个月",value:()=>ye(12)}],week:[{text:"本周",value:()=>new Date},{text:"上周",value:()=>we(1)},{text:"上2周",value:()=>we(2)},{text:"上3周",value:()=>we(3)},{text:"上4周",value:()=>we(4)}],date:Ne,datetime:Ne,daterange:Re,datetimerange:Re};function ht(s){const c=window;for(const t in s){const W=`_${t}`;c[W]=s[t]}at(function(){for(const t in s){const W=`_${t}`;c[W]=null}})}function oe(s){return`<b style="color: var(--yellow)"> ${s} </b>`}const gt={name:"Field"},xe=ue({...gt,props:{fieldData:{type:Object,required:!0},editMode:Boolean,readonly:Boolean,disabled:Boolean},emits:["change"],setup(s,{emit:c}){const t=s,W=c;Be(t.fieldData);function p(x){let h=x||t.fieldData.value;ee(h,"array")&&(h=re(h)),W("change",h)}const d=Z(()=>t.fieldData),f=Z(()=>{const x=t.fieldData.optionSetting||{};return{value:x.value||"value",label:x.label||"label"}}),m=Z(()=>{const x=t.fieldData;return{multiple:x.multiple,checkStrictly:x.checkStrictly,value:x.optionSetting.value||"value",label:x.optionSetting.label||"label",children:x.optionSetting.children||"children"}});function I(x){const h=d.value.placeholder;return{disabled:t.disabled,readonly:t.readonly,clearable:!0,placeholder:ee(x,"number")?h[x]:h}}function J(x){const h=t.fieldData;h.valueType==="number"?(h.value=Ye(x,!0,!0),p(Number(h.value))):(h.value=x,p())}function O(x,h){const Y=t.fieldData;Y.valueType==="array<number>"?(Y.value[h]=Ye(x,!0,!0),p(Y.value.map(G=>Number(G)))):(Y.value[h]=x,p())}const R=["-",".","",null,void 0];function Q(){const x=t.fieldData;x.valueType==="number"&&(R.includes(x.value)?x.value="":x.value=Number(x.value))}function P(x){const h=t.fieldData;if(h.valueType==="array<number>"){const Y=h.value[x];R.includes(Y)?h.value[x]="":h.value[x]=Number(Y)}}function _(x){const h=x.type==="select-multiple";return{placeholder:x.placeholder,disabled:t.disabled,multiple:x.type==="select-multiple",clearable:!0,filterable:!0,collapseTags:!0,class:`field-item${h?" is-multiple-select":""}`}}let A=[];const B="the-date-shortcut-selected";function a(){const x=document.querySelector(`.${B}`);x&&x.classList.remove(B),p()}function L(x){x.classList.add(B)}return ze(function(){const x=t.fieldData;if(x.type==="date"){const h=`.${x.id} .el-picker-panel__sidebar`,Y=document.querySelector(h);if(!Y)return console.warn("找不到日期快捷面板节点！");A=Array.from(Y.children),A.forEach(N=>{N.addEventListener("click",()=>L(N))});const G=x.shortcutIndex;ee(G,"number")&&G>=0&&L(A[G])}}),(x,h)=>{const Y=b("el-input"),G=b("el-text"),N=b("el-select-v2"),K=b("el-option"),U=b("el-select"),u=b("el-checkbox"),n=b("el-checkbox-group"),E=b("el-radio"),F=b("el-radio-group"),y=b("el-switch"),v=b("el-cascader"),$=b("el-date-picker");return r(),S("div",{class:"the-curd-form-field f-vertical short-value",style:$e({width:D(ke)(d.value.valueWidth)})},[d.value.type==="input"?(r(),M(Y,be({key:0,"model-value":d.value.value},I(),{class:"the-curd-field",onInput:J,onBlur:Q}),null,16,["model-value"])):T("",!0),d.value.type==="textarea"?(r(),M(Y,{key:1,modelValue:d.value.value,"onUpdate:modelValue":h[0]||(h[0]=o=>d.value.value=o),readonly:t.readonly,disabled:t.disabled,autosize:{minRows:2,maxRows:10},placeholder:d.value.placeholder,type:"textarea",class:"the-curd-field",onInput:h[1]||(h[1]=o=>p())},null,8,["modelValue","readonly","disabled","placeholder"])):T("",!0),d.value.type==="input-between"?(r(),S(j,{key:2},[e(Y,be({"model-value":d.value.value[0]},I(0),{class:"f1",onInput:h[2]||(h[2]=o=>O(o,0)),onBlur:h[3]||(h[3]=o=>P(0))}),null,16,["model-value"]),e(G,{style:{padding:"0 6px"}},{default:l(()=>[q(ne(d.value.separator),1)]),_:1}),e(Y,be({"model-value":d.value.value[1]},I(1),{class:"f1",onInput:h[4]||(h[4]=o=>O(o,1)),onBlur:h[5]||(h[5]=o=>P(1))}),null,16,["model-value"])],64)):T("",!0),d.value.type==="select"||d.value.type==="select-multiple"?(r(),S(j,{key:3},[d.value.options.length>50?(r(),M(N,be({key:0,modelValue:d.value.value,"onUpdate:modelValue":h[6]||(h[6]=o=>d.value.value=o),options:d.value.options,props:d.value.optionSetting},_(d.value),{onChange:h[7]||(h[7]=o=>p())}),null,16,["modelValue","options","props"])):(r(),M(U,be({key:1,modelValue:d.value.value,"onUpdate:modelValue":h[8]||(h[8]=o=>d.value.value=o)},_(d.value),{onChange:h[9]||(h[9]=o=>p())}),{default:l(()=>[(r(!0),S(j,null,te(d.value.options,o=>(r(),M(K,{key:o[f.value.value],value:o[f.value.value],label:o[f.value.label]},null,8,["value","label"]))),128))]),_:1},16,["modelValue"]))],64)):T("",!0),d.value.type==="checkbox"?(r(),S(j,{key:4},[e(n,{modelValue:d.value.value,"onUpdate:modelValue":h[10]||(h[10]=o=>d.value.value=o),disabled:t.disabled,onChange:h[11]||(h[11]=o=>p())},{default:l(()=>[(r(!0),S(j,null,te(d.value.options,o=>(r(),M(u,{key:o[f.value.value],value:o[f.value.value]},{default:l(()=>[q(ne(o[f.value.label]),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","disabled"]),t.editMode&&!d.value.options.length?(r(),M(G,{key:0,type:"primary"},{default:l(()=>[q(ne(D(ce).checkbox)+"（空数据） ",1)]),_:1})):T("",!0)],64)):T("",!0),d.value.type==="radio"?(r(),S(j,{key:5},[e(F,{modelValue:d.value.value,"onUpdate:modelValue":h[12]||(h[12]=o=>d.value.value=o),disabled:t.disabled,onChange:h[13]||(h[13]=o=>p())},{default:l(()=>[(r(!0),S(j,null,te(d.value.options,o=>(r(),M(E,{key:o[f.value.value],value:o[f.value.value]},{default:l(()=>[q(ne(o[f.value.label]),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","disabled"]),t.editMode&&!d.value.options.length?(r(),M(G,{key:0,type:"primary"},{default:l(()=>[q(ne(D(ce).radio)+"（空数据） ",1)]),_:1})):T("",!0)],64)):T("",!0),d.value.type==="switch"?(r(),M(y,{key:6,modelValue:d.value.value,"onUpdate:modelValue":h[14]||(h[14]=o=>d.value.value=o),"inline-prompt":"","active-text":"是","inactive-text":"否",onChange:h[15]||(h[15]=o=>p())},null,8,["modelValue"])):T("",!0),d.value.type==="cascader"?(r(),M(v,{key:7,modelValue:d.value.value,"onUpdate:modelValue":h[16]||(h[16]=o=>d.value.value=o),options:d.value.options,props:m.value,placeholder:d.value.placeholder,disabled:t.disabled,clearable:"","collapse-tags":"","collapse-tags-tooltip":"",filterable:"",class:"the-curd-field",onChange:h[17]||(h[17]=o=>p())},null,8,["modelValue","options","props","placeholder","disabled"])):T("",!0),d.value.type==="date"?(r(),M($,{key:8,modelValue:d.value.value,"onUpdate:modelValue":h[18]||(h[18]=o=>d.value.value=o),placeholder:d.value.placeholder,type:d.value.dateType,format:d.value.formatShow,shortcuts:D(qe)[d.value.dateType],disabled:t.disabled,"popper-class":d.value.id.toString(),"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",class:"the-curd-field",onChange:a},null,8,["modelValue","placeholder","type","format","shortcuts","disabled","popper-class"])):T("",!0)],4)}}}),bt={key:0,class:"el-icon-rank el-icon--left"},_t={style:{"line-height":"1"}},kt={key:0,class:"the-curd-edit-mask f-vertical f-right"},wt=k("i",{class:"el-icon-delete el-icon--left"},null,-1),xt=k("i",{class:"el-icon-edit el-icon--left"},null,-1),Vt=k("i",{class:"el-icon-plus"},null,-1),Dt={name:"Search"},$t=ue({...Dt,props:{data:{type:Object,required:!0}},emits:["search"],setup(s,{emit:c}){const t=s,W=c,p=We(),d=Z(()=>p.editor.type==="search"&&!p.editor.show);function f(P){const _=t.data.list[P].label||t.data.list[P].key;ve({title:"操作提示",content:`是否删除【${_}】？`,cancelText:"取消",confirm(){t.data.list.splice(P,1)}})}function m(P){p.editor.index=P,p.editor.action="edit",p.editor.show=!0}function I(P){return p.editor.index===P&&p.editor.type==="search"&&p.editor.show}function J(){p.editor.index=-1,p.editor.action="add",p.editor.show=!0}const{onDragStart:O,onDragMove:R,onDropEnd:Q}=De({list:()=>t.data.list,key:"id",findLevel:5});return(P,_)=>{const A=b("el-button"),B=b("el-text");return r(),M(D(dt),{class:"the-curd-search","label-right":t.data.labelRight,"label-width":D(ke)(t.data.labelWidth)||"auto"},Ee({content:l(()=>[e(Ve,{name:"the-group",tag:"div",class:"the-filter-content f1"},{default:l(()=>[(r(!0),S(j,null,te(t.data.list,(a,L)=>(r(),M(D(Le),{key:a.id,"data-key":a.id,class:se([{"the-curd-selected":I(L)},a.id]),label:a.label,"label-width":D(ke)(a.labelWidth),required:a.required,draggable:d.value,onDragstart:x=>D(O)(L),onDragover:x=>D(R)(x,L),onDrop:_[0]||(_[0]=x=>D(Q)())},Ee({default:l(()=>[e(xe,{"field-data":a,disabled:D(p).loading},null,8,["field-data","disabled"]),d.value?(r(),S("div",kt,[e(A,{link:"",type:"danger",onClick:x=>f(L)},{default:l(()=>[wt,q(" 删除 ")]),_:2},1032,["onClick"]),e(A,{link:"",type:"success",onClick:x=>m(L)},{default:l(()=>[xt,q(" 编辑 ")]),_:2},1032,["onClick"])])):T("",!0)]),_:2},[D(p).editor.type==="search"?{name:"label",fn:l(()=>[d.value?(r(),S("i",bt)):T("",!0),k("span",_t,ne(a.label),1)]),key:"0"}:void 0]),1032,["data-key","class","label","label-width","required","draggable","onDragstart","onDragover"]))),128)),d.value?(r(),M(D(Le),{key:0},{default:l(()=>[t.data.list.length?T("",!0):(r(),M(B,{key:0,type:"info",style:{"margin-right":"12px"}},{default:l(()=>[q(" 请添加筛选条件~ ")]),_:1})),e(A,{type:"primary",circle:"",onClick:_[1]||(_[1]=a=>J())},{default:l(()=>[Vt]),_:1})]),_:1})):T("",!0)]),_:1})]),_:2},[D(p).editor.type?void 0:{name:"right",fn:l(()=>[e(D(ut),{loading:D(p).loading,onSearch:_[2]||(_[2]=a=>W("search",a))},null,8,["loading"])]),key:"0"}]),1032,["label-right","label-width"])}}});function Qe(s){const c=s.onAction||(()=>{});return e(j,null,[e(b("el-button"),{onClick:()=>c("exit")},{default:()=>[q("退 出")]}),e(b("el-button"),{type:"success",plain:!0,onClick:()=>c("copy")},{default:()=>[e("i",{class:"el-icon-document-copy el-icon--left"},null),q("复制JSON")]}),e(b("el-button"),{type:"primary",onClick:()=>c("complete")},{default:()=>[q("保 存")]})])}function Se(s){const c=s.onClose||(()=>{}),t=s.onSubmit||(()=>{});return e(j,null,[e(b("el-button"),{onClick:c},{default:()=>[q("取 消")]}),e(b("el-button"),{type:"primary",loading:s.loading,disabled:s.disabledSubmit,onClick:t},{default:()=>[q("确 认")]})])}function St(s){const c={};return s.imageWidth&&(c.width=`${s.imageWidth}px`),s.imageHeight&&(c.height=`${s.imageHeight}px`),c}function et(s){function c(){ct({urls:s.previewList?s.previewList:[s.src]})}return s.column.cellType==="image"?e(b("el-image"),{class:"the-table-image",style:St(s.column),src:s.src,onClick:c,fit:"cover"},null):null}function he(s){return e(j,null,[s.label,e(b("el-tooltip"),{effect:"dark",content:s.tips,"raw-content":!0,placement:"top-start"},{default:()=>[e(b("el-button"),{type:"info",link:!0,style:"height: 32px;"},{default:()=>[e("i",{class:"el-icon-question"},null)]})]})])}function Ct(){const s=Array.from({length:6}).map((c,t)=>({id:t}));return e("div",{class:"the-thumbnail-search flex"},[e("div",{class:"the-thumbnail-search-content f1"},[s.map(c=>e("div",{key:c.id,class:"the-thumbnail-search-item"},null))]),e("div",{class:"the-thumbnail-search-btn f-vertical"},[e("i",{class:"el-icon-search"},null)])])}function Tt(){return e("section",{class:"the-thumbnail-table"},[e("svg",{width:280,height:180,viewBox:`0 0 ${280*1} ${180*1}`,fill:"none",xmlns:"http://www.w3.org/2000/svg","data-v-d2b0a988":"",class:"the-thumbnail-table-svg"},[e("rect",{width:280,height:180,fill:""},null),e("g",{filter:"url(#filter0_d_13550_224439)"},[e("path",{d:"M65 60C65 58.8954 65.8954 58 67 58H213C214.105 58 215 58.8954 215 60V132C215 133.105 214.105 134 213 134H67C65.8954 134 65 133.105 65 132V60Z",fill:"var(--el-fill-color-blank)"},null),e("path",{d:"M67 57.7C65.7297 57.7 64.7 58.7297 64.7 60V132C64.7 133.27 65.7297 134.3 67 134.3H213C214.27 134.3 215.3 133.27 215.3 132V60C215.3 58.7297 214.27 57.7 213 57.7H67Z",stroke:"var(--el-border-color-dark)","stroke-width":.6*1},null)]),[76,92,108,124].map((W,p)=>e("rect",{key:p,x:71*1,y:W*1,width:16*1,height:4*1,rx:2*1,fill:"var(--el-color-primary)"},null)),[107,143,197].map((W,p)=>[76,92,108,124].map((d,f)=>e("rect",{key:`${p}-${f}`,x:W*1,y:d*1,width:p===2?12*1:20*1,height:4*1,rx:2*1,fill:"var(--el-border-color-dark)"},null))),e("path",{d:"M65 60C65 58.8954 65.8954 58 67 58H213C214.105 58 215 58.8954 215 60V70H65V60Z",fill:"var(--el-border-color-light)"},null),[71,107,143,199].map(W=>e("rect",{key:W,x:W*1,y:63*1,width:10*1,height:2*1,rx:1*1,fill:"var(--el-border-color-dark)"},null)),[85.75,101.75,117.75].map((W,p)=>e("line",{key:p,x1:65*1,y1:W*1,x2:215*1,y2:W*1,stroke:"var(--el-border-color-light)","stroke-width":.5*1},null)),e("defs",null,[e("filter",{id:"filter0_d_13550_224439",x:"51.0666",y:"44.0671",width:177.867*1,height:103.866*1,filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[e("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"},null),e("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"},null),e("feOffset",null,null),e("feGaussianBlur",{stdDeviation:6.66667*1},null),e("feComposite",{in2:"hardAlpha",operator:"out"},null),e("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"},null),e("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_13550_224439"},null),e("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_13550_224439",result:"shape"},null)])])])])}const Et={class:"w-full f-vertical mgb-10"},Mt=k("div",{class:"f1"},null,-1),Ut=k("i",{class:"el-icon--left el-icon-delete"},null,-1),Ot=k("i",{class:"el-icon--left el-icon-plus"},null,-1),Nt=k("i",{class:"el-icon--left el-icon-download"},null,-1),Wt=k("i",{class:"el-icon--left el-icon-setting"},null,-1),Bt={class:"f-vertical f-between mgb-10"},qt=k("i",{class:"el-icon--left el-icon-refresh-left"},null,-1),At={key:0,class:"el-icon--left el-icon-rank"},Ft={class:"f1"},Lt={name:"TableOperation"},tt=ue({...Lt,props:{config:{type:Object,required:!0},editMode:{type:Boolean},disabled:{type:Boolean}},emits:["action"],setup(s,{emit:c}){const t=s,W=c;function p(B){W("action",B)}const d={on:"el-icon-success",off:"el-icon-remove-outline"},f=Z(()=>{const B=t.config;return{add:B.formAdd&&B.formAdd.fields.length>0,edit:B.formEdit&&B.formEdit.fields.length>0,delete:!!B.selectKey}}),m=Z(()=>{const B=f.value.delete,a=f.value.add,L=f.value.edit;return[{type:"delete",text:B?"修改删除":"配置删除",icon:B?d.on:d.off,style:B?"primary":"info"},{type:"add",text:a?"修改新增表单":"配置新增表单",icon:a?d.on:d.off,style:a?"primary":"info"},{type:"edit",text:L?"修改编辑表单":"配置编辑表单",icon:L?d.on:d.off,style:L?"primary":"info"}]}),I=[{label:"固定左边",value:"left"},{label:"默认",value:!1},{label:"固定右边",value:"right"}],{onDragStart:J,onDragMove:O,onDropEnd:R}=De({list:()=>t.config.columns,key:"prop"});function Q(B,a){const L=B.prop===fe,x=B.key||B.prop;return{"data-key":x,key:x,draggable:L?void 0:!0,title:L?"操作栏不可排序，只能显示隐藏操作":void 0,onDragstart:L?void 0:()=>J(a),onDragover:L?void 0:h=>O(h,a),onDrop:L?void 0:R}}const P=ie({showFixed:!1});let _=[];function A(){t.config.columns=_}return ge(()=>t.config.columns,function(B){t.editMode||(_=re(B))},{immediate:!0}),(B,a)=>{const L=b("el-button"),x=b("el-checkbox"),h=b("el-radio-button"),Y=b("el-radio-group"),G=b("el-switch"),N=b("el-empty"),K=b("el-popover");return r(),S("div",Et,[t.editMode?(r(!0),S(j,{key:0},te(m.value,U=>(r(),M(L,{key:U.type,type:U.style,link:"",onClick:u=>p(U.type)},{default:l(()=>[k("i",{class:se(["el-icon--left",U.icon])},null,2),q(" "+ne(U.text),1)]),_:2},1032,["type","onClick"]))),128)):T("",!0),it(B.$slots,"default"),t.editMode?T("",!0):(r(),S(j,{key:1},[Mt,f.value.delete?(r(),M(L,{key:0,type:"danger",link:"",disabled:t.disabled,onClick:a[0]||(a[0]=U=>p("delete"))},{default:l(()=>[Ut,q(" 删除 ")]),_:1},8,["disabled"])):T("",!0),f.value.add?(r(),M(L,{key:1,type:"primary",link:"",disabled:t.disabled,onClick:a[1]||(a[1]=U=>p("add"))},{default:l(()=>[Ot,q(" 新增 ")]),_:1},8,["disabled"])):T("",!0),e(L,{type:"primary",link:"",disabled:t.disabled,onClick:a[2]||(a[2]=U=>p("export"))},{default:l(()=>[Nt,q(" 导出 ")]),_:1},8,["disabled"]),e(K,{placement:"bottom-start",width:P.showFixed?500:300,transition:"el-zoom-in-top",trigger:"click"},{reference:l(()=>[e(L,{type:"primary",link:"",disabled:t.disabled},{default:l(()=>[Wt,q(" 表格列设置 ")]),_:1},8,["disabled"])]),default:l(()=>[k("div",Bt,[e(x,{modelValue:P.showFixed,"onUpdate:modelValue":a[3]||(a[3]=U=>P.showFixed=U),label:"配置固定列"},null,8,["modelValue"]),e(L,{type:"primary",link:"",onClick:a[4]||(a[4]=U=>A())},{default:l(()=>[qt,q(" 重置 ")]),_:1})]),e(Ve,{name:"the-group",tag:"div",class:"the-curd-setting-list the-curd-scrollbar"},{default:l(()=>[(r(!0),S(j,null,te(t.config.columns,(U,u)=>(r(),S("div",be({class:"the-curd-option-item f-vertical"},Q(U,u)),[U.prop!==D(fe)?(r(),S("i",At)):T("",!0),k("span",Ft,ne(U.label),1),P.showFixed?(r(),M(Y,{key:1,modelValue:U.fixed,"onUpdate:modelValue":n=>U.fixed=n,size:"small",class:"mgr-10"},{default:l(()=>[(r(),S(j,null,te(I,n=>e(h,{key:n.value.toString(),value:n.value},{default:l(()=>[q(ne(n.label),1)]),_:2},1032,["value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])):T("",!0),e(G,{modelValue:U.visible,"onUpdate:modelValue":n=>U.visible=n,"inline-prompt":"","active-text":"显示","inactive-text":"隐藏"},null,8,["modelValue","onUpdate:modelValue"])],16))),256)),t.config.columns.length?T("",!0):(r(),M(N,{key:"empty","image-size":120,description:"暂无可以设置的表格列"}))]),_:1})]),_:1},8,["width"])],64))])}}}),Yt={key:0,class:"el-icon-rank el-icon--left",style:{"line-height":"32px"}},jt={class:"f-vertical w-full"},Jt=k("i",{class:"el-icon-edit"},null,-1),It=k("i",{class:"el-icon-delete"},null,-1),Pt=k("i",{class:"el-icon--left el-icon-plus"},null,-1),Rt=k("i",{class:"el-icon--left el-icon-plus"},null,-1),Ht={key:"bottom-setting"},zt=k("i",{class:"el-icon--left el-icon-delete"},null,-1),Kt=k("i",{class:"el-icon--left el-icon-check"},null,-1),Gt={name:"TableForm"},lt=ue({...Gt,props:{config:{type:Object,default:()=>Ie()},type:{type:String},editMode:{type:Boolean},disabled:{type:Boolean}},emits:["change"],setup(s,{expose:c,emit:t}){const W=s,p=t,d=_e(),f=Ie(),m=ie({config:f,form:{},rules:{}}),I=We(),J=Z(()=>W.type==="add"?"新增":"编辑"),O=Z(()=>I.editor.show);function R(U){a(),I.editor.action=U>=0?"edit":"add",I.editor.form=m.config,I.editor.index=U,I.editor.show=!0}function Q(U){const u=m.config.fields;a(),ve({title:"操作提示",content:`是否删除【${u[U].label}】？`,cancelText:"取消",confirm(){u.splice(U,1)}})}function P(){ve({title:"操作提示",content:`是否移除【${J.value}】表单？移除后将不会出现对应功能按钮。`,cancelText:"取消",confirm(){m.config.fields=[]}})}function _(){p("change")}function A(){const U=W.type==="add"?"编辑":"新增";ve({title:"操作提示",content:`是否将表单数据同步到【${U}】表单？`,cancelText:"不同步",confirmText:"同步",cancel(){p("change",m.config)},confirm(){p("change",m.config,!0)}})}function B(U){var u;(u=d.value)==null||u.validate(n=>{if(n&&U){const E=N.value,F={};K.value.forEach(y=>{F[y.key]=E[y.key]}),U(E,F)}})}function a(){var U;(U=d.value)==null||U.clearValidate()}function L(){m.config.fields.forEach(Be)}function x(U){m.config.fields.forEach(u=>{if(Object.prototype.hasOwnProperty.call(U,u.key)){const n=U[u.key];if(!n)return;switch(u.type){case"date":ee(n,"array")?u.value=n.map(E=>new Date(E)):u.value=new Date(n);break;default:u.value=n;break}}})}const{onDragStart:h,onDragMove:Y,onDropEnd:G}=De({list:()=>m.config.fields,key:"id",findLevel:10});ge(()=>W.config,function(U){U&&(m.config=re(U))},{immediate:!0}),ge(()=>m.config.fields,function(U){const u={},n={},E=["input","input-between","textarea"];U&&U.forEach(F=>{u[F.key]=F.value,F.required&&(n[F.key]=[{required:!0,validator(y,v,$){const o=[void 0,null,""];if(F.type==="input-between"&&!F.value[0]&&!F.value[1]){$(new Error("请输入两个范围字段"));return}if(F.valueType==="array"&&!F.value.length){$(new Error(F.placeholder||"请选择"));return}if(F.valueType!=="boolean"&&o.includes(F.value)){const i=E.includes(F.type)?"请输入内容":"请选择";$(new Error(F.placeholder||i));return}$()},trigger:E.includes(F.type)?"blur":"change"}])}),m.form=u,m.rules=n,setTimeout(a)},{immediate:!0});const N=Z(()=>{const U={};return m.config.fields.forEach(u=>{U[u.key]=Ze(u).value}),U}),K=Z(()=>m.config.fields.filter(U=>{const u=U.show;if(!u)return!0;if(ee(u,"function"))return u(N.value);if(u.includes("return"))try{return new Function("formData",u)(N.value)}catch(n){console.warn("解析表单展示逻辑代码错误 >>",n)}return!0}));return c({clear:a,validate:B,reset:L,setFormData:x}),(U,u)=>{const n=b("el-button"),E=b("el-form-item"),F=b("el-empty"),y=b("el-form");return r(),M(y,{ref_key:"formRef",ref:d,model:m.form,rules:m.rules,labelWidth:D(ke)(m.config.labelWidth),labelPosition:m.config.labelPosition,disabled:W.disabled,style:$e(W.editMode?{width:D(ke)(m.config.width)}:null),class:se([{"is-edit-form":W.editMode}])},{default:l(()=>[W.editMode?(r(),S(j,{key:0},[e(Ve,{name:"the-group",tag:"div"},{default:l(()=>[(r(!0),S(j,null,te(m.config.fields,(v,$)=>(r(),M(E,{class:se([{"the-curd-selected":D(I).editor.index===$&&O.value}]),prop:v.key,key:v.id,"data-key":v.id,draggable:m.config.fields.length>1&&!D(I).editor.show?!0:null,onDragstart:o=>D(h)($),onDragover:o=>D(Y)(o,$),onDrop:D(G)},{label:l(()=>[m.config.fields.length>1&&!D(I).editor.show?(r(),S("i",Yt)):T("",!0),k("span",null,ne(v.label),1)]),default:l(()=>[k("div",jt,[e(xe,{class:"mgr-10",fieldData:v,editMode:""},null,8,["fieldData"]),e(n,{link:"",type:"success",disabled:O.value,onClick:o=>R($)},{default:l(()=>[Jt]),_:2},1032,["disabled","onClick"]),e(n,{link:"",type:"danger",disabled:O.value,onClick:o=>Q($)},{default:l(()=>[It]),_:2},1032,["disabled","onClick"])])]),_:2},1032,["class","prop","data-key","draggable","onDragstart","onDragover","onDrop"]))),128))]),_:1}),m.config.fields.length?T("",!0):(r(),M(F,{key:0,description:`当前没有表单项，当没有表单项时【${J.value}】功能按钮不会出现~`},{default:l(()=>[O.value?T("",!0):(r(),M(n,{key:0,type:"primary",onClick:u[0]||(u[0]=v=>R(-1))},{default:l(()=>[Pt,q(" 添加表单项 ")]),_:1}))]),_:1},8,["description"])),O.value?T("",!0):(r(),S(j,{key:1},[m.config.fields.length?(r(),M(E,{key:"bottom-add"},{default:l(()=>[e(n,{type:"primary",onClick:u[1]||(u[1]=v=>R(-1))},{default:l(()=>[Rt,q(" 继续添加 ")]),_:1})]),_:1})):T("",!0),k("div",Ht,[e(n,{link:"",onClick:u[2]||(u[2]=v=>_())},{default:l(()=>[q(" 退出编辑 ")]),_:1}),e(n,{type:"danger",link:"",disabled:!m.config.fields.length,onClick:u[3]||(u[3]=v=>P())},{default:l(()=>[zt,q(" 清空表单 ")]),_:1},8,["disabled"]),e(n,{type:"success",link:"",onClick:u[4]||(u[4]=v=>A())},{default:l(()=>[Kt,q(" 保存表单 ")]),_:1})])],64))],64)):T("",!0),!W.editMode&&m.config&&m.config.fields?(r(!0),S(j,{key:1},te(K.value,v=>(r(),M(E,{label:v.label,prop:v.key,key:v.id},{default:l(()=>[e(xe,{fieldData:v},null,8,["fieldData"])]),_:2},1032,["label","prop"]))),128)):T("",!0)]),_:1},8,["model","rules","labelWidth","labelPosition","disabled","style","class"])}}}),Zt={key:1,class:"f-vertical w-full"},Xt=k("i",{class:"el-icon--right el-icon-question the-tips-icon"},null,-1),Qt={key:1,class:"f1 f-right"},el={name:"TableHeader"},ot=ue({...el,props:{column:{type:Object,required:!0}},emits:["sort"],setup(s,{emit:c}){const t=s,W=c,p=Z(()=>!t.column.sort&&!t.column.iconTips),d={true:{index:0,icon:"el-icon-sort"},asc:{index:1,icon:"el-icon-sort-up"},desc:{index:2,icon:"el-icon-sort-down"}},f=[!0,"asc","desc"];function m(){const I=t.column.sort.toString();let J=d[I].index;J++,J>=f.length&&(J=0);const O=f[J];W("sort",t.column.prop,O)}return(I,J)=>{const O=b("el-tooltip"),R=b("el-button");return p.value?(r(),S(j,{key:0},[q(ne(t.column.label),1)],64)):(r(),S("div",Zt,[k("span",null,ne(t.column.label),1),t.column.iconTips?(r(),M(O,{key:0,effect:"dark",content:t.column.iconTips,placement:"top"},{default:l(()=>[Xt]),_:1},8,["content"])):T("",!0),t.column.sort?(r(),S("div",Qt,[e(R,{link:"",onClick:m},{default:l(()=>[k("i",{class:se(["el-icon--right",d[t.column.sort.toString()].icon])},null,2)]),_:1})])):T("",!0)]))}}}),tl={name:"TableColumnConfig"},ll=ue({...tl,props:{show:{type:Boolean,required:!0},type:{type:String,required:!0},keys:{type:Array,required:!0},form:Object},emits:["update:show","submit"],setup(s,{emit:c}){const t=s,W=c,p=ie({show:!1,form:Oe("","")}),d=Z(()=>({add:"新增",edit:"编辑",copy:"复制"})[t.type]+"表格列"),f=_e(),m={label:{required:!0,message:"请输入表格列标题",trigger:"blur"},prop:{required:!0,validator(P,_,A){_?t.keys.includes(p.form.prop)?A(new Error("已经存在相同的值！")):A():A(new Error("输入字段不能为空！"))},trigger:"blur"},jsCode:{required:!0,validator(P,_,A){_?_.includes("return")?A():A(new Error('代码片段必须带有返回字段 "return"')):A(new Error("代码片段不能为空！"))},trigger:"blur"}},I=[{label:"默认普通文本",value:"text"},{label:"图片预览组件",value:"image"},{label:"自定义 js 代码",value:"js"}],J=[{label:"不可排序",value:!1},{label:"可排序",value:!0},{label:"默认升序",value:"asc"},{label:"默认降序",value:"desc"}],O=`
<p>函数代码片段：</p>
<p>第一个参数${oe("cellValue")}是表格值;</p>
<p>第二个参数${oe("row")}是完整对象;</p>
<p>例如：${oe("return cellValue + row.id;")};</p>
<p>也可以是HTML：${oe("return `html 标签`")};</p>
`;function R(){W("update:show",!1)}function Q(){var P;(P=f.value)==null||P.validate(_=>{if(!_)return;const A=re(p.form);["width","minWidth","imageWidth","imageHeight"].forEach(a=>{A[a]&&(A[a]=Number(A[a]))}),A.cellType==="image"&&(A.slot=A.prop),(A.sort||A.iconTips)&&(A.slotHead=`header-${A.prop}`),W("submit",A),R()})}return ge(()=>t.show,function(P){p.show=P,P&&(t.type==="add"?p.form=Oe("",""):(p.form=re(t.form),t.type==="copy"&&(p.form.prop="")),setTimeout(()=>{var _;return(_=f.value)==null?void 0:_.clearValidate()}))},{immediate:!0}),(P,_)=>{const A=b("el-input"),B=b("el-form-item"),a=b("el-input-number"),L=b("el-option"),x=b("el-select"),h=b("el-switch"),Y=b("el-form"),G=b("base-dialog");return r(),M(G,{modelValue:p.show,"onUpdate:modelValue":_[11]||(_[11]=N=>p.show=N),title:d.value,width:"580px",onClose:R},{footer:l(()=>[e(D(Se),{onClose:R,onSubmit:Q})]),default:l(()=>[e(Y,{ref_key:"formRef",ref:f,model:p.form,rules:m,"label-position":"right","label-width":"130px"},{default:l(()=>[e(B,{label:"表格列标题",prop:"label"},{default:l(()=>[e(A,{modelValue:p.form.label,"onUpdate:modelValue":_[0]||(_[0]=N=>p.form.label=N),clearable:"",placeholder:m.label.message},null,8,["modelValue","placeholder"])]),_:1}),e(B,{label:"表格列键值",prop:"prop"},{default:l(()=>[e(A,{modelValue:p.form.prop,"onUpdate:modelValue":_[1]||(_[1]=N=>p.form.prop=N),clearable:"",placeholder:"请输入表格列键值"},null,8,["modelValue"])]),_:1}),e(B,{label:"表格列宽度",prop:"width"},{default:l(()=>[e(a,{modelValue:p.form.width,"onUpdate:modelValue":_[2]||(_[2]=N=>p.form.width=N),class:"w-full","controls-position":"right",placeholder:"请输入表格列宽度，例如：120（默认自适应）"},null,8,["modelValue"])]),_:1}),e(B,{label:"表格列最小宽度",prop:"minWidth"},{default:l(()=>[e(a,{modelValue:p.form.minWidth,"onUpdate:modelValue":_[3]||(_[3]=N=>p.form.minWidth=N),class:"w-full","controls-position":"right",placeholder:"请输入表格列最小宽度，例如：120（默认自适应）"},null,8,["modelValue"])]),_:1}),e(B,{label:"表格列展示类型",prop:"cellType"},{default:l(()=>[e(x,{modelValue:p.form.cellType,"onUpdate:modelValue":_[4]||(_[4]=N=>p.form.cellType=N)},{default:l(()=>[(r(),S(j,null,te(I,N=>e(L,{key:N.value,value:N.value,label:N.label},null,8,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1}),p.form.cellType==="image"?(r(),S(j,{key:0},[e(B,{label:"图片宽度(像素)",prop:"imageWidth"},{default:l(()=>[e(a,{modelValue:p.form.imageWidth,"onUpdate:modelValue":_[5]||(_[5]=N=>p.form.imageWidth=N),class:"w-full","controls-position":"right",placeholder:"请输入数字（默认80px）"},null,8,["modelValue"])]),_:1}),e(B,{label:"图片高度(像素)",prop:"imageHeight"},{default:l(()=>[e(a,{modelValue:p.form.imageHeight,"onUpdate:modelValue":_[6]||(_[6]=N=>p.form.imageHeight=N),class:"w-full","controls-position":"right",placeholder:"请输入数字（默认80px）"},null,8,["modelValue"])]),_:1})],64)):T("",!0),p.form.cellType==="js"?(r(),M(B,{key:1,prop:"jsCode"},{label:l(()=>[e(D(he),{label:"js代码",tips:O})]),default:l(()=>[e(A,{modelValue:p.form.jsCode,"onUpdate:modelValue":_[7]||(_[7]=N=>p.form.jsCode=N),type:"textarea",placeholder:"请输入代码片段"},null,8,["modelValue"])]),_:1})):T("",!0),e(B,{label:"表格列排序操作",prop:"sort"},{default:l(()=>[e(x,{modelValue:p.form.sort,"onUpdate:modelValue":_[8]||(_[8]=N=>p.form.sort=N)},{default:l(()=>[(r(),S(j,null,te(J,N=>e(L,{key:N.value.toString(),value:N.value,label:N.label},null,8,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1}),e(B,{label:"内容溢出截断",prop:"tooltip"},{default:l(()=>[e(h,{modelValue:p.form.tooltip,"onUpdate:modelValue":_[9]||(_[9]=N=>p.form.tooltip=N),"inline-prompt":"","active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1}),e(B,{label:"表头图标提示文字",prop:"iconTips"},{default:l(()=>[e(A,{modelValue:p.form.iconTips,"onUpdate:modelValue":_[10]||(_[10]=N=>p.form.iconTips=N),clearable:"",placeholder:"请输入表头图标提示文字"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])}}}),ol=k("p",{class:"mgb-10"},"表格数据中的字段，例如表格数：",-1),nl=k("p",{class:"mgb-10"},"则键值可以为 id",-1),al=k("p",null,[k("i",{class:"el-icon-info el-icon--left"}),q(" 不填则没有删除功能 ")],-1),il={name:"TableDeleteConfig"},rl=ue({...il,props:{show:{type:Boolean,default:!1},selectKey:{type:String,default:""}},emits:["update:show","submit"],setup(s,{emit:c}){const t=s,W=c,p='[{ id: 1, name: "名称", status: 2 }]',d=ie({show:!1,keyword:""});function f(){W("update:show",!1)}function m(){f(),W("submit",d.keyword)}return ge(()=>t.show,function(I){d.show=I,I&&(d.keyword=t.selectKey||"")},{immediate:!0}),(I,J)=>{const O=b("el-input"),R=b("el-form-item"),Q=b("el-form"),P=b("base-dialog");return r(),M(P,{modelValue:d.show,"onUpdate:modelValue":J[1]||(J[1]=_=>d.show=_),title:"配置表格删除功能",width:"400px",onClose:f},{footer:l(()=>[e(D(Se),{onClose:f,onSubmit:m})]),default:l(()=>[e(Q,{labelPosition:"right",labelWidth:"120px"},{default:l(()=>[e(R,{label:"数据键值"},{default:l(()=>[e(O,{class:"mgb-10",modelValue:d.keyword,"onUpdate:modelValue":J[0]||(J[0]=_=>d.keyword=_),placeholder:"请输入数据键值",clearable:""},null,8,["modelValue"]),k("div",{class:"the-tag blue"},[ol,k("p",{class:"mgb-10"},ne(p)),nl,al])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),sl={class:"flex"},ul={class:"f1"},dl={class:"f-vertical w-full"},cl={class:"f-right w-full"},pl=k("i",{class:"el-icon--left el-icon-finished"},null,-1),fl=k("i",{class:"el-icon--left el-icon-plus"},null,-1),ml=["data-key","draggable","onDragstart","onDragover"],yl={key:0,class:"el-icon--left el-icon-rank"},vl=k("div",{class:"f1"},null,-1),hl=k("i",{class:"el-icon-delete"},null,-1),gl=k("i",{class:"el-icon-edit"},null,-1),bl={key:1,class:"w-full f-right"},_l=k("i",{class:"el-icon--left el-icon-plus"},null,-1),kl={name:"TableActionConfig"},wl=ue({...kl,props:{show:{type:Boolean,default:!1},list:{type:Array,required:!0},columnWidth:{type:Number},actionMax:{type:Number}},emits:["update:show","submit"],setup(s,{emit:c}){const t=s,W=c,p=_e(),d=_e(),f=ie({show:!1,list:[],index:-1,hasEdit:!1,formEdit:!1}),m=ie({btn:Te(),column:{width:160,max:3}}),I={width:{required:!0,message:"请输入表格列宽度，例如：160",trigger:"blur"},max:{required:!1,message:"请输入数量，超出用“更多”下拉展示",trigger:"blur"}},J={text:{required:!0,message:"请输入按钮文字",trigger:"blur"},click:{required:!0,message:"请输入按钮操作代码",trigger:"blur"},icon:{required:!1,message:"请输入图标 class",trigger:"blur"},type:{required:!1,message:"请选择按钮类型",trigger:"change"}};function O(){W("update:show",!1)}function R(){d.value.validate(u=>{if(!u)return;O();const{width:n,max:E}=m.column;W("submit",re(f.list),n,E)})}function Q(u){p.value.validate(n=>{if(!n)return;const E=re(m.btn);u==="add"?f.list.push(E):f.list[f.index]=m.btn,P()})}function P(){f.index=-1,m.btn=Te(),f.formEdit=!1,setTimeout(()=>{var u;return(u=p.value)==null?void 0:u.clearValidate()})}function _(u){const n=f.list[u];m.btn=JSON.parse(JSON.stringify(n)),f.index=u,f.formEdit=!0}function A(u){f.list.splice(u,1)}ge(()=>t.show,function(u){f.show=u,u&&(f.list=re(t.list),f.hasEdit=f.list.some(n=>n.key===me),f.index=-1,m.btn=Te(),m.column={width:t.columnWidth,max:t.actionMax},setTimeout(()=>{var n,E;(n=p.value)==null||n.clearValidate(),(E=d.value)==null||E.clearValidate()}))},{immediate:!0});const B=[{label:"默认（蓝色）",value:"primary"},{label:"成功（绿色）",value:"success"},{label:"警告（橙色）",value:"warning"},{label:"危险（红色）",value:"danger"},{label:"文本（灰色）",value:"info"}],a="https://element.eleme.cn/#/zh-CN/component/icon",{onDragStart:L,onDragMove:x,onDropEnd:h}=De({list:()=>f.list,key:"key"});function Y(u){if(u.key!=me&&f.list.length>1&&f.index===-1)return!0}function G(u){const n=u.text;if(ee(n,"string")){if(!n.includes("return"))return n;let E="文字配置有误";try{E=new Function("row",n)({})}catch(F){console.warn("解析按钮文字代码错误 >>",F)}return E}return ee(n,"function")?n({}):"未设置按钮"}const N=`
<p>可以输入代码片段，</p>
<p>以${oe("return")}关键字为函数标记，</p>
<p>函数第一个参数${oe("row")}是表格对象值</p>
<p>例如：${oe('return row.status === 1 ? "下架" : "上架";')}</p>
`,K=`
<p>函数代码片段，点击的时候运行</p>
<p>函数第一个参数${oe("row")}是表格对象值</p>
<p>第二个参数${oe("index")}是当前索引</p>
<p>例如：${oe("console.log(row, index);")}</p>
`,U=`
<p>可以输入代码片段，</p>
<p>以${oe("return")}关键字为函数标记，</p>
<p>函数第一个参数${oe("row")}是表格对象值</p>
<p>例如：${oe("return row.status === 1;")}返回布尔值进行判断</p>
`;return(u,n)=>{const E=b("el-text"),F=b("el-divider"),y=b("el-input-number"),v=b("el-form-item"),$=b("el-form"),o=b("el-input"),i=b("el-option"),C=b("el-select"),g=b("el-button"),X=b("el-popconfirm"),H=b("el-empty"),z=b("base-dialog");return r(),M(z,{modelValue:f.show,"onUpdate:modelValue":n[13]||(n[13]=w=>f.show=w),title:"配置操作列按钮功能",width:"880px",onClose:O},{footer:l(()=>[e(D(Se),{disabledSubmit:f.formEdit,onClose:O,onSubmit:R},null,8,["disabledSubmit"])]),default:l(()=>[k("div",sl,[k("section",ul,[e(F,{"content-position":"left","border-style":"dashed"},{default:l(()=>[e(E,{type:"info"},{default:l(()=>[q("操作列配置")]),_:1})]),_:1}),e($,{ref_key:"formColumn",ref:d,model:m.column,rules:I,labelPosition:"right",labelWidth:"128px"},{default:l(()=>[e(v,{label:"操作列宽度",prop:"width"},{default:l(()=>[e(y,{modelValue:m.column.width,"onUpdate:modelValue":n[0]||(n[0]=w=>m.column.width=w),class:"w-full","controls-position":"right",placeholder:I.width.message},null,8,["modelValue","placeholder"])]),_:1}),e(v,{label:"操作按钮限制",prop:"max"},{default:l(()=>[e(y,{modelValue:m.column.max,"onUpdate:modelValue":n[1]||(n[1]=w=>m.column.max=w),class:"w-full","controls-position":"right",min:2,placeholder:I.max.message},null,8,["modelValue","placeholder"])]),_:1})]),_:1},8,["model"]),e(F,{"content-position":"left","border-style":"dashed"},{default:l(()=>[e(E,{type:"info"},{default:l(()=>[q("操作按钮配置")]),_:1})]),_:1}),e($,{ref_key:"formBtn",ref:p,model:m.btn,rules:J,labelPosition:"right",labelWidth:"128px",class:se({"the-filter-mask":!f.formEdit}),"data-tips":"待新增或编辑操作"},{default:l(()=>[e(v,{prop:"text"},{label:l(()=>[e(D(he),{label:"按钮文字",tips:N})]),default:l(()=>[e(o,{modelValue:m.btn.text,"onUpdate:modelValue":n[2]||(n[2]=w=>m.btn.text=w),type:"textarea",placeholder:J.text.message},null,8,["modelValue","placeholder"])]),_:1}),e(v,{prop:"click"},{label:l(()=>[e(D(he),{label:"按钮功能代码",tips:K})]),default:l(()=>[e(o,{modelValue:m.btn.click,"onUpdate:modelValue":n[3]||(n[3]=w=>m.btn.click=w),type:"textarea",placeholder:"请输入代码片段"},null,8,["modelValue"])]),_:1}),e(v,{prop:"show"},{label:l(()=>[e(D(he),{label:"按钮显示条件",tips:U})]),default:l(()=>[e(o,{modelValue:m.btn.show,"onUpdate:modelValue":n[4]||(n[4]=w=>m.btn.show=w),type:"textarea",placeholder:"请输入条件代码，为空则默认显示"},null,8,["modelValue"])]),_:1}),e(v,{prop:"disabled"},{label:l(()=>[e(D(he),{label:"按钮禁用条件",tips:U})]),default:l(()=>[e(o,{modelValue:m.btn.disabled,"onUpdate:modelValue":n[5]||(n[5]=w=>m.btn.disabled=w),type:"textarea",placeholder:"请输入条件代码，为空则默认不禁用"},null,8,["modelValue"])]),_:1}),e(v,{label:"按钮图标",prop:"icon"},{default:l(()=>[k("div",dl,[e(o,{modelValue:m.btn.icon,"onUpdate:modelValue":n[6]||(n[6]=w=>m.btn.icon=w),placeholder:J.icon.message,clearable:""},null,8,["modelValue","placeholder"]),e(E,{type:"primary",style:{width:"110px","text-align":"right"}},{default:l(()=>[k("a",{href:a,target:"_blank"},"去官网复制")]),_:1})])]),_:1}),e(v,{label:"按钮类型",prop:"type"},{default:l(()=>[e(C,{modelValue:m.btn.type,"onUpdate:modelValue":n[7]||(n[7]=w=>m.btn.type=w),placeholder:J.type.message},{default:l(()=>[(r(),S(j,null,te(B,w=>e(i,{key:w.value,value:w.value,label:w.label},null,8,["value","label"])),64))]),_:1},8,["modelValue","placeholder"])]),_:1}),e(v,null,{default:l(()=>[k("div",cl,[e(g,{onClick:n[8]||(n[8]=w=>P())},{default:l(()=>[q("取 消")]),_:1}),f.index>-1?(r(),M(g,{key:0,type:"primary",plain:"",onClick:n[9]||(n[9]=w=>Q("edit"))},{default:l(()=>[pl,q(" 确认修改 ")]),_:1})):(r(),M(g,{key:1,type:"primary",plain:"",onClick:n[10]||(n[10]=w=>Q("add"))},{default:l(()=>[fl,q(" 确认新增 ")]),_:1}))])]),_:1})]),_:1},8,["model","class"])]),e(Ve,{name:"the-group",tag:"div",class:"the-curd-option-list f1"},{default:l(()=>[(r(!0),S(j,null,te(f.list,(w,ae)=>(r(),S("div",{class:se(["the-curd-option-item f-vertical",{"the-curd-selected":ae===f.index}]),key:w.key,"data-key":w.key!==D(me)?w.key:null,draggable:Y(w),onDragstart:le=>D(L)(ae),onDragover:le=>D(x)(le,ae),onDrop:n[11]||(n[11]=(...le)=>D(h)&&D(h)(...le))},[f.index===-1&&w.key!==D(me)?(r(),S("i",yl)):T("",!0),e(g,{type:w.type,link:""},{default:l(()=>[w.icon?(r(),S("i",{key:0,class:se(["el-icon--left",w.icon])},null,2)):T("",!0),q(" "+ne(G(w)),1)]),_:2},1032,["type"]),vl,w.key===D(me)?(r(),M(E,{key:1,type:"info",size:"small"},{default:l(()=>[q("编辑按钮不可删除、拖拽等操作，且处于首位")]),_:1})):(r(),S(j,{key:2},[e(X,{width:"186px",title:"是否删除该按钮功能？",onConfirm:le=>A(ae)},{reference:l(()=>[e(g,{link:"",type:"danger",disabled:f.index>-1},{default:l(()=>[hl]),_:1},8,["disabled"])]),_:2},1032,["onConfirm"]),e(g,{link:"",type:"success",onClick:le=>_(ae)},{default:l(()=>[gl]),_:2},1032,["onClick"])],64))],42,ml))),128)),f.list.length?T("",!0):(r(),M(H,{key:"empty","image-size":120,description:"请添加操作列功能按钮"})),f.formEdit?T("",!0):(r(),S("div",bl,[f.formEdit?T("",!0):(r(),M(g,{key:0,type:"primary",plain:"",onClick:n[12]||(n[12]=w=>f.formEdit=!0)},{default:l(()=>[_l,q(" 新增功能按钮 ")]),_:1}))]))]),_:1})])]),_:1},8,["modelValue"])}}}),xl={class:"the-curd-table-model the-curd-scrollbar"},Vl=["data-key","draggable","onDragstart","onDragover"],Dl=["data-head"],$l=k("i",{class:"el-icon-rank el-icon--left"},null,-1),Sl={class:"fake-table-cell operation f-vertical"},Cl=k("i",{class:"el-icon-arrow-down el-icon--right"},null,-1),Tl={class:"fake-table-cell f-vertical"},El={key:1,class:"the-tag blue"},Ml=k("div",{class:"fake-table-head fvc"},"操作",-1),Ul={class:"fake-table-cell operation fvc"},Ol=k("i",{class:"el-icon-setting"},null,-1),Nl=k("i",{class:"el-icon-delete"},null,-1),Wl={class:"fake-table-cell"},Bl={class:"f-vertical",key:"right-setting"},ql=k("i",{class:"el-icon-plus el-icon--left"},null,-1),Al={key:0},Fl=k("i",{class:"el-icon-plus el-icon--left"},null,-1),Ll={key:1},Yl={key:0,class:"the-tag blue mgl-10"},jl=k("i",{class:"el-icon--left el-icon-info"},null,-1),Jl={name:"TableModel"},Il=ue({...Jl,props:{config:{type:Object,required:!0}},emits:["action"],setup(s,{emit:c}){const t=s,W=c,p="https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",d=[{key:"edit",label:"编辑列",icon:"el-icon-edit",click(y){I("edit",y)}},{key:"copy",label:"复制列",icon:"el-icon-document-copy",click(y){I("copy",y)}},{key:"delete",label:"删除列",icon:"el-icon-delete",click(y){O(y)}}],f=ie({show:!1,type:"add",index:-1,form:void 0,keys:[]}),m=Z(()=>{const y=t.config.columns,v=[],$=[];for(let o=0;o<y.length;o++){const i=y[o];i.prop===fe?$.push(i):v.push(i)}return{drag:v,action:$}});function I(y,v){f.keys=t.config.columns.map(o=>o.prop),{add(){f.form=void 0},edit(){const o=t.config.columns[v];f.keys=f.keys.filter(i=>i!==o.prop),f.index=v,f.form=o},copy(){const o=t.config.columns[v];f.form=o}}[y](),f.type=y,f.show=!0}function J(y){const v=t.config;if(["add","copy"].includes(f.type)){const $=re(m.value.drag);$.push(y),v.columns=$.concat(m.value.action)}else v.columns[f.index]=y}function O(y){const v=m.value.drag[y];ve({title:"操作提示",content:`是否删除【${v.label}】列？`,cancelText:"取消",confirm(){const $=t.config.columns.findIndex(o=>o.prop===v.prop);t.config.columns.splice($,1)}})}const{onDragStart:R,onDragMove:Q,onDropEnd:P}=De({list:()=>t.config.columns,key:"prop",findLevel:5});function _(y){const v={};return y&&y.width&&(v.width=`${y.width}px`),y&&y.minWidth&&(v.minWidth=`${y.minWidth}px`),v}const A=Z(()=>{const y=t.config.columns;if(y.length>0&&y[y.length-1].prop===fe)return y[y.length-1]});function B(){const y=Oe(fe,"操作");y.minWidth=120,y.width=160,t.config.columns.push(y)}function a(){const y=t.config.columns;ve({title:"操作提示",content:"是否删除操作列？删除之后需要重新配置。",cancelText:"取消",confirm(){y.splice(y.length-1,1),t.config.actions=[],t.config.formEdit&&(t.config.formEdit=void 0)}})}const L=ie({show:!1,keyword:""});function x(){const y=t.config.selectKey;L.keyword=y?y.toString():"",L.show=!0}function h(y){t.config.selectKey=y}const Y=ie({show:!1,columnWidth:0,actionMax:0});function G(){Y.show=!0,Y.columnWidth=A.value.width,Y.actionMax=t.config.actionMax}function N(y,v){t.config.actions=y;const $=t.config.columns.find(o=>o.prop===fe);$.width=v}const K=ie({show:!1,form:null,type:"add"});function U(y){K.type=y,y==="add"&&t.config.formAdd&&(K.form=t.config.formAdd),y==="edit"&&t.config.formEdit&&(K.form=t.config.formEdit),K.show=!0}function u(y,v){const $=t.config,o=$.actions;function i(){const C=o.length>0&&o[0].key===me;y&&y.fields.length>0?(A.value||B(),C||o.unshift({key:me,text:"编辑",type:"success",icon:"el-icon-edit"})):C&&o.splice(0,1)}y&&(K.type==="add"?($.formAdd=y,v&&($.formEdit=re(y),i())):($.formEdit=y,v&&($.formAdd=re(y)),i())),K.show=!1,K.form=null}function n(y){switch(y){case"delete":x();break;case"add":U("add");break;case"edit":U("edit");break}}const E=Z(()=>m.value.drag.some(y=>!y.width&&!y.minWidth));function F(y){if(y==="complete"&&E.value){const v=Array.from(document.querySelectorAll(".fake-table-head")),$={};v.forEach(o=>{const i=o.dataset.head||"";i&&($[i]=Math.round(o.clientWidth))}),t.config.columns.forEach(o=>{Object.prototype.hasOwnProperty.call($,o.prop)&&(o.minWidth=$[o.prop])})}W("action",y)}return(y,v)=>{const $=b("el-empty"),o=b("el-button"),i=b("el-dropdown-item"),C=b("el-dropdown-menu"),g=b("el-dropdown"),X=b("el-tooltip"),H=b("base-table-actions"),z=b("el-text");return r(),S(j,null,[K.show?T("",!0):(r(),M(tt,{key:0,editMode:!0,config:t.config,onAction:n},null,8,["config"])),k("div",xl,[K.show?(r(),M(lt,{key:0,config:K.form,type:K.type,editMode:!0,onChange:u},null,8,["config","type"])):(r(),M(Ve,{key:1,name:"the-group",tag:"div",class:"fake-table"},{default:l(()=>[t.config.columns.length?T("",!0):(r(),M($,{key:"empty",style:{padding:"10px 40px"},"image-size":120,description:"请添加表格列"})),(r(!0),S(j,null,te(m.value.drag,(w,ae)=>(r(),S("div",{key:w.prop,"data-key":w.prop,class:"fake-table-item",draggable:m.value.drag.length>1,style:$e(_(w)),onDragstart:le=>D(R)(ae),onDragover:le=>D(Q)(le,ae),onDrop:v[0]||(v[0]=le=>D(P)())},[k("div",{class:"fake-table-head f-vertical","data-head":w.prop},[$l,e(ot,{column:w},null,8,["column"])],8,Dl),k("div",Sl,[e(g,{trigger:"click"},{dropdown:l(()=>[e(C,null,{default:l(()=>[(r(),S(j,null,te(d,le=>e(i,{key:le.key,onClick:Ce=>le.click(ae)},{default:l(()=>[k("i",{class:se(["el-icon--left",le.icon])},null,2),q(" "+ne(le.label),1)]),_:2},1032,["onClick"])),64))]),_:2},1024)]),default:l(()=>[e(o,{link:"",type:"primary"},{default:l(()=>[q(" 配置列 "),Cl]),_:1})]),_:2},1024)]),k("div",Tl,[w.cellType==="text"?(r(),S(j,{key:0},[q("文本内容")],64)):w.cellType==="js"?(r(),S("span",El,"自定义代码")):T("",!0),e(D(et),{column:w,src:p},null,8,["column"])])],44,Vl))),128)),A.value?(r(),S("div",{style:$e(_(A.value)),key:D(fe),class:"fake-table-item"},[Ml,k("div",Ul,[e(X,{effect:"dark",content:"配置【操作按钮】和【操作列】的宽度",placement:"top"},{default:l(()=>[e(o,{circle:"",plain:"",type:"primary",size:"small",onClick:v[1]||(v[1]=w=>G())},{default:l(()=>[Ol]),_:1})]),_:1}),e(o,{circle:"",plain:"",type:"danger",size:"small",onClick:v[2]||(v[2]=w=>a())},{default:l(()=>[Nl]),_:1})]),k("div",Wl,[t.config.actions.length?(r(),M(H,{key:0,row:{},index:1,actions:t.config.actions},null,8,["actions"])):(r(),M(z,{key:1,type:"info"},{default:l(()=>[q("待添加操作~")]),_:1}))])],4)):T("",!0),k("div",Bl,[k("div",null,[k("p",null,[e(o,{type:"primary",text:"",onClick:v[3]||(v[3]=w=>I("add"))},{default:l(()=>[ql,q(" 添加内容列 ")]),_:1})]),A.value?T("",!0):(r(),S("p",Al,[e(o,{type:"primary",text:"",onClick:v[4]||(v[4]=w=>B())},{default:l(()=>[Fl,q(" 添加操作列 ")]),_:1})]))])])]),_:1}))]),K.show?T("",!0):(r(),S("div",Ll,[e(D(Qe),{type:K.type,onAction:F},null,8,["type"]),E.value?(r(),S("span",Yl,[jl,q(" 当前表格列配置中存在没配置【宽度/最小宽度】，保存时将自动设置最小宽度，提高表格美观性。 ")])):T("",!0)])),e(ll,{show:f.show,"onUpdate:show":v[5]||(v[5]=w=>f.show=w),type:f.type,keys:f.keys,form:f.form,onSubmit:J},null,8,["show","type","keys","form"]),e(rl,{show:L.show,"onUpdate:show":v[6]||(v[6]=w=>L.show=w),"select-key":L.keyword,onSubmit:h},null,8,["show","select-key"]),e(wl,{show:Y.show,"onUpdate:show":v[7]||(v[7]=w=>Y.show=w),columnWidth:Y.columnWidth,actionMax:Y.actionMax,list:t.config.actions,onSubmit:N},null,8,["show","columnWidth","actionMax","list"])],64)}}}),Pl={class:"the-curd-example"},Rl={name:"Example"},Hl=ue({...Rl,props:{selected:{type:String},type:{type:String}},emits:["choose"],setup(s,{emit:c}){const t=s,W=c,p=[{...de("input"),placeholder:ce.input},{...de("select"),placeholder:ce.select},{...de("select-multiple"),placeholder:ce["select-multiple"]},{...de("cascader"),placeholder:ce.cascader},{...de("date"),placeholder:ce.date},{...de("checkbox"),options:[{label:"多选-A",value:1},{label:"多选-B",value:2}],defaultValue:[1]},{...de("radio"),options:[{label:"单选-A",value:"radio-1"},{label:"单选-B",value:"radio-2"}],defaultValue:"radio-1"},{...de("switch"),defaultValue:!0},{...de("textarea"),placeholder:ce.textarea},{...de("input-between"),placeholder:["范围区间操作","范围区间操作"]}],d=["radio","checkbox","textarea","switch"],f=Z(()=>t.type==="search"?p.filter(m=>!d.includes(m.type)):p);return(m,I)=>(r(),S("div",Pl,[(r(!0),S(j,null,te(f.value,J=>(r(),M(xe,{key:J.type,"field-data":J,class:se(["the-curd-example-item fvc",{"the-curd-selected":t.selected===J.type}]),readonly:"",onClick:O=>W("choose",J.type)},null,8,["field-data","class","onClick"]))),128))]))}}),zl={key:0,class:"the-curd-editor-content"},Kl=k("h2",{class:"the-title mgb-20"},"基础设置",-1),Gl={class:"f-vertical f-between mgb-20"},Zl=k("h2",{class:"the-title"},"第1步：点击选取组件",-1),Xl={class:"f-vertical mgb-20"},Ql={class:"the-title"},eo=k("div",{class:"f1"},null,-1),to={key:0,class:"the-curd-target-box"},lo=k("i",{class:"el-icon-question the-tips-icon mgl-10"},null,-1),oo=k("a",{href:"https://www.json.cn/",target:"_blank"}," JSON编辑工具 ",-1),no={class:"f-right"},ao=k("i",{class:"el-icon--left el-icon-plus"},null,-1),io=k("i",{class:"el-icon--left el-icon-edit"},null,-1),ro={name:"Editor"},so=ue({...ro,props:{show:{type:Boolean,default:!1},config:{type:Object,required:!0}},emits:["update:show"],setup(s,{emit:c}){const t=s,W=c;function p(){W("update:show",!1)}const d=["checkbox","radio","switch"],f=["select","select-multiple","radio","checkbox","cascader"],m=["input","textarea","select","radio"],I=["input-between","select-multiple","checkbox","cascader"],J=["input","select","radio"],O=["daterange","datetimerange"],R=J.concat(I),Q=`<p>参考 src/utils/index.ts 中的${oe("formatDate")}函数</p>`,P=`
<p>动态表单项的条件显示逻辑函数；</p>
<p>返回${oe("false")}则不展示对应项；</p>
<p>函数有一个参数：${oe("formData")}为当前表单的数据值；</p>
<p>以${oe("return")}为函数代码片段标记；</p>
<p>例如：${oe("return formData.type !== 2")}</p>
`,_=We(),A=Z(()=>_.editor.action==="add"),B=Z(()=>{let o=[];return a.formData&&a.formData.type==="date"&&(o=qe[a.formData.dateType].map((C,g)=>({label:C.text,value:g}))),o.unshift({label:"将预览组件中的值设为默认",value:-1}),o}),a=ie({step:0,formData:void 0});function L(o){a.step=o}const x={label:{required:!0,message:"请输入功能标题",trigger:"blur"},key:{required:!0,trigger:"blur",validator(o,i,C){i?v.includes(i)?C(new Error("当前键值已经被占用！")):C():C(new Error("绑定的键值不能为空"))}},format:{required:!0,message:"格式化规则不能为空",trigger:"blur"},separator:{required:!0,message:"请输入串联符号",trigger:"blur"},defaultValue:{required:!0,trigger:"blur",validator(o,i,C){const g=K();g===!0?C():C(new Error(g)),C()}},options:{required:!0,trigger:"blur",validator(o,i,C){const g=U();g===!0?C():C(new Error(g))}}},h=_e(),Y=ie({options:"",defaultValue:""});function G(o){o.type!=="date"&&(Y.defaultValue=JSON.stringify({value:o.defaultValue})),f.includes(o.type)&&(Y.options=JSON.stringify(o.options))}function N(o){var g;const i=_.editor,C=de(o,"",i.type==="search");a.formData=C,G(C),(g=h.value)==null||g.clearValidate(),L(1)}function K(){const o='输入的格式必须为 { "value": "input value" }',i=Y.defaultValue;if(!i)return o;const C=a.formData.type,g=a.formData.valueType,X=ce[C];try{const H=JSON.parse(i);if(!ee(H,"object"))return o;if(C==="switch"&&!ee(H.value,"boolean"))return`${X}的绑定值应该为 boolean 类型`;if(I.includes(C)){if(!ee(H.value,"array"))return`${X}的绑定值应该为 array 类型`;if(g==="array<number>"&&H.value.some(z=>z!==""&&!ee(z,"number")))return"数组中只能出现数字"}if(m.includes(C)&&!["string","number"].includes(Me(H.value)))return`${X}的绑定值应该为 string/number 类型`;if(C==="date"){const z=a.formData;if(O.includes(z.dateType)){if(!ee(H.value,"array"))return"范围日期绑定值应该为 array 类型"}else if(!ee(H.value,"string"))return"日期类型绑定值应该为 string 类型"}if(J.includes(C)&&g==="number"&&H.value!==""&&!ee(H.value,"number"))return`${X}的绑定值应该为 number 类型`}catch(H){return console.warn("checkDefaultValue >>",H),o}return!0}function U(){const o=Y.options;if(!o)return"选项数据不能为空！";try{const i=JSON.parse(o);if(!ee(i,"array"))return"选项数据格式不正确，需要为数组类型！";const C=a.formData,g=C.optionSetting.value||"value",X=[void 0,null];for(let H=0;H<i.length;H++){const z=i[H];if(!ee(z,"object"))return"数组项必须为对象！";if(X.includes(z[g]))return`数组项的值不能为${X.join("/")}`;if(["array<number>","number"].includes(C.valueType)&&!ee(z[g],"number")&&z[g]!=="")return"数组项的值必须为 number 类型"}return!0}catch(i){return console.warn("checkOptions >>",i),"不合法的JSON,注意使用双引号,结尾不能为逗号等"}}function u(){U()===!0&&(a.formData.options=JSON.parse(Y.options))}function n(){if(K()===!0){const i=a.formData,C=JSON.parse(Y.defaultValue).value;i.type!=="date"&&(i.defaultValue=C)}}function E(o){const i=Pe.find(g=>g.value===o),C=a.formData;C.shortcutIndex="",O.includes(i.value)?(C.value=[],C.valueType="array"):(C.value="",C.valueType="string"),C.formatShow=i.formatShow,C.format=i.format}function F(o){return/^[+-]?(\d|([1-9]\d+))(\.\d+)?$/.test(o)}function y(){var o;(o=h.value)==null||o.validate(i=>{if(mt("#the-editor-form",i),!i)return;n(),f.includes(a.formData.type)&&u();const C=_.editor,g=JSON.parse(JSON.stringify(a.formData));if(f.includes(g.type)&&u(),g.valueType||(g.valueType=Me(g.defaultValue)),f.includes(g.type)&&["number","array<number>"].includes(g.valueType)){let H=g.optionSetting.value;H||(H="value",g.optionSetting.value=H);for(let z=0;z<g.options.length;z++){const w=g.options[z],ae=w[H];if([null,void 0].includes(ae))return pe.error("数据值字段与选项数据不匹配，请检查！");if(F(ae.toString()))w[H]=Number(ae);else{const le=w[g.optionSetting.label];return pe.error(`选项数据中【${le}】的值应该为数字！`)}}}g.type==="date"&&!ee(g.shortcutIndex,"number")&&(g.value=g.valueType==="array"?[]:""),{search(H){H?t.config.search.list.push(g):t.config.search.list[C.index]=g},table(H){if(H){const z=JSON.parse(JSON.stringify(C.form.fields));z.push(g),C.form.fields=z}else{const z=JSON.parse(JSON.stringify(C.form.fields));z[C.index]=g,C.form.fields=z}}}[C.type](A.value),p()})}let v=[];function $(o){const i=_.editor;v=[],{search(){v=t.config.search.list.map(g=>g.key)},table(){v=i.form.fields.map(g=>g.key)}}[i.type](),o&&(v=v.filter(g=>g!==o))}return ge(()=>t.show,function(o){if(!o){a.formData=void 0;return}const i=_.editor;if(i.action==="add")a.step=0,a.formData=void 0,$();else{const C=i.index;({search(){a.formData=JSON.parse(JSON.stringify(t.config.search.list[C]))},table(){var X;a.formData=JSON.parse(JSON.stringify((X=i.form)==null?void 0:X.fields[C]))}})[i.type](),G(a.formData),$(a.formData.key),a.step=1}}),(o,i)=>{const C=b("el-input-number"),g=b("el-form-item"),X=b("el-switch"),H=b("el-form"),z=b("el-button"),w=b("el-input"),ae=b("el-text"),le=b("el-tooltip"),Ce=b("el-option"),Ae=b("el-select");return r(),S("section",{class:se(["the-curd-editor the-curd-scrollbar",{"is-show":t.show}])},[e(rt,{name:"the-curd-editor-move"},{default:l(()=>{var Fe;return[t.show?(r(),S("div",zl,[Kl,e(H,{"label-position":"right","label-width":"120px"},{default:l(()=>[D(_).editor.type==="search"?(r(),S(j,{key:0},[e(g,{label:"整体标题宽度"},{default:l(()=>[e(C,{modelValue:t.config.search.labelWidth,"onUpdate:modelValue":i[0]||(i[0]=V=>t.config.search.labelWidth=V),class:"w-full","controls-position":"right",placeholder:"例如：120px"},null,8,["modelValue"])]),_:1}),e(g,{label:"标题靠右对齐"},{default:l(()=>[e(X,{modelValue:t.config.search.labelRight,"onUpdate:modelValue":i[1]||(i[1]=V=>t.config.search.labelRight=V),"inline-prompt":"","active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1})],64)):T("",!0),D(_).editor.type==="table"&&D(_).editor.form?(r(),S(j,{key:1},[e(g,{label:"表单宽度"},{default:l(()=>[e(C,{modelValue:D(_).editor.form.width,"onUpdate:modelValue":i[2]||(i[2]=V=>D(_).editor.form.width=V),class:"w-full","controls-position":"right",placeholder:"请输入宽度(px)",clearable:""},null,8,["modelValue"])]),_:1}),e(g,{label:"文字宽度"},{default:l(()=>[e(C,{modelValue:D(_).editor.form.labelWidth,"onUpdate:modelValue":i[3]||(i[3]=V=>D(_).editor.form.labelWidth=V),class:"w-full","controls-position":"right",placeholder:"请输入标题宽度(px)",clearable:""},null,8,["modelValue"])]),_:1}),e(g,{label:"文字靠右排版"},{default:l(()=>[e(X,{modelValue:D(_).editor.form.labelPosition,"onUpdate:modelValue":i[4]||(i[4]=V=>D(_).editor.form.labelPosition=V),"inline-prompt":"","active-value":"right","inactive-value":"left","active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1})],64)):T("",!0)]),_:1}),a.step===0?(r(),S(j,{key:0},[k("div",Gl,[Zl,e(z,{link:"",type:"primary",onClick:i[5]||(i[5]=V=>p())},{default:l(()=>[q("退出编辑")]),_:1})]),e(Hl,{selected:(Fe=a.formData)==null?void 0:Fe.type,type:D(_).editor.type,onChoose:N},null,8,["selected","type"])],64)):T("",!0),a.step===1?(r(),S(j,{key:1},[k("div",Xl,[k("h2",Ql,"第2步：配置"+ne(D(ce)[a.formData.type]),1),eo,e(z,{link:"",type:"success",onClick:i[6]||(i[6]=V=>L(0))},{default:l(()=>[q("上一步")]),_:1}),e(z,{link:"",type:"primary",onClick:i[7]||(i[7]=V=>p())},{default:l(()=>[q("退出编辑")]),_:1})]),a.formData?(r(),S("div",to,[e(xe,{"field-data":a.formData,"edit-mode":""},null,8,["field-data"])])):T("",!0),a.formData?(r(),M(H,{key:1,id:"the-editor-form",ref_key:"formRef",ref:h,model:a.formData,rules:x,"label-position":"right","label-width":"128px"},{default:l(()=>[e(g,{label:"组件标题",prop:"label"},{default:l(()=>[e(w,{modelValue:a.formData.label,"onUpdate:modelValue":i[8]||(i[8]=V=>a.formData.label=V),clearable:"",placeholder:x.label.message},null,8,["modelValue","placeholder"])]),_:1}),e(g,{label:"绑定的键值",prop:"key"},{default:l(()=>[e(w,{modelValue:a.formData.key,"onUpdate:modelValue":i[9]||(i[9]=V=>a.formData.key=V),clearable:"",placeholder:"请输入绑定的键值"},null,8,["modelValue"])]),_:1}),e(g,{label:"标题宽度",prop:"labelWidth"},{default:l(()=>[e(C,{modelValue:a.formData.labelWidth,"onUpdate:modelValue":i[10]||(i[10]=V=>a.formData.labelWidth=V),class:"w-full","controls-position":"right",placeholder:"请输入宽度，例如：120"},null,8,["modelValue"])]),_:1}),d.includes(a.formData.type)?T("",!0):(r(),M(g,{key:0,label:"组件宽度",prop:"valueWidth"},{default:l(()=>[e(C,{modelValue:a.formData.valueWidth,"onUpdate:modelValue":i[11]||(i[11]=V=>a.formData.valueWidth=V),class:"w-full","controls-position":"right",placeholder:"请输入宽度，例如：140"},null,8,["modelValue"])]),_:1})),e(g,{label:"提示/规则文字",prop:"placeholder"},{default:l(()=>[a.formData.type==="input-between"?(r(),S(j,{key:0},[e(w,{modelValue:a.formData.placeholder[0],"onUpdate:modelValue":i[12]||(i[12]=V=>a.formData.placeholder[0]=V),class:"f1",clearable:"",placeholder:"请输入提示-1"},null,8,["modelValue"]),e(ae,{style:{padding:"0 6px"}},{default:l(()=>[q("-")]),_:1}),e(w,{modelValue:a.formData.placeholder[1],"onUpdate:modelValue":i[13]||(i[13]=V=>a.formData.placeholder[1]=V),class:"f1",clearable:"",placeholder:"请输入提示-2"},null,8,["modelValue"])],64)):(r(),M(w,{key:1,modelValue:a.formData.placeholder,"onUpdate:modelValue":i[14]||(i[14]=V=>a.formData.placeholder=V),clearable:"",placeholder:"请输入规则提示/输入框提示文字"},null,8,["modelValue"]))]),_:1}),e(g,{label:"是否必填",prop:"required"},{default:l(()=>[e(X,{modelValue:a.formData.required,"onUpdate:modelValue":i[15]||(i[15]=V=>a.formData.required=V),"inline-prompt":"","active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1}),D(R).includes(a.formData.type)?(r(),M(g,{label:"绑定值为数字类型",key:"is-number"},{default:l(()=>[I.includes(a.formData.type)?(r(),M(X,{key:0,modelValue:a.formData.valueType,"onUpdate:modelValue":i[16]||(i[16]=V=>a.formData.valueType=V),"inline-prompt":"","active-text":"是","inactive-text":"否","active-value":"array<number>","inactive-value":"array"},null,8,["modelValue"])):(r(),M(X,{key:1,modelValue:a.formData.valueType,"onUpdate:modelValue":i[17]||(i[17]=V=>a.formData.valueType=V),"inline-prompt":"","active-text":"是","inactive-text":"否","active-value":"number","inactive-value":"string"},null,8,["modelValue"])),f.includes(a.formData.type)?(r(),M(le,{key:2,effect:"dark",content:"设为数字类型之后，将会在保存时校验选项数据",placement:"top"},{default:l(()=>[lo]),_:1})):T("",!0)]),_:1})):T("",!0),a.formData.type!=="date"?(r(),M(g,{key:2,label:"组件默认值",prop:"defaultValue"},{default:l(()=>[e(w,{modelValue:Y.defaultValue,"onUpdate:modelValue":i[18]||(i[18]=V=>Y.defaultValue=V),type:"textarea",clearable:"",placeholder:"请输入JSON，值为 value",onBlur:i[19]||(i[19]=V=>n())},null,8,["modelValue"])]),_:1})):T("",!0),a.formData.type==="input-between"?(r(),M(g,{key:3,label:"串联符号",prop:"separator"},{default:l(()=>[e(w,{modelValue:a.formData.separator,"onUpdate:modelValue":i[20]||(i[20]=V=>a.formData.separator=V),clearable:"",placeholder:x.separator.message},null,8,["modelValue","placeholder"])]),_:1})):T("",!0),f.includes(a.formData.type)?(r(),S(j,{key:4},[e(g,{label:"选项数据",prop:"options"},{default:l(()=>[e(w,{modelValue:Y.options,"onUpdate:modelValue":i[21]||(i[21]=V=>Y.options=V),type:"textarea",autosize:{minRows:2,maxRows:10},placeholder:"请输入数组JSON",style:{"margin-bottom":"4px"},onBlur:i[22]||(i[22]=V=>u())},null,8,["modelValue"]),e(z,{link:"",type:"primary"},{default:l(()=>[oo]),_:1})]),_:1}),e(g,{label:"数据展示字段",prop:"optionSetting.label"},{default:l(()=>[e(w,{modelValue:a.formData.optionSetting.label,"onUpdate:modelValue":i[23]||(i[23]=V=>a.formData.optionSetting.label=V),clearable:"",placeholder:"不填则使用 label"},null,8,["modelValue"])]),_:1}),e(g,{label:"数据值字段",prop:"optionSetting.value"},{default:l(()=>[e(w,{modelValue:a.formData.optionSetting.value,"onUpdate:modelValue":i[24]||(i[24]=V=>a.formData.optionSetting.value=V),clearable:"",placeholder:"不填则使用 value"},null,8,["modelValue"])]),_:1}),a.formData.type==="cascader"?(r(),S(j,{key:0},[e(g,{label:"下级字段",prop:"optionSetting.children"},{default:l(()=>[e(w,{modelValue:a.formData.optionSetting.children,"onUpdate:modelValue":i[25]||(i[25]=V=>a.formData.optionSetting.children=V),clearable:"",placeholder:"不填则使用 children"},null,8,["modelValue"])]),_:1}),e(g,{label:"是否多选",prop:"multiple"},{default:l(()=>[e(X,{modelValue:a.formData.multiple,"onUpdate:modelValue":i[26]||(i[26]=V=>a.formData.multiple=V),"inline-prompt":"","active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1}),e(g,{label:"允许只选中某一项",prop:"checkStrictly"},{default:l(()=>[e(X,{modelValue:a.formData.checkStrictly,"onUpdate:modelValue":i[27]||(i[27]=V=>a.formData.checkStrictly=V),"inline-prompt":"","active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1})],64)):T("",!0)],64)):T("",!0),a.formData.type==="date"?(r(),S(j,{key:5},[e(g,{label:"日期类型",prop:"dateType"},{default:l(()=>[e(Ae,{modelValue:a.formData.dateType,"onUpdate:modelValue":i[28]||(i[28]=V=>a.formData.dateType=V),class:"w-full",onChange:E},{default:l(()=>[(r(!0),S(j,null,te(D(Pe),V=>(r(),M(Ce,{key:V.value,label:V.label,value:V.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(g,{label:"日期默认值",prop:"shortcutIndex"},{default:l(()=>[e(Ae,{modelValue:a.formData.shortcutIndex,"onUpdate:modelValue":i[29]||(i[29]=V=>a.formData.shortcutIndex=V),class:"w-full",placeholder:"请选择",clearable:""},{default:l(()=>[(r(!0),S(j,null,te(B.value,V=>(r(),M(Ce,{key:V.value,label:V.label,value:V.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(g,{prop:"format"},{label:l(()=>[e(D(he),{label:"格式化规则",tips:Q})]),default:l(()=>[e(w,{modelValue:a.formData.format,"onUpdate:modelValue":i[30]||(i[30]=V=>a.formData.format=V),clearable:"",placeholder:x.format.message},null,8,["modelValue","placeholder"])]),_:1})],64)):T("",!0),D(_).editor.type==="table"?(r(),M(g,{key:6,prop:"show"},{label:l(()=>[e(D(he),{label:"表单显示逻辑",tips:P})]),default:l(()=>[e(w,{modelValue:a.formData.show,"onUpdate:modelValue":i[31]||(i[31]=V=>a.formData.show=V),type:"textarea",placeholder:"请输入条件代码，为空则默认展示"},null,8,["modelValue"])]),_:1})):T("",!0),k("div",no,[e(z,{onClick:i[32]||(i[32]=V=>p())},{default:l(()=>[q("关闭")]),_:1}),A.value?(r(),M(z,{key:0,type:"primary",onClick:i[33]||(i[33]=V=>y())},{default:l(()=>[ao,q(" 新增 ")]),_:1})):(r(),M(z,{key:1,type:"success",onClick:i[34]||(i[34]=V=>y())},{default:l(()=>[io,q(" 确认 ")]),_:1}))])]),_:1},8,["model"])):T("",!0)],64)):T("",!0)])):T("",!0)]}),_:1})],2)}}}),uo={class:"the-curd-main-page"},co={key:0,class:"the-tag blue"},po=k("i",{class:"el-icon-arrow-left"},null,-1),fo=k("p",{class:"mgb-10"},"配置筛选相关功能",-1),mo=k("p",null,"配置表格相关功能",-1),yo={name:"Curd"},ko=ue({...yo,props:{data:{type:Object,required:!0},action:{type:Object,required:!0}},setup(s){const c=s,t=ie({loading:!1,editor:{show:!1,type:void 0,form:void 0,action:"add",index:-1},showEntrance:!1}),W=Z(()=>{const u=t.editor.type;return u==="search"||!u&&c.data.search.list.length>0});st(Ke,t);let p;function d(u){t.editor.type=u,t.editor.show=!1,t.editor.index=-1,t.showEntrance=!1,p={[u]:re(c.data[u])}}function f(u){const n=t.editor.type;u&&p&&(c.data[n]=p[n]),t.editor.index=-1,t.editor.show=!1,t.editor.type=void 0,t.editor.form=void 0,p=void 0}function m(){f()}function I(){je(JSON.stringify(c.data),()=>pe.success("复制成功！"))}function J(u){u==="reset"&&c.data.search.list.forEach(Be),O.pageInfo.currentPage=1,O.selectList=[],N()}const O=ie({selectList:[],data:[],pageInfo:pt(),formShow:!1,formType:"add",formLoading:!1}),R=Z(()=>c.data.table),Q=Z(()=>R.value.columns.filter(n=>n.visible).map(n=>{const E={...n};return E.cellType==="js"&&E.jsCode&&(E.rawContent=function(F,y){let v="";try{v=new Function("cellValue","row",E.jsCode)(F,y)}catch($){console.warn("解析 rawContent 代码错误 >>",$),v="-"}return v}),E})),P=Z(()=>R.value.actions.map(n=>{const E={...n};return E.key===me&&(E.click=x),E})),_=Z(()=>{const u=[],n=[];return Q.value.forEach(E=>{E.slotHead&&u.push(E.slotHead),E.slot&&n.push(E.slot)}),{head:u,cell:n}});function A(u){return R.value.columns.find(E=>E.prop===u)||{}}const B=_e(),a=Z(()=>{const u=R.value,n={title:"编辑表单",config:u.formEdit||{}};return O.formType==="add"&&(n.title="新增表单",n.config=u.formAdd||{}),n});let L=null;function x(u){u?(O.formType="edit",L=u):O.formType="add",O.formShow=!0,setTimeout(()=>{var n;return(n=B.value)==null?void 0:n.clear()}),He(()=>{var n;return L&&((n=B.value)==null?void 0:n.setFormData(L))})}function h(){var u;O.formShow=!1,(u=B.value)==null||u.reset(),L=null}function Y(){var u;(u=B.value)==null||u.validate(async(n,E)=>{if(O.formType==="add"&&c.action.onAdd){O.formLoading=!0;const F=await c.action.onAdd(n,E);if(O.formLoading=!1,F.code!==1)return;h(),N()}if(O.formType==="edit"&&c.action.onEdit){O.formLoading=!0;const F=await c.action.onEdit(n,E);if(O.formLoading=!1,F.code!==1)return;h(),N()}})}function G(u){const n=c.data.search.list,E={};for(let $=0;$<n.length;$++){const o=n[$],i=Ze(o);if(o.required&&ee(i.result,"string"))return yt(document.querySelector(`.${o.id}`)),pe.error(i.result),u&&u.key==="page"&&(O.pageInfo=u.before),null;i.result===!0&&(E[o.key]=i.value)}const F=R.value.columns,y=[],v=[];return u&&u.key==="sort"?F.forEach($=>{$.sort&&($.prop===u.prop?$.sort=u.action:$.sort=!0),$.sort==="asc"&&y.push($.prop),$.sort==="desc"&&v.push($.prop)}):F.forEach($=>{$.sort==="asc"&&y.push($.prop),$.sort==="desc"&&v.push($.prop)}),y.length&&(E.asc=y.toString()),v.length&&(E.desc=v.toString()),E}async function N(u){const n=G(u);if(!n)return;const E=JSON.parse(JSON.stringify(O.pageInfo));t.loading=!0;const F=await c.action.getTableData(n,E);t.loading=!1,F.code===1&&(O.pageInfo.total=F.data.total,O.data=F.data.list||[])}function K(u){const n=O.selectList;switch(u){case"add":x();break;case"delete":if(!n.length)return pe.error("请选择要删除的列表再进行操作~");ve({title:"操作提示",content:`是否删除选中的 ${n.length} 条数据？`,cancelText:"取消",async confirm(){c.action.onDelete?(t.loading=!0,(await c.action.onDelete(JSON.parse(JSON.stringify(O.selectList)))).code===1?(pe.success("删除成功！"),O.selectList=[],N()):t.loading=!1):pe.info("请设置 action.onDelete 删除逻辑")}});break;case"export":c.action.onExport?c.action.onExport():pe.info("请设置 action.onExport 导出逻辑");break}}function U(u){({exit:()=>f(!0),copy:I,complete:m})[u]()}return ht({formatDate:Ue,copyText:je,messageBox:ve,message:pe,jsonToPath:ft,request:vt,getData:N,state:t}),ze(function(){c.action.created&&R.value.columns.length&&c.action.created(N)}),(u,n)=>{const E=b("base-table"),F=b("base-pagination"),y=b("el-button"),v=b("el-empty"),$=b("base-dialog");return r(),S("div",uo,[k("section",{class:se([t.editor.show?"f1":"w-full"])},[W.value?(r(),M($t,{key:0,data:c.data.search,onSearch:J},null,8,["data"])):T("",!0),t.editor.type==="table"?(r(),M(Il,{key:1,config:R.value,onAction:U},null,8,["config"])):t.editor.type==="search"?(r(),M(D(Qe),{key:2,onAction:U})):(r(),S(j,{key:3},[R.value.columns.length>0?(r(),S(j,{key:0},[e(tt,{config:R.value,disabled:t.loading,onAction:K},{default:l(()=>[R.value.selectKey?(r(),S("span",co," 已选择 "+ne(O.selectList.length)+" 条数据 ",1)):T("",!0)]),_:1},8,["config","disabled"]),e(E,{"select-list":O.selectList,"onUpdate:selectList":n[1]||(n[1]=o=>O.selectList=o),data:O.data,columns:Q.value,actions:P.value,actionMax:R.value.actionMax,loading:t.loading,"select-key":R.value.selectKey},Ee({_:2},[te(_.value.head,o=>({name:o,fn:l(({$index:i})=>[e(ot,{column:Q.value[R.value.selectKey?i-1:i],onSort:n[0]||(n[0]=(C,g)=>N({key:"sort",prop:C,action:g}))},null,8,["column"])])})),te(_.value.cell,o=>({name:o,fn:l(({row:i})=>[e(D(et),{column:A(o),src:i[o],previewList:_.value.cell.map(C=>i[C])},null,8,["column","src","previewList"])])}))]),1032,["select-list","data","columns","actions","actionMax","loading","select-key"]),e(F,{disabled:t.loading,pageInfo:O.pageInfo,onChange:n[2]||(n[2]=o=>N({key:"page",...o}))},null,8,["disabled","pageInfo"])],64)):(r(),M(v,{key:1,description:"当前页面没有表格配置数据，请配置后再操作~"},{default:l(()=>[e(y,{type:"primary",onClick:n[3]||(n[3]=o=>d("table"))},{default:l(()=>[q("去配置")]),_:1})]),_:1}))],64))],2),e(so,{show:t.editor.show,"onUpdate:show":n[4]||(n[4]=o=>t.editor.show=o),config:c.data},null,8,["show","config"]),e($,{modelValue:O.formShow,"onUpdate:modelValue":n[7]||(n[7]=o=>O.formShow=o),title:a.value.title,width:D(ke)(a.value.config.width),onClose:n[8]||(n[8]=o=>h())},{footer:l(()=>[e(D(Se),{loading:O.formLoading,onClose:n[5]||(n[5]=o=>h()),onSubmit:n[6]||(n[6]=o=>Y())},null,8,["loading"])]),default:l(()=>[e(lt,{ref_key:"formRef",ref:B,config:a.value.config,type:O.formType,disabled:O.formLoading},null,8,["config","type","disabled"])]),_:1},8,["modelValue","title","width"]),!t.showEntrance&&!t.editor.type?(r(),M(y,{key:0,class:"the-curd-entrance",type:"primary",size:"small",onClick:n[9]||(n[9]=o=>t.showEntrance=!0)},{default:l(()=>[po]),_:1})):T("",!0),e($,{modelValue:t.showEntrance,"onUpdate:modelValue":n[13]||(n[13]=o=>t.showEntrance=o),title:"请选择配置操作",width:"600px"},{footer:l(()=>[e(y,{onClick:n[12]||(n[12]=o=>t.showEntrance=!1)},{default:l(()=>[q("关 闭")]),_:1})]),default:l(()=>[k("div",{class:"the-curd-entrance-item",onClick:n[10]||(n[10]=o=>d("search"))},[fo,e(D(Ct))]),k("div",{class:"the-curd-entrance-item",onClick:n[11]||(n[11]=o=>d("table"))},[mo,e(D(Tt))])]),_:1},8,["modelValue"])])}}});export{ko as _,Oe as a,me as b,fe as c,de as g};
