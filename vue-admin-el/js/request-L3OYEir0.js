import{g as m}from"./common-cxBauMBq.js";import{a as _}from"./index-Cw8pUpDv.js";import{d as u,r as g,h as n,y as a,p as f,c as h,D as v,l as y,q as x,t as b,x as w,b as l,J as V,j as o,e as k}from"./element-plus-B95ogeqs.js";const C={class:"page-request"},D=a("h2",{class:"the-title is-line mb-[30px]"},"Http 请求示例，当前页面配置路由缓存",-1),$={class:"flex"},N={key:0,class:"mb-[20px]"},B=["value"],q={name:"example-request"},z=u({...q,setup(J){const e=g({city:"广州",loading:!1,showTable:!0,content:"",desc:"",error:!1});async function i(){if(!e.city)return _.warning("请输入城市名");e.loading=!0;const s=await m(e.city);if(e.loading=!1,console.log("获取天气预报数据 >>",s),s.code===1){const t=s.data;e.content=JSON.stringify(t,void 0,4),e.error=!!t.errcode,e.error?e.desc=t.errmsg:e.desc=`${t.week} > ${t.wea} > ${t.win} > 最低温度 ${t.tem_night}° > 最高温度 ${t.tem_day}°`}}return(s,t)=>{const c=l("el-input"),d=l("el-button"),p=V("ripple");return o(),n("div",C,[D,a("div",$,[h(c,{class:"mb-[20px] short-input",modelValue:e.city,"onUpdate:modelValue":t[0]||(t[0]=r=>e.city=r),placeholder:"请输入城市名"},null,8,["modelValue"]),v((o(),y(d,{type:"primary",onClick:t[1]||(t[1]=r=>i()),disabled:e.loading},{default:x(()=>[k("获取天气数据")]),_:1},8,["disabled"])),[[p]])]),e.desc?(o(),n("div",N,[a("span",{class:w(["the-tag",e.error?"red":"green"])},b(e.desc),3)])):f("",!0),a("textarea",{cols:"60",rows:"30",value:e.content},null,8,B)])}}});export{z as default};
