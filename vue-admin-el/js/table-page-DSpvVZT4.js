import{L as I,S as y,d as S,g as B,f as v,r as w}from"./index-Ma2Ot4Hv.js";import{d as m,f as x,l as C,j as u,q as g,c as l,u as i,v as P,s as k,z,B as L,aB as W,r as q,h as A,b as h}from"./element-plus-HQxsU011.js";const F={name:"SearchHeader"},T=m({...F,props:{loading:Boolean,labelWidth:String,searchInfo:{type:Object,required:!0},list:{type:Array,required:!0}},emits:["search"],setup(f,{emit:r}){const n=f,e=r,c=x(()=>n.list.filter(a=>a.type==="slot").map(a=>a.slotName));function d(a){e("search",a)}return(a,p)=>(u(),C(i(S),{"label-width":n.labelWidth},{right:g(()=>[l(i(y),{loading:n.loading,onSearch:d},null,8,["loading"])]),default:g(()=>[l(i(I),{type:"search",data:n.searchInfo,list:n.list},P({_:2},[k(c.value,o=>({name:o,fn:g(t=>[z(a.$slots,o,L(W(t)))])}))]),1032,["data","list"])]),_:3},8,["label-width"]))}}),$={class:"the-common-table-page"},N=m({__name:"table-page",setup(f){function r(){return{}}const n=[{label:"查询名称",prop:"keyword",type:"input",placeholder:"请输入查询关键字"},{label:"日期范围",prop:"date",type:"date",dateType:"datetimerange",bind:["start","end"],placeholder:"请选择日期",class:"date-input"}],e=q({loading:!1,data:[],pageInfo:B(),searchFields:n,searchInfo:r()}),c=[{title:"名称",prop:"name",minWidth:180},{title:"日期",prop:"date",width:180},{title:"操作",prop:"action-right",width:140}],d=[{text:"编辑",icon:"el-icon-edit"},{text:"删除",icon:"el-icon-delete",type:"danger"}],a=Array.from({length:62}).map((t,s)=>({id:s+1,name:w(2,40),date:v()}));async function p(){const t=e.pageInfo.pageSize,s=e.pageInfo.currentPage;e.data=a.slice((s-1)*t,s*t),e.pageInfo.total=a.length}function o(t){t&&(e.searchInfo=r()),e.pageInfo.currentPage=1,p()}return o(),(t,s)=>{const _=h("base-table"),b=h("base-pagination");return u(),A("div",$,[l(i(T),{"search-info":e.searchInfo,list:e.searchFields,loading:e.loading,onSearch:o},null,8,["search-info","list","loading"]),l(_,{class:"f1",columns:c,data:e.data,actions:d,loading:e.loading},null,8,["data","loading"]),l(b,{disabled:e.loading,"page-info":e.pageInfo,onChange:p},null,8,["disabled","page-info"])])}}});export{N as default};
