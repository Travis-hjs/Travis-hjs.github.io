import{S as I,L as y,d as S,g as v,r as w,f as x}from"./index-BJMT5LRl.js";import{d as m,f as B,h as u,k,p as g,c as r,u as l,v as C,q as P,z,A,aB as L,r as W,b as h,j as q}from"./element-plus-NAGYBpZz.js";const F={name:"SearchHeader"},T=m({...F,props:{loading:Boolean,labelWidth:String,searchInfo:{type:Object,required:!0},list:{type:Array,required:!0}},emits:["search"],setup(f,{emit:i}){const n=f,e=i,c=B(()=>n.list.filter(a=>a.type==="slot").map(a=>a.slotName));function d(a){e("search",a)}return(a,p)=>(u(),k(l(S),{"label-width":n.labelWidth},{right:g(()=>[r(l(I),{loading:n.loading,onSearch:d},null,8,["loading"])]),default:g(()=>[r(l(y),{type:"search",data:n.searchInfo,list:n.list},C({_:2},[P(c.value,o=>({name:o,fn:g(t=>[z(a.$slots,o,A(L(t)))])}))]),1032,["data","list"])]),_:3},8,["label-width"]))}}),$={class:"the-common-table-page"},N=m({__name:"table-page",setup(f){function i(){return{}}const n=[{label:"查询名称",prop:"keyword",type:"input",placeholder:"请输入查询关键字"},{label:"日期范围",prop:"date",type:"date",dateType:"datetimerange",bind:["start","end"],placeholder:"请选择日期",class:"date-input"}],e=W({loading:!1,data:[],pageInfo:v(),searchFields:n,searchInfo:i()}),c=[{title:"名称",prop:"name",minWidth:180},{title:"日期",prop:"date",width:180},{title:"操作",prop:"action-right",width:140}],d=[{text:"编辑",icon:"el-icon-edit"},{text:"删除",icon:"el-icon-delete",type:"danger"}],a=Array.from({length:62}).map((t,s)=>({id:s+1,name:w(2,40),date:x()}));async function p(){const t=e.pageInfo.pageSize,s=e.pageInfo.currentPage;e.data=a.slice((s-1)*t,s*t),e.pageInfo.total=a.length}function o(t){t&&(e.searchInfo=i()),e.pageInfo.currentPage=1,p()}return o(),(t,s)=>{const _=h("base-table"),b=h("base-pagination");return u(),q("div",$,[r(l(T),{"search-info":e.searchInfo,list:e.searchFields,loading:e.loading,onSearch:o},null,8,["search-info","list","loading"]),r(_,{class:"f1",columns:c,data:e.data,actions:d,loading:e.loading},null,8,["data","loading"]),r(b,{disabled:e.loading,"page-info":e.pageInfo,onChange:p},null,8,["disabled","page-info"])])}}});export{N as default};
