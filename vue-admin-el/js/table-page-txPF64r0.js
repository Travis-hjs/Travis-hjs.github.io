import{g as y,f as I,r as S}from"./index-CEK233na.js";import{_ as w}from"./index.vue_vue_type_style_index_0_lang-BPJps2RK.js";import{S as v,a as x}from"./index-DU6CGFct.js";import{h,s as k,j as z,e as u,f as g,c as r,u as i,az as B,y as C,m as P,z as A,aA as W,r as $,d as F,b as m}from"./element-plus-x0cfZ0jw.js";const L={name:"SearchHeader"},j=h({...L,props:{loading:Boolean,labelWidth:String,searchInfo:{type:Object,required:!0},list:{type:Array,required:!0}},emits:["search"],setup(f,{emit:l}){const t=f,e=l,c=k(()=>t.list.filter(a=>a.type==="slot").map(a=>a.slotName));function d(a){e("search",a)}return(a,p)=>(u(),z(i(x),{"label-width":t.labelWidth},{right:g(()=>[r(i(v),{loading:t.loading,onSearch:d},null,8,["loading"])]),default:g(()=>[r(i(w),{type:"search",data:t.searchInfo,list:t.list},B({_:2},[C(c.value,s=>({name:s,fn:g(n=>[P(a.$slots,s,A(W(n)))])}))]),1032,["data","list"])]),_:3},8,["label-width"]))}}),q={class:"the-common-table-page"},O=h({__name:"table-page",setup(f){function l(){return{keyword:"",status:""}}const t=[{label:"查询名称",prop:"keyword",type:"input",placeholder:"请输入查询关键字"}],e=$({loading:!1,data:[],pageInfo:y(),searchFields:t,searchInfo:l()}),c=[{title:"名称",prop:"name",minWidth:180},{title:"日期",prop:"date",width:180},{title:"操作",prop:"action-right",width:140}],d=[{text:"编辑",icon:"el-icon-edit"},{text:"删除",icon:"el-icon-delete",type:"danger"}],a=Array.from({length:62}).map((n,o)=>({id:o+1,name:S(2,40),date:I()}));async function p(){const n=e.pageInfo.pageSize,o=e.pageInfo.currentPage;e.data=a.slice((o-1)*n,o*n),e.pageInfo.total=a.length}function s(n){e.pageInfo.currentPage=1,p()}return s(),(n,o)=>{const _=m("base-table"),b=m("base-pagination");return u(),F("div",q,[r(i(j),{"search-info":e.searchInfo,list:e.searchFields,loading:e.loading,onSearch:o[0]||(o[0]=D=>s())},null,8,["search-info","list","loading"]),r(_,{class:"f1",columns:c,data:e.data,actions:d,loading:e.loading},null,8,["data","loading"]),r(b,{disabled:e.loading,"page-info":e.pageInfo,onChange:p},null,8,["disabled","page-info"])])}}});export{O as default};
