import{g as p}from"./common-BgGYdCts.js";import{a as u}from"./index-Do5i4g6P.js";import{d as i,G as g,r as n,x as f,o as a,b as l,e as o,i as v,m as h,c as y,j as b,t as w,n as x,l as V,B as k}from"./vendor-BsZAJIoU.js";const C={class:"page-request"},$=o("h2",{class:"the-title mgb_30"},"Http 请求示例，当前页面配置路由缓存",-1),B={class:"flex"},D={key:0,class:"mgb_20"},N=["value"],q=i({name:"example-request"}),E=i({...q,setup(S){const e=g({city:"广州",loading:!1,showTable:!0,content:"",desc:"",error:!1});async function c(){if(!e.city)return u.warning("请输入城市名");e.loading=!0;const s=await p(e.city);if(e.loading=!1,console.log("获取天气预报数据 >>",s),s.code===1){const t=s.data;e.content=JSON.stringify(t,void 0,4),e.error=!!t.errcode,e.error?e.desc=t.errmsg:e.desc=`${t.week} > ${t.wea} > ${t.win} > 最低温度 ${t.tem_night}° > 最高温度 ${t.tem_day}°`}}return(s,t)=>{const d=n("el-input"),_=n("el-button"),m=f("ripple");return a(),l("div",C,[$,o("div",B,[v(d,{class:"mgb_20 short-input",modelValue:e.city,"onUpdate:modelValue":t[0]||(t[0]=r=>e.city=r),placeholder:"请输入城市名"},null,8,["modelValue"]),h((a(),y(_,{type:"primary",onClick:t[1]||(t[1]=r=>c()),disabled:e.loading},{default:b(()=>[k("获取天气数据")]),_:1},8,["disabled"])),[[m]])]),e.desc?(a(),l("div",D,[o("span",{class:x(["the-tag",e.error?"red":"green"])},w(e.desc),3)])):V("",!0),o("textarea",{cols:"60",rows:"30",value:e.content},null,8,N)])}}});export{E as default};
