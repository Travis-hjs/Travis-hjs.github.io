import{d as E,r as F,j as p,b as r,e as y,f as w,i as e,t as f,u as R,c as t,g as s,aw as x,C as _,F as z,z as B}from"./element-plus-aV8Wyvhb.js";import{s as D,o as K,j as U,m as q}from"./index-CZx0nOyC.js";import{l as M}from"./common-DUEQLImX.js";import{v as P}from"./dom-vtHEqTVj.js";const T={class:"login-page"},A={class:"content"},G={class:"title"},J={class:"form-box"},O={class:"login-form"},X=e("div",{class:"login-title"},"平台登录",-1),$=e("i",{class:"el-icon-user"},null,-1),H=e("i",{class:"el-icon-key"},null,-1),Q={class:"w100"},W={class:"f1"},Y={class:"the-tag gray"},g="login-info",Z="Copyright © Travis-hjs.github.io All Rights Reserved 请使用 Google Chrome、Microsoft Edge、360浏览器、非 IE 等浏览器",le=E({__name:"login",setup(ee){const V=["admin","normal"],k=D.projectInfo,o=F({account:"",password:""}),u={account:[{required:!0,message:"请输入手机号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},i=p(!1);function C(a){o.account=a,o.password=Math.random().toString(36).substr(2),c()}const v=p();function c(){v.value.validate(async function(a){if(P("#the-form",a),!a)return;i.value=!0;const n=await M(o);i.value=!1,n.code===1&&(I(),K())})}const d=p(!1);function I(){d.value?localStorage.setItem(g,JSON.stringify({remember:!0,...o})):localStorage.removeItem(g)}function L(){const a=U(localStorage.getItem(g));d.value=!!a.remember,q(o,a)}return L(),(a,n)=>{const h=r("el-input"),m=r("el-form-item"),b=r("el-button"),N=r("el-checkbox"),S=r("el-form");return y(),w("div",T,[e("div",A,[e("div",G,[e("span",null,f(R(k).name),1)]),e("div",J,[e("div",O,[X,t(S,{ref_key:"theForm",ref:v,id:"the-form",size:"large",model:o,rules:u,"status-icon":""},{default:s(()=>[t(m,{prop:"account"},{default:s(()=>[t(h,{modelValue:o.account,"onUpdate:modelValue":n[0]||(n[0]=l=>o.account=l),placeholder:u.account[0].message,clearable:"",type:"text",onKeyup:x(c,["enter","native"])},{prefix:s(()=>[$]),_:1},8,["modelValue","placeholder"])]),_:1}),t(m,{prop:"password"},{default:s(()=>[t(h,{modelValue:o.password,"onUpdate:modelValue":n[1]||(n[1]=l=>o.password=l),placeholder:u.password[0].message,clearable:"",type:"password","show-password":!0,onKeyup:x(c,["enter","native"])},{prefix:s(()=>[H]),_:1},8,["modelValue","placeholder"])]),_:1}),t(m,{prop:""},{default:s(()=>[e("div",Q,[t(b,{type:"primary",class:"w100",loading:i.value,onClick:c},{default:s(()=>[_("立即登录")]),_:1},8,["loading"])]),t(N,{modelValue:d.value,"onUpdate:modelValue":n[2]||(n[2]=l=>d.value=l),size:"large"},{default:s(()=>[_("记住账号/密码")]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]),(y(),w(z,null,B(V,(l,j)=>e("div",{class:"mgb-10 w100 f-vertical",key:j},[e("div",W,[e("span",Y,"账号: "+f(l)+"; 密码: 随便填",1)]),t(b,{type:"primary",plain:"",disabled:i.value,onClick:oe=>C(l)},{default:s(()=>[_("一键登录")]),_:2},1032,["disabled","onClick"])])),64))])]),e("div",{class:"bottom-text"},f(Z))])])}}});export{le as default};
