import{d as B,G as E,f as p,r,o as b,b as w,e,t as f,u as F,i as t,j as s,S as x,B as _,F as R,y as D}from"./vendor-BsZAJIoU.js";import{s as K,v as U,o as q,j as z,m as G}from"./index-Do5i4g6P.js";import{l as M}from"./common-BgGYdCts.js";const P={class:"login-page"},T={class:"content"},A={class:"title"},J={class:"form-box"},O={class:"login-form"},X=e("div",{class:"login-title"},"平台登录",-1),$=e("i",{class:"el-icon-user"},null,-1),H=e("i",{class:"el-icon-key"},null,-1),Q={class:"w100"},W={class:"f1"},Y={class:"the-tag gray"},g="login-info",Z="Copyright © Travis-hjs.github.io All Rights Reserved 请使用 Google Chrome、Microsoft Edge、360浏览器、非 IE 等浏览器",ne=B({__name:"login",setup(ee){const V=["admin","normal"],k=K.projectInfo,o=E({account:"",password:""}),u={account:[{required:!0,message:"请输入手机号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},i=p(!1);function C(a){o.account=a,o.password=Math.random().toString(36).substr(2),c()}const v=p();function c(){v.value.validate(async function(a){if(U("#the-form",a),!a)return;i.value=!0;const n=await M(o);i.value=!1,n.code===1&&(I(),q())})}const d=p(!1);function I(){d.value?localStorage.setItem(g,JSON.stringify({remember:!0,...o})):localStorage.removeItem(g)}function S(){const a=z(localStorage.getItem(g));d.value=!!a.remember,G(o,a)}return S(),(a,n)=>{const h=r("el-input"),m=r("el-form-item"),y=r("el-button"),L=r("el-checkbox"),N=r("el-form");return b(),w("div",P,[e("div",T,[e("div",A,[e("span",null,f(F(k).name),1)]),e("div",J,[e("div",O,[X,t(N,{ref_key:"theForm",ref:v,id:"the-form",size:"large",model:o,rules:u,"status-icon":""},{default:s(()=>[t(m,{prop:"account"},{default:s(()=>[t(h,{modelValue:o.account,"onUpdate:modelValue":n[0]||(n[0]=l=>o.account=l),placeholder:u.account[0].message,clearable:"",type:"text",onKeyup:x(c,["enter","native"])},{prefix:s(()=>[$]),_:1},8,["modelValue","placeholder"])]),_:1}),t(m,{prop:"password"},{default:s(()=>[t(h,{modelValue:o.password,"onUpdate:modelValue":n[1]||(n[1]=l=>o.password=l),placeholder:u.password[0].message,clearable:"",type:"password","show-password":!0,onKeyup:x(c,["enter","native"])},{prefix:s(()=>[H]),_:1},8,["modelValue","placeholder"])]),_:1}),t(m,{prop:""},{default:s(()=>[e("div",Q,[t(y,{type:"primary",class:"w100",loading:i.value,onClick:c},{default:s(()=>[_("立即登录")]),_:1},8,["loading"])]),t(L,{modelValue:d.value,"onUpdate:modelValue":n[2]||(n[2]=l=>d.value=l),size:"large"},{default:s(()=>[_("记住账号/密码")]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]),(b(),w(R,null,D(V,(l,j)=>e("div",{class:"mgb_10 w100 fvertical",key:j},[e("div",W,[e("span",Y,"账号: "+f(l)+"; 密码: 随便填",1)]),t(y,{type:"primary",plain:"",disabled:i.value,onClick:oe=>C(l)},{default:s(()=>[_("一键登录")]),_:2},1032,["disabled","onClick"])])),64))])]),e("div",{class:"bottom-text"},f(Z))])])}}});export{ne as default};
