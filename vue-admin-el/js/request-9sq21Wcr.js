import{a as m,x as u}from"./index-C_bH1vCy.js";import{f as _,r as f,h as r,p as a,j as g,c as v,G as y,k as x,m as b,t as w,n as h,b as i,ax as k,i as o,d as V}from"./element-plus-q5-fTtZa.js";const C={class:"page-request"},$={class:"flex"},D={key:0,class:"mb-[20px]"},N=["value"],T=_({__name:"request",setup(B){const t=f({city:"广州",loading:!1,showTable:!0,content:"",desc:"",error:!1});async function l(){if(!t.city)return m.warning("请输入城市名");t.loading=!0;const s=await u(t.city);if(t.loading=!1,console.log("获取天气预报数据 >>",s),s.code===1){const e=s.data;t.content=JSON.stringify(e,void 0,4),t.error=!!e.errcode,t.error?t.desc=e.errmsg:t.desc=`${e.week} > ${e.wea} > ${e.win} > 最低温度 ${e.tem_night}° > 最高温度 ${e.tem_day}°`}}return(s,e)=>{const c=i("el-input"),d=i("el-button"),p=k("ripple");return o(),r("div",C,[e[3]||(e[3]=a("h2",{class:"the-title is-line mb-[30px]"},"Http 请求示例，当前页面配置路由缓存",-1)),a("div",$,[v(c,{class:"mb-[20px] short-input",modelValue:t.city,"onUpdate:modelValue":e[0]||(e[0]=n=>t.city=n),placeholder:"请输入城市名"},null,8,["modelValue"]),y((o(),x(d,{type:"primary",onClick:e[1]||(e[1]=n=>l()),disabled:t.loading},{default:b(()=>[...e[2]||(e[2]=[V("获取天气数据",-1)])]),_:1},8,["disabled"])),[[p]])]),t.desc?(o(),r("div",D,[a("span",{class:h(["the-tag",t.error?"red":"green"])},w(t.desc),3)])):g("",!0),a("textarea",{cols:"60",rows:"30",value:t.content},null,8,N)])}}});export{T as default};
